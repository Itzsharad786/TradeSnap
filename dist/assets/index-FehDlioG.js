var qq=Object.defineProperty;var zq=(t,e,n)=>e in t?qq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var b_=(t,e,n)=>zq(t,typeof e!="symbol"?e+"":e,n);function Hq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ia(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C_={exports:{}},id={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI;function Gq(){if(wI)return id;wI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return id.Fragment=e,id.jsx=n,id.jsxs=n,id}var bI;function $q(){return bI||(bI=1,C_.exports=Gq()),C_.exports}var M=$q(),x_={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI;function Kq(){if(CI)return Oe;CI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function N(j,ae,me){this.props=j,this.context=ae,this.refs=x,this.updater=me||S}N.prototype.isReactComponent={},N.prototype.setState=function(j,ae){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ae,"setState")},N.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=N.prototype;function k(j,ae,me){this.props=j,this.context=ae,this.refs=x,this.updater=me||S}var H=k.prototype=new B;H.constructor=k,b(H,N.prototype),H.isPureReactComponent=!0;var F=Array.isArray;function G(){}var P={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function L(j,ae,me){var ve=me.ref;return{$$typeof:t,type:j,key:ae,ref:ve!==void 0?ve:null,props:me}}function z(j,ae){return L(j.type,ae,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function $(j){var ae={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(me){return ae[me]})}var q=/\/+/g;function Ce(j,ae){return typeof j=="object"&&j!==null&&j.key!=null?$(""+j.key):ae.toString(36)}function qe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(G,G):(j.status="pending",j.then(function(ae){j.status==="pending"&&(j.status="fulfilled",j.value=ae)},function(ae){j.status==="pending"&&(j.status="rejected",j.reason=ae)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ee(j,ae,me,ve,Ie){var Ne=typeof j;(Ne==="undefined"||Ne==="boolean")&&(j=null);var He=!1;if(j===null)He=!0;else switch(Ne){case"bigint":case"string":case"number":He=!0;break;case"object":switch(j.$$typeof){case t:case e:He=!0;break;case h:return He=j._init,ee(He(j._payload),ae,me,ve,Ie)}}if(He)return Ie=Ie(j),He=ve===""?"."+Ce(j,0):ve,F(Ie)?(me="",He!=null&&(me=He.replace(q,"$&/")+"/"),ee(Ie,ae,me,"",function(ke){return ke})):Ie!=null&&(U(Ie)&&(Ie=z(Ie,me+(Ie.key==null||j&&j.key===Ie.key?"":(""+Ie.key).replace(q,"$&/")+"/")+He)),ae.push(Ie)),1;He=0;var Mt=ve===""?".":ve+":";if(F(j))for(var oe=0;oe<j.length;oe++)ve=j[oe],Ne=Mt+Ce(ve,oe),He+=ee(ve,ae,me,Ne,Ie);else if(oe=A(j),typeof oe=="function")for(j=oe.call(j),oe=0;!(ve=j.next()).done;)ve=ve.value,Ne=Mt+Ce(ve,oe++),He+=ee(ve,ae,me,Ne,Ie);else if(Ne==="object"){if(typeof j.then=="function")return ee(qe(j),ae,me,ve,Ie);throw ae=String(j),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return He}function ce(j,ae,me){if(j==null)return j;var ve=[],Ie=0;return ee(j,ve,"","",function(Ne){return ae.call(me,Ne,Ie++)}),ve}function he(j){if(j._status===-1){var ae=j._result;ae=ae(),ae.then(function(me){(j._status===0||j._status===-1)&&(j._status=1,j._result=me)},function(me){(j._status===0||j._status===-1)&&(j._status=2,j._result=me)}),j._status===-1&&(j._status=0,j._result=ae)}if(j._status===1)return j._result.default;throw j._result}var Ee=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ve={map:ce,forEach:function(j,ae,me){ce(j,function(){ae.apply(this,arguments)},me)},count:function(j){var ae=0;return ce(j,function(){ae++}),ae},toArray:function(j){return ce(j,function(ae){return ae})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Oe.Activity=m,Oe.Children=Ve,Oe.Component=N,Oe.Fragment=n,Oe.Profiler=i,Oe.PureComponent=k,Oe.StrictMode=r,Oe.Suspense=c,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return P.H.useMemoCache(j)}},Oe.cache=function(j){return function(){return j.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(j,ae,me){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ve=b({},j.props),Ie=j.key;if(ae!=null)for(Ne in ae.key!==void 0&&(Ie=""+ae.key),ae)!D.call(ae,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ae.ref===void 0||(ve[Ne]=ae[Ne]);var Ne=arguments.length-2;if(Ne===1)ve.children=me;else if(1<Ne){for(var He=Array(Ne),Mt=0;Mt<Ne;Mt++)He[Mt]=arguments[Mt+2];ve.children=He}return L(j.type,Ie,ve)},Oe.createContext=function(j){return j={$$typeof:a,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Oe.createElement=function(j,ae,me){var ve,Ie={},Ne=null;if(ae!=null)for(ve in ae.key!==void 0&&(Ne=""+ae.key),ae)D.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ie[ve]=ae[ve]);var He=arguments.length-2;if(He===1)Ie.children=me;else if(1<He){for(var Mt=Array(He),oe=0;oe<He;oe++)Mt[oe]=arguments[oe+2];Ie.children=Mt}if(j&&j.defaultProps)for(ve in He=j.defaultProps,He)Ie[ve]===void 0&&(Ie[ve]=He[ve]);return L(j,Ne,Ie)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:u,render:j}},Oe.isValidElement=U,Oe.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:he}},Oe.memo=function(j,ae){return{$$typeof:d,type:j,compare:ae===void 0?null:ae}},Oe.startTransition=function(j){var ae=P.T,me={};P.T=me;try{var ve=j(),Ie=P.S;Ie!==null&&Ie(me,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(G,Ee)}catch(Ne){Ee(Ne)}finally{ae!==null&&me.types!==null&&(ae.types=me.types),P.T=ae}},Oe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Oe.use=function(j){return P.H.use(j)},Oe.useActionState=function(j,ae,me){return P.H.useActionState(j,ae,me)},Oe.useCallback=function(j,ae){return P.H.useCallback(j,ae)},Oe.useContext=function(j){return P.H.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j,ae){return P.H.useDeferredValue(j,ae)},Oe.useEffect=function(j,ae){return P.H.useEffect(j,ae)},Oe.useEffectEvent=function(j){return P.H.useEffectEvent(j)},Oe.useId=function(){return P.H.useId()},Oe.useImperativeHandle=function(j,ae,me){return P.H.useImperativeHandle(j,ae,me)},Oe.useInsertionEffect=function(j,ae){return P.H.useInsertionEffect(j,ae)},Oe.useLayoutEffect=function(j,ae){return P.H.useLayoutEffect(j,ae)},Oe.useMemo=function(j,ae){return P.H.useMemo(j,ae)},Oe.useOptimistic=function(j,ae){return P.H.useOptimistic(j,ae)},Oe.useReducer=function(j,ae,me){return P.H.useReducer(j,ae,me)},Oe.useRef=function(j){return P.H.useRef(j)},Oe.useState=function(j){return P.H.useState(j)},Oe.useSyncExternalStore=function(j,ae,me){return P.H.useSyncExternalStore(j,ae,me)},Oe.useTransition=function(){return P.H.useTransition()},Oe.version="19.2.0",Oe}var xI;function kc(){return xI||(xI=1,x_.exports=Kq()),x_.exports}var R=kc();const nO=Ia(R),jq=Hq({__proto__:null,default:nO},[R]);var I_={exports:{}},od={},R_={exports:{}},P_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II;function Yq(){return II||(II=1,(function(t){function e(ee,ce){var he=ee.length;ee.push(ce);e:for(;0<he;){var Ee=he-1>>>1,Ve=ee[Ee];if(0<i(Ve,ce))ee[Ee]=ce,ee[he]=Ve,he=Ee;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ce=ee[0],he=ee.pop();if(he!==ce){ee[0]=he;e:for(var Ee=0,Ve=ee.length,j=Ve>>>1;Ee<j;){var ae=2*(Ee+1)-1,me=ee[ae],ve=ae+1,Ie=ee[ve];if(0>i(me,he))ve<Ve&&0>i(Ie,me)?(ee[Ee]=Ie,ee[ve]=he,Ee=ve):(ee[Ee]=me,ee[ae]=he,Ee=ae);else if(ve<Ve&&0>i(Ie,he))ee[Ee]=Ie,ee[ve]=he,Ee=ve;else break e}}return ce}function i(ee,ce){var he=ee.sortIndex-ce.sortIndex;return he!==0?he:ee.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],h=1,m=null,y=3,A=!1,S=!1,b=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function H(ee){for(var ce=n(d);ce!==null;){if(ce.callback===null)r(d);else if(ce.startTime<=ee)r(d),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=n(d)}}function F(ee){if(b=!1,H(ee),!S)if(n(c)!==null)S=!0,G||(G=!0,$());else{var ce=n(d);ce!==null&&qe(F,ce.startTime-ee)}}var G=!1,P=-1,D=5,L=-1;function z(){return x?!0:!(t.unstable_now()-L<D)}function U(){if(x=!1,G){var ee=t.unstable_now();L=ee;var ce=!0;try{e:{S=!1,b&&(b=!1,B(P),P=-1),A=!0;var he=y;try{t:{for(H(ee),m=n(c);m!==null&&!(m.expirationTime>ee&&z());){var Ee=m.callback;if(typeof Ee=="function"){m.callback=null,y=m.priorityLevel;var Ve=Ee(m.expirationTime<=ee);if(ee=t.unstable_now(),typeof Ve=="function"){m.callback=Ve,H(ee),ce=!0;break t}m===n(c)&&r(c),H(ee)}else r(c);m=n(c)}if(m!==null)ce=!0;else{var j=n(d);j!==null&&qe(F,j.startTime-ee),ce=!1}}break e}finally{m=null,y=he,A=!1}ce=void 0}}finally{ce?$():G=!1}}}var $;if(typeof k=="function")$=function(){k(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Ce=q.port2;q.port1.onmessage=U,$=function(){Ce.postMessage(null)}}else $=function(){N(U,0)};function qe(ee,ce){P=N(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var he=y;y=ce;try{return ee()}finally{y=he}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var he=y;y=ee;try{return ce()}finally{y=he}},t.unstable_scheduleCallback=function(ee,ce,he){var Ee=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ee+he:Ee):he=Ee,ee){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=he+Ve,ee={id:h++,callback:ce,priorityLevel:ee,startTime:he,expirationTime:Ve,sortIndex:-1},he>Ee?(ee.sortIndex=he,e(d,ee),n(c)===null&&ee===n(d)&&(b?(B(P),P=-1):b=!0,qe(F,he-Ee))):(ee.sortIndex=Ve,e(c,ee),S||A||(S=!0,G||(G=!0,$()))),ee},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(ee){var ce=y;return function(){var he=y;y=ce;try{return ee.apply(this,arguments)}finally{y=he}}}})(P_)),P_}var RI;function Wq(){return RI||(RI=1,R_.exports=Yq()),R_.exports}var M_={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PI;function Jq(){if(PI)return Bn;PI=1;var t=kc();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(c,d,null,h)},Bn.flushSync=function(c){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=d,r.p=h,r.d.f()}},Bn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Bn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Bn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:A}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:y,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Bn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Bn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Bn.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Bn.requestFormReset=function(c){r.d.r(c)},Bn.unstable_batchedUpdates=function(c,d){return c(d)},Bn.useFormState=function(c,d,h){return a.H.useFormState(c,d,h)},Bn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Bn.version="19.2.0",Bn}var MI;function rO(){if(MI)return M_.exports;MI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M_.exports=Jq(),M_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI;function Xq(){if(NI)return od;NI=1;var t=Wq(),e=kc(),n=rO();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,f=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(f=l.return),s=l.return;while(s)}return l.tag===3?f:null}function a(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(r(188))}function d(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(r(188));return l!==s?null:s}for(var f=s,p=l;;){var T=f.return;if(T===null)break;var E=T.alternate;if(E===null){if(p=T.return,p!==null){f=p;continue}break}if(T.child===E.child){for(E=T.child;E;){if(E===f)return c(T),s;if(E===p)return c(T),l;E=E.sibling}throw Error(r(188))}if(f.return!==p.return)f=T,p=E;else{for(var C=!1,O=T.child;O;){if(O===f){C=!0,f=T,p=E;break}if(O===p){C=!0,p=T,f=E;break}O=O.sibling}if(!C){for(O=E.child;O;){if(O===f){C=!0,f=E,p=T;break}if(O===p){C=!0,p=E,f=T;break}O=O.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:l}function h(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=h(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),k=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function Ce(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case N:return"Profiler";case x:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case k:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case H:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return l=s.displayName||null,l!==null?l:Ce(s.type)||"Memo";case D:l=s._payload,s=s._init;try{return Ce(s(l))}catch{}}return null}var qe=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ee=[],Ve=-1;function j(s){return{current:s}}function ae(s){0>Ve||(s.current=Ee[Ve],Ee[Ve]=null,Ve--)}function me(s,l){Ve++,Ee[Ve]=s.current,s.current=l}var ve=j(null),Ie=j(null),Ne=j(null),He=j(null);function Mt(s,l){switch(me(Ne,l),me(Ie,s),me(ve,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?j1(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=j1(l),s=Y1(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(ve),me(ve,s)}function oe(){ae(ve),ae(Ie),ae(Ne)}function ke(s){s.memoizedState!==null&&me(He,s);var l=ve.current,f=Y1(l,s.type);l!==f&&(me(Ie,s),me(ve,f))}function ze(s){Ie.current===s&&(ae(ve),ae(Ie)),He.current===s&&(ae(He),ed._currentValue=he)}var de,Bt;function Ge(s){if(de===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);de=l&&l[1]||"",Bt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+s+Bt}var fn=!1;function qt(s,l){if(!s||fn)return"";fn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var Z=ne}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(ne){Z=ne}s.call(ue.prototype)}}else{try{throw Error()}catch(ne){Z=ne}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&Z&&typeof ne.stack=="string")return[ne.stack,Z.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=p.DetermineComponentFrameRoot(),C=E[0],O=E[1];if(C&&O){var K=C.split(`
`),Q=O.split(`
`);for(T=p=0;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;for(;T<Q.length&&!Q[T].includes("DetermineComponentFrameRoot");)T++;if(p===K.length||T===Q.length)for(p=K.length-1,T=Q.length-1;1<=p&&0<=T&&K[p]!==Q[T];)T--;for(;1<=p&&0<=T;p--,T--)if(K[p]!==Q[T]){if(p!==1||T!==1)do if(p--,T--,0>T||K[p]!==Q[T]){var ie=`
`+K[p].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=p&&0<=T);break}}}finally{fn=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?Ge(f):""}function vr(s,l){switch(s.tag){case 26:case 27:case 5:return Ge(s.type);case 16:return Ge("Lazy");case 13:return s.child!==l&&l!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return qt(s.type,!1);case 11:return qt(s.type.render,!1);case 1:return qt(s.type,!0);case 31:return Ge("Activity");default:return""}}function ys(s){try{var l="",f=null;do l+=vr(s,f),f=s,s=s.return;while(s);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Wt=Object.prototype.hasOwnProperty,dn=t.unstable_scheduleCallback,vs=t.unstable_cancelCallback,xv=t.unstable_shouldYield,Hh=t.unstable_requestPaint,Xn=t.unstable_now,Ba=t.unstable_getCurrentPriorityLevel,nf=t.unstable_ImmediatePriority,rf=t.unstable_UserBlockingPriority,_s=t.unstable_NormalPriority,Iv=t.unstable_LowPriority,Gh=t.unstable_IdlePriority,$h=t.log,Kh=t.unstable_setDisableYieldValue,li=null,In=null;function Lr(s){if(typeof $h=="function"&&Kh(s),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(li,s)}catch{}}var zt=Math.clz32?Math.clz32:Yh,jh=Math.log,ru=Math.LN2;function Yh(s){return s>>>=0,s===0?32:31-(jh(s)/ru|0)|0}var Ri=256,qa=262144,Jt=4194304;function Pi(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Mi(s,l,f){var p=s.pendingLanes;if(p===0)return 0;var T=0,E=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var O=p&134217727;return O!==0?(p=O&~E,p!==0?T=Pi(p):(C&=O,C!==0?T=Pi(C):f||(f=O&~s,f!==0&&(T=Pi(f))))):(O=p&~E,O!==0?T=Pi(O):C!==0?T=Pi(C):f||(f=p&~s,f!==0&&(T=Pi(f)))),T===0?0:l!==0&&l!==T&&(l&E)===0&&(E=T&-T,f=l&-l,E>=f||E===32&&(f&4194048)!==0)?l:T}function ui(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Rv(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wh(){var s=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),s}function Ni(s){for(var l=[],f=0;31>f;f++)l.push(s);return l}function za(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Pv(s,l,f,p,T,E){var C=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var O=s.entanglements,K=s.expirationTimes,Q=s.hiddenUpdates;for(f=C&~f;0<f;){var ie=31-zt(f),ue=1<<ie;O[ie]=0,K[ie]=-1;var Z=Q[ie];if(Z!==null)for(Q[ie]=null,ie=0;ie<Z.length;ie++){var ne=Z[ie];ne!==null&&(ne.lane&=-536870913)}f&=~ue}p!==0&&Ha(s,p,0),E!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=E&~(C&~l))}function Ha(s,l,f){s.pendingLanes|=l,s.suspendedLanes&=~l;var p=31-zt(l);s.entangledLanes|=l,s.entanglements[p]=s.entanglements[p]|1073741824|f&261930}function of(s,l){var f=s.entangledLanes|=l;for(s=s.entanglements;f;){var p=31-zt(f),T=1<<p;T&l|s[p]&l&&(s[p]|=l),f&=~T}}function sf(s,l){var f=l&-l;return f=(f&42)!==0?1:Ga(f),(f&(s.suspendedLanes|l))!==0?0:f}function Ga(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _o(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Jh(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:yI(s.type))}function ci(s,l){var f=ce.p;try{return ce.p=s,l()}finally{ce.p=f}}var fi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+fi,En="__reactProps$"+fi,Di="__reactContainer$"+fi,iu="__reactEvents$"+fi,Mv="__reactListeners$"+fi,Xh="__reactHandles$"+fi,Qh="__reactResources$"+fi,ki="__reactMarker$"+fi;function ou(s){delete s[Xt],delete s[En],delete s[iu],delete s[Mv],delete s[Xh]}function Oi(s){var l=s[Xt];if(l)return l;for(var f=s.parentNode;f;){if(l=f[Di]||f[Xt]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(s=tI(s);s!==null;){if(f=s[Xt])return f;s=tI(s)}return l}s=f,f=s.parentNode}return null}function Vr(s){if(s=s[Xt]||s[Di]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function _r(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Li(s){var l=s[Qh];return l||(l=s[Qh]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Qt(s){s[ki]=!0}var af=new Set,lf={};function Vi(s,l){Ui(s,l),Ui(s+"Capture",l)}function Ui(s,l){for(lf[s]=l,s=0;s<l.length;s++)af.add(l[s])}var uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cf={},ff={};function Zh(s){return Wt.call(ff,s)?!0:Wt.call(cf,s)?!1:uf.test(s)?ff[s]=!0:(cf[s]=!0,!1)}function su(s,l,f){if(Zh(l))if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+f)}}function Tr(s,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+f)}}function Zt(s,l,f,p){if(p===null)s.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(l,f,""+p)}}function An(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ts(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function df(s,l,f){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,E=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return T.call(this)},set:function(C){f=""+C,E.call(this,C)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function ut(s){if(!s._valueTracker){var l=Ts(s)?"checked":"value";s._valueTracker=df(s,l,""+s[l])}}function $a(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var f=l.getValue(),p="";return s&&(p=Ts(s)?s.checked?"true":"false":s.value),s=p,s!==f?(l.setValue(s),!0):!1}function Fi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ka=/[\n"\\]/g;function ir(s){return s.replace(Ka,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function au(s,l,f,p,T,E,C,O){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),l!=null?C==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+An(l)):s.value!==""+An(l)&&(s.value=""+An(l)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),l!=null?hf(s,C,An(l)):f!=null?hf(s,C,An(f)):p!=null&&s.removeAttribute("value"),T==null&&E!=null&&(s.defaultChecked=!!E),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.name=""+An(O):s.removeAttribute("name")}function ep(s,l,f,p,T,E,C,O){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),l!=null||f!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){ut(s);return}f=f!=null?""+An(f):"",l=l!=null?""+An(l):f,O||l===s.value||(s.value=l),s.defaultValue=l}p=p??T,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=O?s.checked:!!p,s.defaultChecked=!!p,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),ut(s)}function hf(s,l,f){l==="number"&&Fi(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function Es(s,l,f,p){if(s=s.options,l){l={};for(var T=0;T<f.length;T++)l["$"+f[T]]=!0;for(f=0;f<s.length;f++)T=l.hasOwnProperty("$"+s[f].value),s[f].selected!==T&&(s[f].selected=T),T&&p&&(s[f].defaultSelected=!0)}else{for(f=""+An(f),l=null,T=0;T<s.length;T++){if(s[T].value===f){s[T].selected=!0,p&&(s[T].defaultSelected=!0);return}l!==null||s[T].disabled||(l=s[T])}l!==null&&(l.selected=!0)}}function tp(s,l,f){if(l!=null&&(l=""+An(l),l!==s.value&&(s.value=l),f==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=f!=null?""+An(f):""}function As(s,l,f,p){if(l==null){if(p!=null){if(f!=null)throw Error(r(92));if(qe(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),l=f}f=An(l),s.defaultValue=f,p=s.textContent,p===f&&p!==""&&p!==null&&(s.value=p),ut(s)}function or(s,l){if(l){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=l;return}}s.textContent=l}var np=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pf(s,l,f){var p=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":p?s.setProperty(l,f):typeof f!="number"||f===0||np.has(l)?l==="float"?s.cssFloat=f:s[l]=(""+f).trim():s[l]=f+"px"}function mf(s,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var T in l)p=l[T],l.hasOwnProperty(T)&&f[T]!==p&&pf(s,T,p)}else for(var E in l)l.hasOwnProperty(E)&&pf(s,E,l[E])}function lu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uu(s){return Ss.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function di(){}var gf=null;function Ur(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ws=null,Bi=null;function ja(s){var l=Vr(s);if(l&&(s=l.stateNode)){var f=s[En]||null;e:switch(s=l.stateNode,l.type){case"input":if(au(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ir(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var p=f[l];if(p!==s&&p.form===s.form){var T=p[En]||null;if(!T)throw Error(r(90));au(p,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<f.length;l++)p=f[l],p.form===s.form&&$a(p)}break e;case"textarea":tp(s,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Es(s,!!f.multiple,l,!1)}}}var cu=!1;function bs(s,l,f){if(cu)return s(l,f);cu=!0;try{var p=s(l);return p}finally{if(cu=!1,(ws!==null||Bi!==null)&&(Jp(),ws&&(l=ws,s=Bi,Bi=ws=null,ja(l),s)))for(l=0;l<s.length;l++)ja(s[l])}}function hi(s,l){var f=s.stateNode;if(f===null)return null;var p=f[En]||null;if(p===null)return null;f=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Fr)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Ya=!1}var qi=null,yf=null,Wa=null;function vf(){if(Wa)return Wa;var s,l=yf,f=l.length,p,T="value"in qi?qi.value:qi.textContent,E=T.length;for(s=0;s<f&&l[s]===T[s];s++);var C=f-s;for(p=1;p<=C&&l[f-p]===T[E-p];p++);return Wa=T.slice(s,1<p?1-p:void 0)}function Ja(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function To(){return!0}function pi(){return!1}function Rn(s){function l(f,p,T,E,C){this._reactName=f,this._targetInst=T,this.type=p,this.nativeEvent=E,this.target=C,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(f=s[O],this[O]=f?f(E):E[O]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?To:pi,this.isPropagationStopped=pi,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),l}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Rn(Eo),Cs=m({},Eo,{view:0,detail:0}),_f=Rn(Cs),xs,fu,Hi,du=m({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hi&&(Hi&&s.type==="mousemove"?(xs=s.screenX-Hi.screenX,fu=s.screenY-Hi.screenY):fu=xs=0,Hi=s),xs)},movementY:function(s){return"movementY"in s?s.movementY:fu}}),Tf=Rn(du),Xa=m({},du,{dataTransfer:0}),ip=Rn(Xa),op=m({},Cs,{relatedTarget:0}),Qa=Rn(op),Ef=m({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),sp=Rn(Ef),hu=m({},Eo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ap=Rn(hu),lp=m({},Eo,{data:0}),Gi=Rn(lp),up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=fp[s])?!!l[s]:!1}function Is(){return dp}var Qn=m({},Cs,{key:function(s){if(s.key){var l=up[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Ja(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(s){return s.type==="keypress"?Ja(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ja(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),hp=Rn(Qn),pp=m({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Rn(pp),_=m({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),w=Rn(_),I=m({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Rn(I),J=m({},du,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),te=Rn(J),pe=m({},Eo,{newState:0,oldState:0}),Ue=Rn(pe),Ht=[9,13,27,32],st=Fr&&"CompositionEvent"in window,Ct=null;Fr&&"documentMode"in document&&(Ct=document.documentMode);var Br=Fr&&"TextEvent"in window&&!Ct,$i=Fr&&(!st||Ct&&8<Ct&&11>=Ct),mi=" ",gi=!1;function Za(s,l){switch(s){case"keyup":return Ht.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var mu=!1;function fB(s,l){switch(s){case"compositionend":return pu(l);case"keypress":return l.which!==32?null:(gi=!0,mi);case"textInput":return s=l.data,s===mi&&gi?null:s;default:return null}}function dB(s,l){if(mu)return s==="compositionend"||!st&&Za(s,l)?(s=vf(),Wa=yf=qi=null,mu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return $i&&l.locale!=="ko"?null:l.data;default:return null}}var hB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iC(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!hB[s.type]:l==="textarea"}function oC(s,l,f,p){ws?Bi?Bi.push(p):Bi=[p]:ws=p,l=rm(l,"onChange"),0<l.length&&(f=new zi("onChange","change",null,f,p),s.push({event:f,listeners:l}))}var Af=null,Sf=null;function pB(s){q1(s,0)}function mp(s){var l=_r(s);if($a(l))return s}function sC(s,l){if(s==="change")return l}var aC=!1;if(Fr){var Nv;if(Fr){var Dv="oninput"in document;if(!Dv){var lC=document.createElement("div");lC.setAttribute("oninput","return;"),Dv=typeof lC.oninput=="function"}Nv=Dv}else Nv=!1;aC=Nv&&(!document.documentMode||9<document.documentMode)}function uC(){Af&&(Af.detachEvent("onpropertychange",cC),Sf=Af=null)}function cC(s){if(s.propertyName==="value"&&mp(Sf)){var l=[];oC(l,Sf,s,Ur(s)),bs(pB,l)}}function mB(s,l,f){s==="focusin"?(uC(),Af=l,Sf=f,Af.attachEvent("onpropertychange",cC)):s==="focusout"&&uC()}function gB(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mp(Sf)}function yB(s,l){if(s==="click")return mp(l)}function vB(s,l){if(s==="input"||s==="change")return mp(l)}function _B(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Er=typeof Object.is=="function"?Object.is:_B;function wf(s,l){if(Er(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var f=Object.keys(s),p=Object.keys(l);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var T=f[p];if(!Wt.call(l,T)||!Er(s[T],l[T]))return!1}return!0}function fC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dC(s,l){var f=fC(s);s=0;for(var p;f;){if(f.nodeType===3){if(p=s+f.textContent.length,s<=l&&p>=l)return{node:f,offset:l-s};s=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=fC(f)}}function hC(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?hC(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function pC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Fi(s.document);l instanceof s.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)s=l.contentWindow;else break;l=Fi(s.document)}return l}function kv(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var TB=Fr&&"documentMode"in document&&11>=document.documentMode,gu=null,Ov=null,bf=null,Lv=!1;function mC(s,l,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Lv||gu==null||gu!==Fi(p)||(p=gu,"selectionStart"in p&&kv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),bf&&wf(bf,p)||(bf=p,p=rm(Ov,"onSelect"),0<p.length&&(l=new zi("onSelect","select",null,l,f),s.push({event:l,listeners:p}),l.target=gu)))}function el(s,l){var f={};return f[s.toLowerCase()]=l.toLowerCase(),f["Webkit"+s]="webkit"+l,f["Moz"+s]="moz"+l,f}var yu={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionrun:el("Transition","TransitionRun"),transitionstart:el("Transition","TransitionStart"),transitioncancel:el("Transition","TransitionCancel"),transitionend:el("Transition","TransitionEnd")},Vv={},gC={};Fr&&(gC=document.createElement("div").style,"AnimationEvent"in window||(delete yu.animationend.animation,delete yu.animationiteration.animation,delete yu.animationstart.animation),"TransitionEvent"in window||delete yu.transitionend.transition);function tl(s){if(Vv[s])return Vv[s];if(!yu[s])return s;var l=yu[s],f;for(f in l)if(l.hasOwnProperty(f)&&f in gC)return Vv[s]=l[f];return s}var yC=tl("animationend"),vC=tl("animationiteration"),_C=tl("animationstart"),EB=tl("transitionrun"),AB=tl("transitionstart"),SB=tl("transitioncancel"),TC=tl("transitionend"),EC=new Map,Uv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uv.push("scrollEnd");function yi(s,l){EC.set(s,l),Vi(l,[s])}var gp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},qr=[],vu=0,Fv=0;function yp(){for(var s=vu,l=Fv=vu=0;l<s;){var f=qr[l];qr[l++]=null;var p=qr[l];qr[l++]=null;var T=qr[l];qr[l++]=null;var E=qr[l];if(qr[l++]=null,p!==null&&T!==null){var C=p.pending;C===null?T.next=T:(T.next=C.next,C.next=T),p.pending=T}E!==0&&AC(f,T,E)}}function vp(s,l,f,p){qr[vu++]=s,qr[vu++]=l,qr[vu++]=f,qr[vu++]=p,Fv|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Bv(s,l,f,p){return vp(s,l,f,p),_p(s)}function nl(s,l){return vp(s,null,null,l),_p(s)}function AC(s,l,f){s.lanes|=f;var p=s.alternate;p!==null&&(p.lanes|=f);for(var T=!1,E=s.return;E!==null;)E.childLanes|=f,p=E.alternate,p!==null&&(p.childLanes|=f),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(T=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,T&&l!==null&&(T=31-zt(f),s=E.hiddenUpdates,p=s[T],p===null?s[T]=[l]:p.push(l),l.lane=f|536870912),E):null}function _p(s){if(50<jf)throw jf=0,W0=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var _u={};function wB(s,l,f,p){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,l,f,p){return new wB(s,l,f,p)}function qv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function So(s,l){var f=s.alternate;return f===null?(f=Ar(s.tag,l,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=l,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,l=s.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function SC(s,l){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,l=f.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Tp(s,l,f,p,T,E){var C=0;if(p=s,typeof s=="function")qv(s)&&(C=1);else if(typeof s=="string")C=Rq(s,f,ve.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=Ar(31,f,l,T),s.elementType=L,s.lanes=E,s;case b:return rl(f.children,T,E,l);case x:C=8,T|=24;break;case N:return s=Ar(12,f,l,T|2),s.elementType=N,s.lanes=E,s;case F:return s=Ar(13,f,l,T),s.elementType=F,s.lanes=E,s;case G:return s=Ar(19,f,l,T),s.elementType=G,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:C=10;break e;case B:C=9;break e;case H:C=11;break e;case P:C=14;break e;case D:C=16,p=null;break e}C=29,f=Error(r(130,s===null?"null":typeof s,"")),p=null}return l=Ar(C,f,l,T),l.elementType=s,l.type=p,l.lanes=E,l}function rl(s,l,f,p){return s=Ar(7,s,p,l),s.lanes=f,s}function zv(s,l,f){return s=Ar(6,s,null,l),s.lanes=f,s}function wC(s){var l=Ar(18,null,null,0);return l.stateNode=s,l}function Hv(s,l,f){return l=Ar(4,s.children!==null?s.children:[],s.key,l),l.lanes=f,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var bC=new WeakMap;function zr(s,l){if(typeof s=="object"&&s!==null){var f=bC.get(s);return f!==void 0?f:(l={value:s,source:l,stack:ys(l)},bC.set(s,l),l)}return{value:s,source:l,stack:ys(l)}}var Tu=[],Eu=0,Ep=null,Cf=0,Hr=[],Gr=0,Rs=null,Ki=1,ji="";function wo(s,l){Tu[Eu++]=Cf,Tu[Eu++]=Ep,Ep=s,Cf=l}function CC(s,l,f){Hr[Gr++]=Ki,Hr[Gr++]=ji,Hr[Gr++]=Rs,Rs=s;var p=Ki;s=ji;var T=32-zt(p)-1;p&=~(1<<T),f+=1;var E=32-zt(l)+T;if(30<E){var C=T-T%5;E=(p&(1<<C)-1).toString(32),p>>=C,T-=C,Ki=1<<32-zt(l)+T|f<<T|p,ji=E+s}else Ki=1<<E|f<<T|p,ji=s}function Gv(s){s.return!==null&&(wo(s,1),CC(s,1,0))}function $v(s){for(;s===Ep;)Ep=Tu[--Eu],Tu[Eu]=null,Cf=Tu[--Eu],Tu[Eu]=null;for(;s===Rs;)Rs=Hr[--Gr],Hr[Gr]=null,ji=Hr[--Gr],Hr[Gr]=null,Ki=Hr[--Gr],Hr[Gr]=null}function xC(s,l){Hr[Gr++]=Ki,Hr[Gr++]=ji,Hr[Gr++]=Rs,Ki=l.id,ji=l.overflow,Rs=s}var Pn=null,Et=null,Ze=!1,Ps=null,$r=!1,Kv=Error(r(519));function Ms(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xf(zr(l,s)),Kv}function IC(s){var l=s.stateNode,f=s.type,p=s.memoizedProps;switch(l[Xt]=s,l[En]=p,f){case"dialog":Ke("cancel",l),Ke("close",l);break;case"iframe":case"object":case"embed":Ke("load",l);break;case"video":case"audio":for(f=0;f<Wf.length;f++)Ke(Wf[f],l);break;case"source":Ke("error",l);break;case"img":case"image":case"link":Ke("error",l),Ke("load",l);break;case"details":Ke("toggle",l);break;case"input":Ke("invalid",l),ep(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ke("invalid",l);break;case"textarea":Ke("invalid",l),As(l,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||p.suppressHydrationWarning===!0||$1(l.textContent,f)?(p.popover!=null&&(Ke("beforetoggle",l),Ke("toggle",l)),p.onScroll!=null&&Ke("scroll",l),p.onScrollEnd!=null&&Ke("scrollend",l),p.onClick!=null&&(l.onclick=di),l=!0):l=!1,l||Ms(s,!0)}function RC(s){for(Pn=s.return;Pn;)switch(Pn.tag){case 5:case 31:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:Pn=Pn.return}}function Au(s){if(s!==Pn)return!1;if(!Ze)return RC(s),Ze=!0,!1;var l=s.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||c_(s.type,s.memoizedProps)),f=!f),f&&Et&&Ms(s),RC(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Et=eI(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Et=eI(s)}else l===27?(l=Et,$s(s.type)?(s=m_,m_=null,Et=s):Et=l):Et=Pn?jr(s.stateNode.nextSibling):null;return!0}function il(){Et=Pn=null,Ze=!1}function jv(){var s=Ps;return s!==null&&(ur===null?ur=s:ur.push.apply(ur,s),Ps=null),s}function xf(s){Ps===null?Ps=[s]:Ps.push(s)}var Yv=j(null),ol=null,bo=null;function Ns(s,l,f){me(Yv,l._currentValue),l._currentValue=f}function Co(s){s._currentValue=Yv.current,ae(Yv)}function Wv(s,l,f){for(;s!==null;){var p=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),s===f)break;s=s.return}}function Jv(s,l,f,p){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var E=T.dependencies;if(E!==null){var C=T.child;E=E.firstContext;e:for(;E!==null;){var O=E;E=T;for(var K=0;K<l.length;K++)if(O.context===l[K]){E.lanes|=f,O=E.alternate,O!==null&&(O.lanes|=f),Wv(E.return,f,s),p||(C=null);break e}E=O.next}}else if(T.tag===18){if(C=T.return,C===null)throw Error(r(341));C.lanes|=f,E=C.alternate,E!==null&&(E.lanes|=f),Wv(C,f,s),C=null}else C=T.child;if(C!==null)C.return=T;else for(C=T;C!==null;){if(C===s){C=null;break}if(T=C.sibling,T!==null){T.return=C.return,C=T;break}C=C.return}T=C}}function Su(s,l,f,p){s=null;for(var T=l,E=!1;T!==null;){if(!E){if((T.flags&524288)!==0)E=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var C=T.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var O=T.type;Er(T.pendingProps.value,C.value)||(s!==null?s.push(O):s=[O])}}else if(T===He.current){if(C=T.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(ed):s=[ed])}T=T.return}s!==null&&Jv(l,s,f,p),l.flags|=262144}function Ap(s){for(s=s.firstContext;s!==null;){if(!Er(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function sl(s){ol=s,bo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Mn(s){return PC(ol,s)}function Sp(s,l){return ol===null&&sl(s),PC(s,l)}function PC(s,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},bo===null){if(s===null)throw Error(r(308));bo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else bo=bo.next=l;return f}var bB=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(f,p){s.push(p)}};this.abort=function(){l.aborted=!0,s.forEach(function(f){return f()})}},CB=t.unstable_scheduleCallback,xB=t.unstable_NormalPriority,en={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xv(){return{controller:new bB,data:new Map,refCount:0}}function If(s){s.refCount--,s.refCount===0&&CB(xB,function(){s.controller.abort()})}var Rf=null,Qv=0,wu=0,bu=null;function IB(s,l){if(Rf===null){var f=Rf=[];Qv=0,wu=t_(),bu={status:"pending",value:void 0,then:function(p){f.push(p)}}}return Qv++,l.then(MC,MC),l}function MC(){if(--Qv===0&&Rf!==null){bu!==null&&(bu.status="fulfilled");var s=Rf;Rf=null,wu=0,bu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function RB(s,l){var f=[],p={status:"pending",value:null,reason:null,then:function(T){f.push(T)}};return s.then(function(){p.status="fulfilled",p.value=l;for(var T=0;T<f.length;T++)(0,f[T])(l)},function(T){for(p.status="rejected",p.reason=T,T=0;T<f.length;T++)(0,f[T])(void 0)}),p}var NC=ee.S;ee.S=function(s,l){m1=Xn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&IB(s,l),NC!==null&&NC(s,l)};var al=j(null);function Zv(){var s=al.current;return s!==null?s:yt.pooledCache}function wp(s,l){l===null?me(al,al.current):me(al,l.pool)}function DC(){var s=Zv();return s===null?null:{parent:en._currentValue,pool:s}}var Cu=Error(r(460)),e0=Error(r(474)),bp=Error(r(542)),Cp={then:function(){}};function kC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function OC(s,l,f){switch(f=s[f],f===void 0?s.push(l):f!==l&&(l.then(di,di),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,VC(s),s;default:if(typeof l.status=="string")l.then(di,di);else{if(s=yt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(p){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=p}},function(p){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,VC(s),s}throw ul=l,Cu}}function ll(s){try{var l=s._init;return l(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(ul=f,Cu):f}}var ul=null;function LC(){if(ul===null)throw Error(r(459));var s=ul;return ul=null,s}function VC(s){if(s===Cu||s===bp)throw Error(r(483))}var xu=null,Pf=0;function xp(s){var l=Pf;return Pf+=1,xu===null&&(xu=[]),OC(xu,s,l)}function Mf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Ip(s,l){throw l.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function UC(s){function l(W,Y){if(s){var X=W.deletions;X===null?(W.deletions=[Y],W.flags|=16):X.push(Y)}}function f(W,Y){if(!s)return null;for(;Y!==null;)l(W,Y),Y=Y.sibling;return null}function p(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function T(W,Y){return W=So(W,Y),W.index=0,W.sibling=null,W}function E(W,Y,X){return W.index=X,s?(X=W.alternate,X!==null?(X=X.index,X<Y?(W.flags|=67108866,Y):X):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function C(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function O(W,Y,X,se){return Y===null||Y.tag!==6?(Y=zv(X,W.mode,se),Y.return=W,Y):(Y=T(Y,X),Y.return=W,Y)}function K(W,Y,X,se){var we=X.type;return we===b?ie(W,Y,X.props.children,se,X.key):Y!==null&&(Y.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===D&&ll(we)===Y.type)?(Y=T(Y,X.props),Mf(Y,X),Y.return=W,Y):(Y=Tp(X.type,X.key,X.props,null,W.mode,se),Mf(Y,X),Y.return=W,Y)}function Q(W,Y,X,se){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==X.containerInfo||Y.stateNode.implementation!==X.implementation?(Y=Hv(X,W.mode,se),Y.return=W,Y):(Y=T(Y,X.children||[]),Y.return=W,Y)}function ie(W,Y,X,se,we){return Y===null||Y.tag!==7?(Y=rl(X,W.mode,se,we),Y.return=W,Y):(Y=T(Y,X),Y.return=W,Y)}function ue(W,Y,X){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=zv(""+Y,W.mode,X),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return X=Tp(Y.type,Y.key,Y.props,null,W.mode,X),Mf(X,Y),X.return=W,X;case S:return Y=Hv(Y,W.mode,X),Y.return=W,Y;case D:return Y=ll(Y),ue(W,Y,X)}if(qe(Y)||$(Y))return Y=rl(Y,W.mode,X,null),Y.return=W,Y;if(typeof Y.then=="function")return ue(W,xp(Y),X);if(Y.$$typeof===k)return ue(W,Sp(W,Y),X);Ip(W,Y)}return null}function Z(W,Y,X,se){var we=Y!==null?Y.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return we!==null?null:O(W,Y,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===we?K(W,Y,X,se):null;case S:return X.key===we?Q(W,Y,X,se):null;case D:return X=ll(X),Z(W,Y,X,se)}if(qe(X)||$(X))return we!==null?null:ie(W,Y,X,se,null);if(typeof X.then=="function")return Z(W,Y,xp(X),se);if(X.$$typeof===k)return Z(W,Y,Sp(W,X),se);Ip(W,X)}return null}function ne(W,Y,X,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return W=W.get(X)||null,O(Y,W,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return W=W.get(se.key===null?X:se.key)||null,K(Y,W,se,we);case S:return W=W.get(se.key===null?X:se.key)||null,Q(Y,W,se,we);case D:return se=ll(se),ne(W,Y,X,se,we)}if(qe(se)||$(se))return W=W.get(X)||null,ie(Y,W,se,we,null);if(typeof se.then=="function")return ne(W,Y,X,xp(se),we);if(se.$$typeof===k)return ne(W,Y,X,Sp(Y,se),we);Ip(Y,se)}return null}function Ae(W,Y,X,se){for(var we=null,tt=null,Se=Y,Be=Y=0,Ye=null;Se!==null&&Be<X.length;Be++){Se.index>Be?(Ye=Se,Se=null):Ye=Se.sibling;var nt=Z(W,Se,X[Be],se);if(nt===null){Se===null&&(Se=Ye);break}s&&Se&&nt.alternate===null&&l(W,Se),Y=E(nt,Y,Be),tt===null?we=nt:tt.sibling=nt,tt=nt,Se=Ye}if(Be===X.length)return f(W,Se),Ze&&wo(W,Be),we;if(Se===null){for(;Be<X.length;Be++)Se=ue(W,X[Be],se),Se!==null&&(Y=E(Se,Y,Be),tt===null?we=Se:tt.sibling=Se,tt=Se);return Ze&&wo(W,Be),we}for(Se=p(Se);Be<X.length;Be++)Ye=ne(Se,W,Be,X[Be],se),Ye!==null&&(s&&Ye.alternate!==null&&Se.delete(Ye.key===null?Be:Ye.key),Y=E(Ye,Y,Be),tt===null?we=Ye:tt.sibling=Ye,tt=Ye);return s&&Se.forEach(function(Js){return l(W,Js)}),Ze&&wo(W,Be),we}function xe(W,Y,X,se){if(X==null)throw Error(r(151));for(var we=null,tt=null,Se=Y,Be=Y=0,Ye=null,nt=X.next();Se!==null&&!nt.done;Be++,nt=X.next()){Se.index>Be?(Ye=Se,Se=null):Ye=Se.sibling;var Js=Z(W,Se,nt.value,se);if(Js===null){Se===null&&(Se=Ye);break}s&&Se&&Js.alternate===null&&l(W,Se),Y=E(Js,Y,Be),tt===null?we=Js:tt.sibling=Js,tt=Js,Se=Ye}if(nt.done)return f(W,Se),Ze&&wo(W,Be),we;if(Se===null){for(;!nt.done;Be++,nt=X.next())nt=ue(W,nt.value,se),nt!==null&&(Y=E(nt,Y,Be),tt===null?we=nt:tt.sibling=nt,tt=nt);return Ze&&wo(W,Be),we}for(Se=p(Se);!nt.done;Be++,nt=X.next())nt=ne(Se,W,Be,nt.value,se),nt!==null&&(s&&nt.alternate!==null&&Se.delete(nt.key===null?Be:nt.key),Y=E(nt,Y,Be),tt===null?we=nt:tt.sibling=nt,tt=nt);return s&&Se.forEach(function(Bq){return l(W,Bq)}),Ze&&wo(W,Be),we}function gt(W,Y,X,se){if(typeof X=="object"&&X!==null&&X.type===b&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:e:{for(var we=X.key;Y!==null;){if(Y.key===we){if(we=X.type,we===b){if(Y.tag===7){f(W,Y.sibling),se=T(Y,X.props.children),se.return=W,W=se;break e}}else if(Y.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===D&&ll(we)===Y.type){f(W,Y.sibling),se=T(Y,X.props),Mf(se,X),se.return=W,W=se;break e}f(W,Y);break}else l(W,Y);Y=Y.sibling}X.type===b?(se=rl(X.props.children,W.mode,se,X.key),se.return=W,W=se):(se=Tp(X.type,X.key,X.props,null,W.mode,se),Mf(se,X),se.return=W,W=se)}return C(W);case S:e:{for(we=X.key;Y!==null;){if(Y.key===we)if(Y.tag===4&&Y.stateNode.containerInfo===X.containerInfo&&Y.stateNode.implementation===X.implementation){f(W,Y.sibling),se=T(Y,X.children||[]),se.return=W,W=se;break e}else{f(W,Y);break}else l(W,Y);Y=Y.sibling}se=Hv(X,W.mode,se),se.return=W,W=se}return C(W);case D:return X=ll(X),gt(W,Y,X,se)}if(qe(X))return Ae(W,Y,X,se);if($(X)){if(we=$(X),typeof we!="function")throw Error(r(150));return X=we.call(X),xe(W,Y,X,se)}if(typeof X.then=="function")return gt(W,Y,xp(X),se);if(X.$$typeof===k)return gt(W,Y,Sp(W,X),se);Ip(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,Y!==null&&Y.tag===6?(f(W,Y.sibling),se=T(Y,X),se.return=W,W=se):(f(W,Y),se=zv(X,W.mode,se),se.return=W,W=se),C(W)):f(W,Y)}return function(W,Y,X,se){try{Pf=0;var we=gt(W,Y,X,se);return xu=null,we}catch(Se){if(Se===Cu||Se===bp)throw Se;var tt=Ar(29,Se,null,W.mode);return tt.lanes=se,tt.return=W,tt}finally{}}}var cl=UC(!0),FC=UC(!1),Ds=!1;function t0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function n0(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ks(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Os(s,l,f){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(at&2)!==0){var T=p.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),p.pending=l,l=_p(s),AC(s,null,f),l}return vp(s,p,l,f),_p(s)}function Nf(s,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var p=l.lanes;p&=s.pendingLanes,f|=p,l.lanes=f,of(s,f)}}function r0(s,l){var f=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var T=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var C={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};E===null?T=E=C:E=E.next=C,f=f.next}while(f!==null);E===null?T=E=l:E=E.next=l}else T=E=l;f={baseState:p.baseState,firstBaseUpdate:T,lastBaseUpdate:E,shared:p.shared,callbacks:p.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=l:s.next=l,f.lastBaseUpdate=l}var i0=!1;function Df(){if(i0){var s=bu;if(s!==null)throw s}}function kf(s,l,f,p){i0=!1;var T=s.updateQueue;Ds=!1;var E=T.firstBaseUpdate,C=T.lastBaseUpdate,O=T.shared.pending;if(O!==null){T.shared.pending=null;var K=O,Q=K.next;K.next=null,C===null?E=Q:C.next=Q,C=K;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==C&&(O===null?ie.firstBaseUpdate=Q:O.next=Q,ie.lastBaseUpdate=K))}if(E!==null){var ue=T.baseState;C=0,ie=Q=K=null,O=E;do{var Z=O.lane&-536870913,ne=Z!==O.lane;if(ne?(je&Z)===Z:(p&Z)===Z){Z!==0&&Z===wu&&(i0=!0),ie!==null&&(ie=ie.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ae=s,xe=O;Z=l;var gt=f;switch(xe.tag){case 1:if(Ae=xe.payload,typeof Ae=="function"){ue=Ae.call(gt,ue,Z);break e}ue=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=xe.payload,Z=typeof Ae=="function"?Ae.call(gt,ue,Z):Ae,Z==null)break e;ue=m({},ue,Z);break e;case 2:Ds=!0}}Z=O.callback,Z!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=T.callbacks,ne===null?T.callbacks=[Z]:ne.push(Z))}else ne={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(Q=ie=ne,K=ue):ie=ie.next=ne,C|=Z;if(O=O.next,O===null){if(O=T.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,T.lastBaseUpdate=ne,T.shared.pending=null}}while(!0);ie===null&&(K=ue),T.baseState=K,T.firstBaseUpdate=Q,T.lastBaseUpdate=ie,E===null&&(T.shared.lanes=0),Bs|=C,s.lanes=C,s.memoizedState=ue}}function BC(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function qC(s,l){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)BC(f[s],l)}var Iu=j(null),Rp=j(0);function zC(s,l){s=Oo,me(Rp,s),me(Iu,l),Oo=s|l.baseLanes}function o0(){me(Rp,Oo),me(Iu,Iu.current)}function s0(){Oo=Rp.current,ae(Iu),ae(Rp)}var Sr=j(null),Kr=null;function Ls(s){var l=s.alternate;me(Gt,Gt.current&1),me(Sr,s),Kr===null&&(l===null||Iu.current!==null||l.memoizedState!==null)&&(Kr=s)}function a0(s){me(Gt,Gt.current),me(Sr,s),Kr===null&&(Kr=s)}function HC(s){s.tag===22?(me(Gt,Gt.current),me(Sr,s),Kr===null&&(Kr=s)):Vs()}function Vs(){me(Gt,Gt.current),me(Sr,Sr.current)}function wr(s){ae(Sr),Kr===s&&(Kr=null),ae(Gt)}var Gt=j(0);function Pp(s){for(var l=s;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||h_(f)||p_(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var xo=0,Fe=null,pt=null,tn=null,Mp=!1,Ru=!1,fl=!1,Np=0,Of=0,Pu=null,PB=0;function kt(){throw Error(r(321))}function l0(s,l){if(l===null)return!1;for(var f=0;f<l.length&&f<s.length;f++)if(!Er(s[f],l[f]))return!1;return!0}function u0(s,l,f,p,T,E){return xo=E,Fe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ee.H=s===null||s.memoizedState===null?Cx:w0,fl=!1,E=f(p,T),fl=!1,Ru&&(E=$C(l,f,p,T)),GC(s),E}function GC(s){ee.H=Uf;var l=pt!==null&&pt.next!==null;if(xo=0,tn=pt=Fe=null,Mp=!1,Of=0,Pu=null,l)throw Error(r(300));s===null||nn||(s=s.dependencies,s!==null&&Ap(s)&&(nn=!0))}function $C(s,l,f,p){Fe=s;var T=0;do{if(Ru&&(Pu=null),Of=0,Ru=!1,25<=T)throw Error(r(301));if(T+=1,tn=pt=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}ee.H=xx,E=l(f,p)}while(Ru);return E}function MB(){var s=ee.H,l=s.useState()[0];return l=typeof l.then=="function"?Lf(l):l,s=s.useState()[0],(pt!==null?pt.memoizedState:null)!==s&&(Fe.flags|=1024),l}function c0(){var s=Np!==0;return Np=0,s}function f0(s,l,f){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~f}function d0(s){if(Mp){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Mp=!1}xo=0,tn=pt=Fe=null,Ru=!1,Of=Np=0,Pu=null}function Zn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Fe.memoizedState=tn=s:tn=tn.next=s,tn}function $t(){if(pt===null){var s=Fe.alternate;s=s!==null?s.memoizedState:null}else s=pt.next;var l=tn===null?Fe.memoizedState:tn.next;if(l!==null)tn=l,pt=s;else{if(s===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));pt=s,s={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},tn===null?Fe.memoizedState=tn=s:tn=tn.next=s}return tn}function Dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lf(s){var l=Of;return Of+=1,Pu===null&&(Pu=[]),s=OC(Pu,s,l),l=Fe,(tn===null?l.memoizedState:tn.next)===null&&(l=l.alternate,ee.H=l===null||l.memoizedState===null?Cx:w0),s}function kp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Lf(s);if(s.$$typeof===k)return Mn(s)}throw Error(r(438,String(s)))}function h0(s){var l=null,f=Fe.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var p=Fe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Dp(),Fe.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(s),p=0;p<s;p++)f[p]=z;return l.index++,f}function Io(s,l){return typeof l=="function"?l(s):l}function Op(s){var l=$t();return p0(l,pt,s)}function p0(s,l,f){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var T=s.baseQueue,E=p.pending;if(E!==null){if(T!==null){var C=T.next;T.next=E.next,E.next=C}l.baseQueue=T=E,p.pending=null}if(E=s.baseState,T===null)s.memoizedState=E;else{l=T.next;var O=C=null,K=null,Q=l,ie=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(je&ue)===ue:(xo&ue)===ue){var Z=Q.revertLane;if(Z===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===wu&&(ie=!0);else if((xo&Z)===Z){Q=Q.next,Z===wu&&(ie=!0);continue}else ue={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},K===null?(O=K=ue,C=E):K=K.next=ue,Fe.lanes|=Z,Bs|=Z;ue=Q.action,fl&&f(E,ue),E=Q.hasEagerState?Q.eagerState:f(E,ue)}else Z={lane:ue,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},K===null?(O=K=Z,C=E):K=K.next=Z,Fe.lanes|=ue,Bs|=ue;Q=Q.next}while(Q!==null&&Q!==l);if(K===null?C=E:K.next=O,!Er(E,s.memoizedState)&&(nn=!0,ie&&(f=bu,f!==null)))throw f;s.memoizedState=E,s.baseState=C,s.baseQueue=K,p.lastRenderedState=E}return T===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function m0(s){var l=$t(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var p=f.dispatch,T=f.pending,E=l.memoizedState;if(T!==null){f.pending=null;var C=T=T.next;do E=s(E,C.action),C=C.next;while(C!==T);Er(E,l.memoizedState)||(nn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),f.lastRenderedState=E}return[E,p]}function KC(s,l,f){var p=Fe,T=$t(),E=Ze;if(E){if(f===void 0)throw Error(r(407));f=f()}else f=l();var C=!Er((pt||T).memoizedState,f);if(C&&(T.memoizedState=f,nn=!0),T=T.queue,v0(WC.bind(null,p,T,s),[s]),T.getSnapshot!==l||C||tn!==null&&tn.memoizedState.tag&1){if(p.flags|=2048,Mu(9,{destroy:void 0},YC.bind(null,p,T,f,l),null),yt===null)throw Error(r(349));E||(xo&127)!==0||jC(p,l,f)}return f}function jC(s,l,f){s.flags|=16384,s={getSnapshot:l,value:f},l=Fe.updateQueue,l===null?(l=Dp(),Fe.updateQueue=l,l.stores=[s]):(f=l.stores,f===null?l.stores=[s]:f.push(s))}function YC(s,l,f,p){l.value=f,l.getSnapshot=p,JC(l)&&XC(s)}function WC(s,l,f){return f(function(){JC(l)&&XC(s)})}function JC(s){var l=s.getSnapshot;s=s.value;try{var f=l();return!Er(s,f)}catch{return!0}}function XC(s){var l=nl(s,2);l!==null&&cr(l,s,2)}function g0(s){var l=Zn();if(typeof s=="function"){var f=s;if(s=f(),fl){Lr(!0);try{f()}finally{Lr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:s},l}function QC(s,l,f,p){return s.baseState=f,p0(s,pt,typeof p=="function"?p:Io)}function NB(s,l,f,p,T){if(Up(s))throw Error(r(485));if(s=l.action,s!==null){var E={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){E.listeners.push(C)}};ee.T!==null?f(!0):E.isTransition=!1,p(E),f=l.pending,f===null?(E.next=l.pending=E,ZC(l,E)):(E.next=f.next,l.pending=f.next=E)}}function ZC(s,l){var f=l.action,p=l.payload,T=s.state;if(l.isTransition){var E=ee.T,C={};ee.T=C;try{var O=f(T,p),K=ee.S;K!==null&&K(C,O),ex(s,l,O)}catch(Q){y0(s,l,Q)}finally{E!==null&&C.types!==null&&(E.types=C.types),ee.T=E}}else try{E=f(T,p),ex(s,l,E)}catch(Q){y0(s,l,Q)}}function ex(s,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){tx(s,l,p)},function(p){return y0(s,l,p)}):tx(s,l,f)}function tx(s,l,f){l.status="fulfilled",l.value=f,nx(l),s.state=f,l=s.pending,l!==null&&(f=l.next,f===l?s.pending=null:(f=f.next,l.next=f,ZC(s,f)))}function y0(s,l,f){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=f,nx(l),l=l.next;while(l!==p)}s.action=null}function nx(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function rx(s,l){return l}function ix(s,l){if(Ze){var f=yt.formState;if(f!==null){e:{var p=Fe;if(Ze){if(Et){t:{for(var T=Et,E=$r;T.nodeType!==8;){if(!E){T=null;break t}if(T=jr(T.nextSibling),T===null){T=null;break t}}E=T.data,T=E==="F!"||E==="F"?T:null}if(T){Et=jr(T.nextSibling),p=T.data==="F!";break e}}Ms(p)}p=!1}p&&(l=f[0])}}return f=Zn(),f.memoizedState=f.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rx,lastRenderedState:l},f.queue=p,f=Sx.bind(null,Fe,p),p.dispatch=f,p=g0(!1),E=S0.bind(null,Fe,!1,p.queue),p=Zn(),T={state:l,dispatch:null,action:s,pending:null},p.queue=T,f=NB.bind(null,Fe,T,E,f),T.dispatch=f,p.memoizedState=s,[l,f,!1]}function ox(s){var l=$t();return sx(l,pt,s)}function sx(s,l,f){if(l=p0(s,l,rx)[0],s=Op(Io)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Lf(l)}catch(C){throw C===Cu?bp:C}else p=l;l=$t();var T=l.queue,E=T.dispatch;return f!==l.memoizedState&&(Fe.flags|=2048,Mu(9,{destroy:void 0},DB.bind(null,T,f),null)),[p,E,s]}function DB(s,l){s.action=l}function ax(s){var l=$t(),f=pt;if(f!==null)return sx(l,f,s);$t(),l=l.memoizedState,f=$t();var p=f.queue.dispatch;return f.memoizedState=s,[l,p,!1]}function Mu(s,l,f,p){return s={tag:s,create:f,deps:p,inst:l,next:null},l=Fe.updateQueue,l===null&&(l=Dp(),Fe.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=s.next=s:(p=f.next,f.next=s,s.next=p,l.lastEffect=s),s}function lx(){return $t().memoizedState}function Lp(s,l,f,p){var T=Zn();Fe.flags|=s,T.memoizedState=Mu(1|l,{destroy:void 0},f,p===void 0?null:p)}function Vp(s,l,f,p){var T=$t();p=p===void 0?null:p;var E=T.memoizedState.inst;pt!==null&&p!==null&&l0(p,pt.memoizedState.deps)?T.memoizedState=Mu(l,E,f,p):(Fe.flags|=s,T.memoizedState=Mu(1|l,E,f,p))}function ux(s,l){Lp(8390656,8,s,l)}function v0(s,l){Vp(2048,8,s,l)}function kB(s){Fe.flags|=4;var l=Fe.updateQueue;if(l===null)l=Dp(),Fe.updateQueue=l,l.events=[s];else{var f=l.events;f===null?l.events=[s]:f.push(s)}}function cx(s){var l=$t().memoizedState;return kB({ref:l,nextImpl:s}),function(){if((at&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function fx(s,l){return Vp(4,2,s,l)}function dx(s,l){return Vp(4,4,s,l)}function hx(s,l){if(typeof l=="function"){s=s();var f=l(s);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function px(s,l,f){f=f!=null?f.concat([s]):null,Vp(4,4,hx.bind(null,l,s),f)}function _0(){}function mx(s,l){var f=$t();l=l===void 0?null:l;var p=f.memoizedState;return l!==null&&l0(l,p[1])?p[0]:(f.memoizedState=[s,l],s)}function gx(s,l){var f=$t();l=l===void 0?null:l;var p=f.memoizedState;if(l!==null&&l0(l,p[1]))return p[0];if(p=s(),fl){Lr(!0);try{s()}finally{Lr(!1)}}return f.memoizedState=[p,l],p}function T0(s,l,f){return f===void 0||(xo&1073741824)!==0&&(je&261930)===0?s.memoizedState=l:(s.memoizedState=f,s=y1(),Fe.lanes|=s,Bs|=s,f)}function yx(s,l,f,p){return Er(f,l)?f:Iu.current!==null?(s=T0(s,f,p),Er(s,l)||(nn=!0),s):(xo&42)===0||(xo&1073741824)!==0&&(je&261930)===0?(nn=!0,s.memoizedState=f):(s=y1(),Fe.lanes|=s,Bs|=s,l)}function vx(s,l,f,p,T){var E=ce.p;ce.p=E!==0&&8>E?E:8;var C=ee.T,O={};ee.T=O,S0(s,!1,l,f);try{var K=T(),Q=ee.S;if(Q!==null&&Q(O,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=RB(K,p);Vf(s,l,ie,xr(s))}else Vf(s,l,p,xr(s))}catch(ue){Vf(s,l,{then:function(){},status:"rejected",reason:ue},xr())}finally{ce.p=E,C!==null&&O.types!==null&&(C.types=O.types),ee.T=C}}function OB(){}function E0(s,l,f,p){if(s.tag!==5)throw Error(r(476));var T=_x(s).queue;vx(s,T,l,he,f===null?OB:function(){return Tx(s),f(p)})}function _x(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:he},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:f},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function Tx(s){var l=_x(s);l.next===null&&(l=s.alternate.memoizedState),Vf(s,l.next.queue,{},xr())}function A0(){return Mn(ed)}function Ex(){return $t().memoizedState}function Ax(){return $t().memoizedState}function LB(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var f=xr();s=ks(f);var p=Os(l,s,f);p!==null&&(cr(p,l,f),Nf(p,l,f)),l={cache:Xv()},s.payload=l;return}l=l.return}}function VB(s,l,f){var p=xr();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Up(s)?wx(l,f):(f=Bv(s,l,f,p),f!==null&&(cr(f,s,p),bx(f,l,p)))}function Sx(s,l,f){var p=xr();Vf(s,l,f,p)}function Vf(s,l,f,p){var T={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Up(s))wx(l,T);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var C=l.lastRenderedState,O=E(C,f);if(T.hasEagerState=!0,T.eagerState=O,Er(O,C))return vp(s,l,T,0),yt===null&&yp(),!1}catch{}finally{}if(f=Bv(s,l,T,p),f!==null)return cr(f,s,p),bx(f,l,p),!0}return!1}function S0(s,l,f,p){if(p={lane:2,revertLane:t_(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Up(s)){if(l)throw Error(r(479))}else l=Bv(s,f,p,2),l!==null&&cr(l,s,2)}function Up(s){var l=s.alternate;return s===Fe||l!==null&&l===Fe}function wx(s,l){Ru=Mp=!0;var f=s.pending;f===null?l.next=l:(l.next=f.next,f.next=l),s.pending=l}function bx(s,l,f){if((f&4194048)!==0){var p=l.lanes;p&=s.pendingLanes,f|=p,l.lanes=f,of(s,f)}}var Uf={readContext:Mn,use:kp,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Uf.useEffectEvent=kt;var Cx={readContext:Mn,use:kp,useCallback:function(s,l){return Zn().memoizedState=[s,l===void 0?null:l],s},useContext:Mn,useEffect:ux,useImperativeHandle:function(s,l,f){f=f!=null?f.concat([s]):null,Lp(4194308,4,hx.bind(null,l,s),f)},useLayoutEffect:function(s,l){return Lp(4194308,4,s,l)},useInsertionEffect:function(s,l){Lp(4,2,s,l)},useMemo:function(s,l){var f=Zn();l=l===void 0?null:l;var p=s();if(fl){Lr(!0);try{s()}finally{Lr(!1)}}return f.memoizedState=[p,l],p},useReducer:function(s,l,f){var p=Zn();if(f!==void 0){var T=f(l);if(fl){Lr(!0);try{f(l)}finally{Lr(!1)}}}else T=l;return p.memoizedState=p.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},p.queue=s,s=s.dispatch=VB.bind(null,Fe,s),[p.memoizedState,s]},useRef:function(s){var l=Zn();return s={current:s},l.memoizedState=s},useState:function(s){s=g0(s);var l=s.queue,f=Sx.bind(null,Fe,l);return l.dispatch=f,[s.memoizedState,f]},useDebugValue:_0,useDeferredValue:function(s,l){var f=Zn();return T0(f,s,l)},useTransition:function(){var s=g0(!1);return s=vx.bind(null,Fe,s.queue,!0,!1),Zn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,f){var p=Fe,T=Zn();if(Ze){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),yt===null)throw Error(r(349));(je&127)!==0||jC(p,l,f)}T.memoizedState=f;var E={value:f,getSnapshot:l};return T.queue=E,ux(WC.bind(null,p,E,s),[s]),p.flags|=2048,Mu(9,{destroy:void 0},YC.bind(null,p,E,f,l),null),f},useId:function(){var s=Zn(),l=yt.identifierPrefix;if(Ze){var f=ji,p=Ki;f=(p&~(1<<32-zt(p)-1)).toString(32)+f,l="_"+l+"R_"+f,f=Np++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=PB++,l="_"+l+"r_"+f.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:A0,useFormState:ix,useActionState:ix,useOptimistic:function(s){var l=Zn();l.memoizedState=l.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=S0.bind(null,Fe,!0,f),f.dispatch=l,[s,l]},useMemoCache:h0,useCacheRefresh:function(){return Zn().memoizedState=LB.bind(null,Fe)},useEffectEvent:function(s){var l=Zn(),f={impl:s};return l.memoizedState=f,function(){if((at&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},w0={readContext:Mn,use:kp,useCallback:mx,useContext:Mn,useEffect:v0,useImperativeHandle:px,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:gx,useReducer:Op,useRef:lx,useState:function(){return Op(Io)},useDebugValue:_0,useDeferredValue:function(s,l){var f=$t();return yx(f,pt.memoizedState,s,l)},useTransition:function(){var s=Op(Io)[0],l=$t().memoizedState;return[typeof s=="boolean"?s:Lf(s),l]},useSyncExternalStore:KC,useId:Ex,useHostTransitionStatus:A0,useFormState:ox,useActionState:ox,useOptimistic:function(s,l){var f=$t();return QC(f,pt,s,l)},useMemoCache:h0,useCacheRefresh:Ax};w0.useEffectEvent=cx;var xx={readContext:Mn,use:kp,useCallback:mx,useContext:Mn,useEffect:v0,useImperativeHandle:px,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:gx,useReducer:m0,useRef:lx,useState:function(){return m0(Io)},useDebugValue:_0,useDeferredValue:function(s,l){var f=$t();return pt===null?T0(f,s,l):yx(f,pt.memoizedState,s,l)},useTransition:function(){var s=m0(Io)[0],l=$t().memoizedState;return[typeof s=="boolean"?s:Lf(s),l]},useSyncExternalStore:KC,useId:Ex,useHostTransitionStatus:A0,useFormState:ax,useActionState:ax,useOptimistic:function(s,l){var f=$t();return pt!==null?QC(f,pt,s,l):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:h0,useCacheRefresh:Ax};xx.useEffectEvent=cx;function b0(s,l,f,p){l=s.memoizedState,f=f(p,l),f=f==null?l:m({},l,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var C0={enqueueSetState:function(s,l,f){s=s._reactInternals;var p=xr(),T=ks(p);T.payload=l,f!=null&&(T.callback=f),l=Os(s,T,p),l!==null&&(cr(l,s,p),Nf(l,s,p))},enqueueReplaceState:function(s,l,f){s=s._reactInternals;var p=xr(),T=ks(p);T.tag=1,T.payload=l,f!=null&&(T.callback=f),l=Os(s,T,p),l!==null&&(cr(l,s,p),Nf(l,s,p))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var f=xr(),p=ks(f);p.tag=2,l!=null&&(p.callback=l),l=Os(s,p,f),l!==null&&(cr(l,s,f),Nf(l,s,f))}};function Ix(s,l,f,p,T,E,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,C):l.prototype&&l.prototype.isPureReactComponent?!wf(f,p)||!wf(T,E):!0}function Rx(s,l,f,p){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,p),l.state!==s&&C0.enqueueReplaceState(l,l.state,null)}function dl(s,l){var f=l;if("ref"in l){f={};for(var p in l)p!=="ref"&&(f[p]=l[p])}if(s=s.defaultProps){f===l&&(f=m({},f));for(var T in s)f[T]===void 0&&(f[T]=s[T])}return f}function Px(s){gp(s)}function Mx(s){console.error(s)}function Nx(s){gp(s)}function Fp(s,l){try{var f=s.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function Dx(s,l,f){try{var p=s.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function x0(s,l,f){return f=ks(f),f.tag=3,f.payload={element:null},f.callback=function(){Fp(s,l)},f}function kx(s){return s=ks(s),s.tag=3,s}function Ox(s,l,f,p){var T=f.type.getDerivedStateFromError;if(typeof T=="function"){var E=p.value;s.payload=function(){return T(E)},s.callback=function(){Dx(l,f,p)}}var C=f.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){Dx(l,f,p),typeof T!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var O=p.stack;this.componentDidCatch(p.value,{componentStack:O!==null?O:""})})}function UB(s,l,f,p,T){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=f.alternate,l!==null&&Su(l,f,T,!0),f=Sr.current,f!==null){switch(f.tag){case 31:case 13:return Kr===null?Xp():f.alternate===null&&Ot===0&&(Ot=3),f.flags&=-257,f.flags|=65536,f.lanes=T,p===Cp?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([p]):l.add(p),Q0(s,p,T)),!1;case 22:return f.flags|=65536,p===Cp?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([p]):f.add(p)),Q0(s,p,T)),!1}throw Error(r(435,f.tag))}return Q0(s,p,T),Xp(),!1}if(Ze)return l=Sr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,p!==Kv&&(s=Error(r(422),{cause:p}),xf(zr(s,f)))):(p!==Kv&&(l=Error(r(423),{cause:p}),xf(zr(l,f))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,p=zr(p,f),T=x0(s.stateNode,p,T),r0(s,T),Ot!==4&&(Ot=2)),!1;var E=Error(r(520),{cause:p});if(E=zr(E,f),Kf===null?Kf=[E]:Kf.push(E),Ot!==4&&(Ot=2),l===null)return!0;p=zr(p,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,s=T&-T,f.lanes|=s,s=x0(f.stateNode,p,s),r0(f,s),!1;case 1:if(l=f.type,E=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(qs===null||!qs.has(E))))return f.flags|=65536,T&=-T,f.lanes|=T,T=kx(T),Ox(T,s,f,p),r0(f,T),!1}f=f.return}while(f!==null);return!1}var I0=Error(r(461)),nn=!1;function Nn(s,l,f,p){l.child=s===null?FC(l,null,f,p):cl(l,s.child,f,p)}function Lx(s,l,f,p,T){f=f.render;var E=l.ref;if("ref"in p){var C={};for(var O in p)O!=="ref"&&(C[O]=p[O])}else C=p;return sl(l),p=u0(s,l,f,C,E,T),O=c0(),s!==null&&!nn?(f0(s,l,T),Ro(s,l,T)):(Ze&&O&&Gv(l),l.flags|=1,Nn(s,l,p,T),l.child)}function Vx(s,l,f,p,T){if(s===null){var E=f.type;return typeof E=="function"&&!qv(E)&&E.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=E,Ux(s,l,E,p,T)):(s=Tp(f.type,null,p,l,l.mode,T),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,!L0(s,T)){var C=E.memoizedProps;if(f=f.compare,f=f!==null?f:wf,f(C,p)&&s.ref===l.ref)return Ro(s,l,T)}return l.flags|=1,s=So(E,p),s.ref=l.ref,s.return=l,l.child=s}function Ux(s,l,f,p,T){if(s!==null){var E=s.memoizedProps;if(wf(E,p)&&s.ref===l.ref)if(nn=!1,l.pendingProps=p=E,L0(s,T))(s.flags&131072)!==0&&(nn=!0);else return l.lanes=s.lanes,Ro(s,l,T)}return R0(s,l,f,p,T)}function Fx(s,l,f,p){var T=p.children,E=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|f:f,s!==null){for(p=l.child=s.child,T=0;p!==null;)T=T|p.lanes|p.childLanes,p=p.sibling;p=T&~E}else p=0,l.child=null;return Bx(s,l,E,f,p)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&wp(l,E!==null?E.cachePool:null),E!==null?zC(l,E):o0(),HC(l);else return p=l.lanes=536870912,Bx(s,l,E!==null?E.baseLanes|f:f,f,p)}else E!==null?(wp(l,E.cachePool),zC(l,E),Vs(),l.memoizedState=null):(s!==null&&wp(l,null),o0(),Vs());return Nn(s,l,T,f),l.child}function Ff(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Bx(s,l,f,p,T){var E=Zv();return E=E===null?null:{parent:en._currentValue,pool:E},l.memoizedState={baseLanes:f,cachePool:E},s!==null&&wp(l,null),o0(),HC(l),s!==null&&Su(s,l,p,!0),l.childLanes=T,null}function Bp(s,l){return l=zp({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function qx(s,l,f){return cl(l,s.child,null,f),s=Bp(l,l.pendingProps),s.flags|=2,wr(l),l.memoizedState=null,s}function FB(s,l,f){var p=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Ze){if(p.mode==="hidden")return s=Bp(l,p),l.lanes=536870912,Ff(null,s);if(a0(l),(s=Et)?(s=Z1(s,$r),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Rs!==null?{id:Ki,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},f=wC(s),f.return=l,l.child=f,Pn=l,Et=null)):s=null,s===null)throw Ms(l);return l.lanes=536870912,null}return Bp(l,p)}var E=s.memoizedState;if(E!==null){var C=E.dehydrated;if(a0(l),T)if(l.flags&256)l.flags&=-257,l=qx(s,l,f);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(nn||Su(s,l,f,!1),T=(f&s.childLanes)!==0,nn||T){if(p=yt,p!==null&&(C=sf(p,f),C!==0&&C!==E.retryLane))throw E.retryLane=C,nl(s,C),cr(p,s,C),I0;Xp(),l=qx(s,l,f)}else s=E.treeContext,Et=jr(C.nextSibling),Pn=l,Ze=!0,Ps=null,$r=!1,s!==null&&xC(l,s),l=Bp(l,p),l.flags|=4096;return l}return s=So(s.child,{mode:p.mode,children:p.children}),s.ref=l.ref,l.child=s,s.return=l,s}function qp(s,l){var f=l.ref;if(f===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(s===null||s.ref!==f)&&(l.flags|=4194816)}}function R0(s,l,f,p,T){return sl(l),f=u0(s,l,f,p,void 0,T),p=c0(),s!==null&&!nn?(f0(s,l,T),Ro(s,l,T)):(Ze&&p&&Gv(l),l.flags|=1,Nn(s,l,f,T),l.child)}function zx(s,l,f,p,T,E){return sl(l),l.updateQueue=null,f=$C(l,p,f,T),GC(s),p=c0(),s!==null&&!nn?(f0(s,l,E),Ro(s,l,E)):(Ze&&p&&Gv(l),l.flags|=1,Nn(s,l,f,E),l.child)}function Hx(s,l,f,p,T){if(sl(l),l.stateNode===null){var E=_u,C=f.contextType;typeof C=="object"&&C!==null&&(E=Mn(C)),E=new f(p,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=C0,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=p,E.state=l.memoizedState,E.refs={},t0(l),C=f.contextType,E.context=typeof C=="object"&&C!==null?Mn(C):_u,E.state=l.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(b0(l,f,C,p),E.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(C=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),C!==E.state&&C0.enqueueReplaceState(E,E.state,null),kf(l,p,E,T),Df(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(s===null){E=l.stateNode;var O=l.memoizedProps,K=dl(f,O);E.props=K;var Q=E.context,ie=f.contextType;C=_u,typeof ie=="object"&&ie!==null&&(C=Mn(ie));var ue=f.getDerivedStateFromProps;ie=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function",O=l.pendingProps!==O,ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O||Q!==C)&&Rx(l,E,p,C),Ds=!1;var Z=l.memoizedState;E.state=Z,kf(l,p,E,T),Df(),Q=l.memoizedState,O||Z!==Q||Ds?(typeof ue=="function"&&(b0(l,f,ue,p),Q=l.memoizedState),(K=Ds||Ix(l,f,K,p,Z,Q,C))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Q),E.props=p,E.state=Q,E.context=C,p=K):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{E=l.stateNode,n0(s,l),C=l.memoizedProps,ie=dl(f,C),E.props=ie,ue=l.pendingProps,Z=E.context,Q=f.contextType,K=_u,typeof Q=="object"&&Q!==null&&(K=Mn(Q)),O=f.getDerivedStateFromProps,(Q=typeof O=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ue||Z!==K)&&Rx(l,E,p,K),Ds=!1,Z=l.memoizedState,E.state=Z,kf(l,p,E,T),Df();var ne=l.memoizedState;C!==ue||Z!==ne||Ds||s!==null&&s.dependencies!==null&&Ap(s.dependencies)?(typeof O=="function"&&(b0(l,f,O,p),ne=l.memoizedState),(ie=Ds||Ix(l,f,ie,p,Z,ne,K)||s!==null&&s.dependencies!==null&&Ap(s.dependencies))?(Q||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,ne,K),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,ne,K)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===s.memoizedProps&&Z===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&Z===s.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ne),E.props=p,E.state=ne,E.context=K,p=ie):(typeof E.componentDidUpdate!="function"||C===s.memoizedProps&&Z===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&Z===s.memoizedState||(l.flags|=1024),p=!1)}return E=p,qp(s,l),p=(l.flags&128)!==0,E||p?(E=l.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,s!==null&&p?(l.child=cl(l,s.child,null,T),l.child=cl(l,null,f,T)):Nn(s,l,f,T),l.memoizedState=E.state,s=l.child):s=Ro(s,l,T),s}function Gx(s,l,f,p){return il(),l.flags|=256,Nn(s,l,f,p),l.child}var P0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function M0(s){return{baseLanes:s,cachePool:DC()}}function N0(s,l,f){return s=s!==null?s.childLanes&~f:0,l&&(s|=Cr),s}function $x(s,l,f){var p=l.pendingProps,T=!1,E=(l.flags&128)!==0,C;if((C=E)||(C=s!==null&&s.memoizedState===null?!1:(Gt.current&2)!==0),C&&(T=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,s===null){if(Ze){if(T?Ls(l):Vs(),(s=Et)?(s=Z1(s,$r),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Rs!==null?{id:Ki,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},f=wC(s),f.return=l,l.child=f,Pn=l,Et=null)):s=null,s===null)throw Ms(l);return p_(s)?l.lanes=32:l.lanes=536870912,null}var O=p.children;return p=p.fallback,T?(Vs(),T=l.mode,O=zp({mode:"hidden",children:O},T),p=rl(p,T,f,null),O.return=l,p.return=l,O.sibling=p,l.child=O,p=l.child,p.memoizedState=M0(f),p.childLanes=N0(s,C,f),l.memoizedState=P0,Ff(null,p)):(Ls(l),D0(l,O))}var K=s.memoizedState;if(K!==null&&(O=K.dehydrated,O!==null)){if(E)l.flags&256?(Ls(l),l.flags&=-257,l=k0(s,l,f)):l.memoizedState!==null?(Vs(),l.child=s.child,l.flags|=128,l=null):(Vs(),O=p.fallback,T=l.mode,p=zp({mode:"visible",children:p.children},T),O=rl(O,T,f,null),O.flags|=2,p.return=l,O.return=l,p.sibling=O,l.child=p,cl(l,s.child,null,f),p=l.child,p.memoizedState=M0(f),p.childLanes=N0(s,C,f),l.memoizedState=P0,l=Ff(null,p));else if(Ls(l),p_(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var Q=C.dgst;C=Q,p=Error(r(419)),p.stack="",p.digest=C,xf({value:p,source:null,stack:null}),l=k0(s,l,f)}else if(nn||Su(s,l,f,!1),C=(f&s.childLanes)!==0,nn||C){if(C=yt,C!==null&&(p=sf(C,f),p!==0&&p!==K.retryLane))throw K.retryLane=p,nl(s,p),cr(C,s,p),I0;h_(O)||Xp(),l=k0(s,l,f)}else h_(O)?(l.flags|=192,l.child=s.child,l=null):(s=K.treeContext,Et=jr(O.nextSibling),Pn=l,Ze=!0,Ps=null,$r=!1,s!==null&&xC(l,s),l=D0(l,p.children),l.flags|=4096);return l}return T?(Vs(),O=p.fallback,T=l.mode,K=s.child,Q=K.sibling,p=So(K,{mode:"hidden",children:p.children}),p.subtreeFlags=K.subtreeFlags&65011712,Q!==null?O=So(Q,O):(O=rl(O,T,f,null),O.flags|=2),O.return=l,p.return=l,p.sibling=O,l.child=p,Ff(null,p),p=l.child,O=s.child.memoizedState,O===null?O=M0(f):(T=O.cachePool,T!==null?(K=en._currentValue,T=T.parent!==K?{parent:K,pool:K}:T):T=DC(),O={baseLanes:O.baseLanes|f,cachePool:T}),p.memoizedState=O,p.childLanes=N0(s,C,f),l.memoizedState=P0,Ff(s.child,p)):(Ls(l),f=s.child,s=f.sibling,f=So(f,{mode:"visible",children:p.children}),f.return=l,f.sibling=null,s!==null&&(C=l.deletions,C===null?(l.deletions=[s],l.flags|=16):C.push(s)),l.child=f,l.memoizedState=null,f)}function D0(s,l){return l=zp({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function zp(s,l){return s=Ar(22,s,null,l),s.lanes=0,s}function k0(s,l,f){return cl(l,s.child,null,f),s=D0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Kx(s,l,f){s.lanes|=l;var p=s.alternate;p!==null&&(p.lanes|=l),Wv(s.return,l,f)}function O0(s,l,f,p,T,E){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:T,treeForkCount:E}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=f,C.tailMode=T,C.treeForkCount=E)}function jx(s,l,f){var p=l.pendingProps,T=p.revealOrder,E=p.tail;p=p.children;var C=Gt.current,O=(C&2)!==0;if(O?(C=C&1|2,l.flags|=128):C&=1,me(Gt,C),Nn(s,l,p,f),p=Ze?Cf:0,!O&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Kx(s,f,l);else if(s.tag===19)Kx(s,f,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(T){case"forwards":for(f=l.child,T=null;f!==null;)s=f.alternate,s!==null&&Pp(s)===null&&(T=f),f=f.sibling;f=T,f===null?(T=l.child,l.child=null):(T=f.sibling,f.sibling=null),O0(l,!1,T,f,E,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,T=l.child,l.child=null;T!==null;){if(s=T.alternate,s!==null&&Pp(s)===null){l.child=T;break}s=T.sibling,T.sibling=f,f=T,T=s}O0(l,!0,f,null,E,p);break;case"together":O0(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Ro(s,l,f){if(s!==null&&(l.dependencies=s.dependencies),Bs|=l.lanes,(f&l.childLanes)===0)if(s!==null){if(Su(s,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,f=So(s,s.pendingProps),l.child=f,f.return=l;s.sibling!==null;)s=s.sibling,f=f.sibling=So(s,s.pendingProps),f.return=l;f.sibling=null}return l.child}function L0(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Ap(s)))}function BB(s,l,f){switch(l.tag){case 3:Mt(l,l.stateNode.containerInfo),Ns(l,en,s.memoizedState.cache),il();break;case 27:case 5:ke(l);break;case 4:Mt(l,l.stateNode.containerInfo);break;case 10:Ns(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,a0(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ls(l),l.flags|=128,null):(f&l.child.childLanes)!==0?$x(s,l,f):(Ls(l),s=Ro(s,l,f),s!==null?s.sibling:null);Ls(l);break;case 19:var T=(s.flags&128)!==0;if(p=(f&l.childLanes)!==0,p||(Su(s,l,f,!1),p=(f&l.childLanes)!==0),T){if(p)return jx(s,l,f);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),me(Gt,Gt.current),p)break;return null;case 22:return l.lanes=0,Fx(s,l,f,l.pendingProps);case 24:Ns(l,en,s.memoizedState.cache)}return Ro(s,l,f)}function Yx(s,l,f){if(s!==null)if(s.memoizedProps!==l.pendingProps)nn=!0;else{if(!L0(s,f)&&(l.flags&128)===0)return nn=!1,BB(s,l,f);nn=(s.flags&131072)!==0}else nn=!1,Ze&&(l.flags&1048576)!==0&&CC(l,Cf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(s=ll(l.elementType),l.type=s,typeof s=="function")qv(s)?(p=dl(s,p),l.tag=1,l=Hx(null,l,s,p,f)):(l.tag=0,l=R0(null,l,s,p,f));else{if(s!=null){var T=s.$$typeof;if(T===H){l.tag=11,l=Lx(null,l,s,p,f);break e}else if(T===P){l.tag=14,l=Vx(null,l,s,p,f);break e}}throw l=Ce(s)||s,Error(r(306,l,""))}}return l;case 0:return R0(s,l,l.type,l.pendingProps,f);case 1:return p=l.type,T=dl(p,l.pendingProps),Hx(s,l,p,T,f);case 3:e:{if(Mt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));p=l.pendingProps;var E=l.memoizedState;T=E.element,n0(s,l),kf(l,p,null,f);var C=l.memoizedState;if(p=C.cache,Ns(l,en,p),p!==E.cache&&Jv(l,[en],f,!0),Df(),p=C.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=Gx(s,l,p,f);break e}else if(p!==T){T=zr(Error(r(424)),l),xf(T),l=Gx(s,l,p,f);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Et=jr(s.firstChild),Pn=l,Ze=!0,Ps=null,$r=!0,f=FC(l,null,p,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(il(),p===T){l=Ro(s,l,f);break e}Nn(s,l,p,f)}l=l.child}return l;case 26:return qp(s,l),s===null?(f=oI(l.type,null,l.pendingProps,null))?l.memoizedState=f:Ze||(f=l.type,s=l.pendingProps,p=im(Ne.current).createElement(f),p[Xt]=l,p[En]=s,Dn(p,f,s),Qt(p),l.stateNode=p):l.memoizedState=oI(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return ke(l),s===null&&Ze&&(p=l.stateNode=nI(l.type,l.pendingProps,Ne.current),Pn=l,$r=!0,T=Et,$s(l.type)?(m_=T,Et=jr(p.firstChild)):Et=T),Nn(s,l,l.pendingProps.children,f),qp(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Ze&&((T=p=Et)&&(p=gq(p,l.type,l.pendingProps,$r),p!==null?(l.stateNode=p,Pn=l,Et=jr(p.firstChild),$r=!1,T=!0):T=!1),T||Ms(l)),ke(l),T=l.type,E=l.pendingProps,C=s!==null?s.memoizedProps:null,p=E.children,c_(T,E)?p=null:C!==null&&c_(T,C)&&(l.flags|=32),l.memoizedState!==null&&(T=u0(s,l,MB,null,null,f),ed._currentValue=T),qp(s,l),Nn(s,l,p,f),l.child;case 6:return s===null&&Ze&&((s=f=Et)&&(f=yq(f,l.pendingProps,$r),f!==null?(l.stateNode=f,Pn=l,Et=null,s=!0):s=!1),s||Ms(l)),null;case 13:return $x(s,l,f);case 4:return Mt(l,l.stateNode.containerInfo),p=l.pendingProps,s===null?l.child=cl(l,null,p,f):Nn(s,l,p,f),l.child;case 11:return Lx(s,l,l.type,l.pendingProps,f);case 7:return Nn(s,l,l.pendingProps,f),l.child;case 8:return Nn(s,l,l.pendingProps.children,f),l.child;case 12:return Nn(s,l,l.pendingProps.children,f),l.child;case 10:return p=l.pendingProps,Ns(l,l.type,p.value),Nn(s,l,p.children,f),l.child;case 9:return T=l.type._context,p=l.pendingProps.children,sl(l),T=Mn(T),p=p(T),l.flags|=1,Nn(s,l,p,f),l.child;case 14:return Vx(s,l,l.type,l.pendingProps,f);case 15:return Ux(s,l,l.type,l.pendingProps,f);case 19:return jx(s,l,f);case 31:return FB(s,l,f);case 22:return Fx(s,l,f,l.pendingProps);case 24:return sl(l),p=Mn(en),s===null?(T=Zv(),T===null&&(T=yt,E=Xv(),T.pooledCache=E,E.refCount++,E!==null&&(T.pooledCacheLanes|=f),T=E),l.memoizedState={parent:p,cache:T},t0(l),Ns(l,en,T)):((s.lanes&f)!==0&&(n0(s,l),kf(l,null,null,f),Df()),T=s.memoizedState,E=l.memoizedState,T.parent!==p?(T={parent:p,cache:p},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),Ns(l,en,p)):(p=E.cache,Ns(l,en,p),p!==T.cache&&Jv(l,[en],f,!0))),Nn(s,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Po(s){s.flags|=4}function V0(s,l,f,p,T){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(T&335544128)===T)if(s.stateNode.complete)s.flags|=8192;else if(E1())s.flags|=8192;else throw ul=Cp,e0}else s.flags&=-16777217}function Wx(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!cI(l))if(E1())s.flags|=8192;else throw ul=Cp,e0}function Hp(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Wh():536870912,s.lanes|=l,Ou|=l)}function Bf(s,l){if(!Ze)switch(s.tailMode){case"hidden":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function At(s){var l=s.alternate!==null&&s.alternate.child===s.child,f=0,p=0;if(l)for(var T=s.child;T!==null;)f|=T.lanes|T.childLanes,p|=T.subtreeFlags&65011712,p|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)f|=T.lanes|T.childLanes,p|=T.subtreeFlags,p|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=p,s.childLanes=f,l}function qB(s,l,f){var p=l.pendingProps;switch($v(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(l),null;case 1:return At(l),null;case 3:return f=l.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Co(en),oe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Au(l)?Po(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,jv())),At(l),null;case 26:var T=l.type,E=l.memoizedState;return s===null?(Po(l),E!==null?(At(l),Wx(l,E)):(At(l),V0(l,T,null,p,f))):E?E!==s.memoizedState?(Po(l),At(l),Wx(l,E)):(At(l),l.flags&=-16777217):(s=s.memoizedProps,s!==p&&Po(l),At(l),V0(l,T,s,p,f)),null;case 27:if(ze(l),f=Ne.current,T=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==p&&Po(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return At(l),null}s=ve.current,Au(l)?IC(l):(s=nI(T,p,f),l.stateNode=s,Po(l))}return At(l),null;case 5:if(ze(l),T=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==p&&Po(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return At(l),null}if(E=ve.current,Au(l))IC(l);else{var C=im(Ne.current);switch(E){case 1:E=C.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:E=C.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":E=C.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":E=C.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":E=C.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof p.is=="string"?C.createElement("select",{is:p.is}):C.createElement("select"),p.multiple?E.multiple=!0:p.size&&(E.size=p.size);break;default:E=typeof p.is=="string"?C.createElement(T,{is:p.is}):C.createElement(T)}}E[Xt]=l,E[En]=p;e:for(C=l.child;C!==null;){if(C.tag===5||C.tag===6)E.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===l)break e;for(;C.sibling===null;){if(C.return===null||C.return===l)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}l.stateNode=E;e:switch(Dn(E,T,p),T){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Po(l)}}return At(l),V0(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,f),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==p&&Po(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ne.current,Au(l)){if(s=l.stateNode,f=l.memoizedProps,p=null,T=Pn,T!==null)switch(T.tag){case 27:case 5:p=T.memoizedProps}s[Xt]=l,s=!!(s.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||$1(s.nodeValue,f)),s||Ms(l,!0)}else s=im(s).createTextNode(p),s[Xt]=l,l.stateNode=s}return At(l),null;case 31:if(f=l.memoizedState,s===null||s.memoizedState!==null){if(p=Au(l),f!==null){if(s===null){if(!p)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Xt]=l}else il(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;At(l),s=!1}else f=jv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return l.flags&256?(wr(l),l):(wr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return At(l),null;case 13:if(p=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=Au(l),p!==null&&p.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Xt]=l}else il(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;At(l),T=!1}else T=jv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(wr(l),l):(wr(l),null)}return wr(l),(l.flags&128)!==0?(l.lanes=f,l):(f=p!==null,s=s!==null&&s.memoizedState!==null,f&&(p=l.child,T=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(T=p.alternate.memoizedState.cachePool.pool),E=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),E!==T&&(p.flags|=2048)),f!==s&&f&&(l.child.flags|=8192),Hp(l,l.updateQueue),At(l),null);case 4:return oe(),s===null&&o_(l.stateNode.containerInfo),At(l),null;case 10:return Co(l.type),At(l),null;case 19:if(ae(Gt),p=l.memoizedState,p===null)return At(l),null;if(T=(l.flags&128)!==0,E=p.rendering,E===null)if(T)Bf(p,!1);else{if(Ot!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(E=Pp(s),E!==null){for(l.flags|=128,Bf(p,!1),s=E.updateQueue,l.updateQueue=s,Hp(l,s),l.subtreeFlags=0,s=f,f=l.child;f!==null;)SC(f,s),f=f.sibling;return me(Gt,Gt.current&1|2),Ze&&wo(l,p.treeForkCount),l.child}s=s.sibling}p.tail!==null&&Xn()>Yp&&(l.flags|=128,T=!0,Bf(p,!1),l.lanes=4194304)}else{if(!T)if(s=Pp(E),s!==null){if(l.flags|=128,T=!0,s=s.updateQueue,l.updateQueue=s,Hp(l,s),Bf(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!Ze)return At(l),null}else 2*Xn()-p.renderingStartTime>Yp&&f!==536870912&&(l.flags|=128,T=!0,Bf(p,!1),l.lanes=4194304);p.isBackwards?(E.sibling=l.child,l.child=E):(s=p.last,s!==null?s.sibling=E:l.child=E,p.last=E)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Xn(),s.sibling=null,f=Gt.current,me(Gt,T?f&1|2:f&1),Ze&&wo(l,p.treeForkCount),s):(At(l),null);case 22:case 23:return wr(l),s0(),p=l.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(f&536870912)!==0&&(l.flags&128)===0&&(At(l),l.subtreeFlags&6&&(l.flags|=8192)):At(l),f=l.updateQueue,f!==null&&Hp(l,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048),s!==null&&ae(al),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Co(en),At(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function zB(s,l){switch($v(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Co(en),oe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return ze(l),null;case 31:if(l.memoizedState!==null){if(wr(l),l.alternate===null)throw Error(r(340));il()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(wr(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));il()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ae(Gt),null;case 4:return oe(),null;case 10:return Co(l.type),null;case 22:case 23:return wr(l),s0(),s!==null&&ae(al),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Co(en),null;case 25:return null;default:return null}}function Jx(s,l){switch($v(l),l.tag){case 3:Co(en),oe();break;case 26:case 27:case 5:ze(l);break;case 4:oe();break;case 31:l.memoizedState!==null&&wr(l);break;case 13:wr(l);break;case 19:ae(Gt);break;case 10:Co(l.type);break;case 22:case 23:wr(l),s0(),s!==null&&ae(al);break;case 24:Co(en)}}function qf(s,l){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var T=p.next;f=T;do{if((f.tag&s)===s){p=void 0;var E=f.create,C=f.inst;p=E(),C.destroy=p}f=f.next}while(f!==T)}}catch(O){ft(l,l.return,O)}}function Us(s,l,f){try{var p=l.updateQueue,T=p!==null?p.lastEffect:null;if(T!==null){var E=T.next;p=E;do{if((p.tag&s)===s){var C=p.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,T=l;var K=f,Q=O;try{Q()}catch(ie){ft(T,K,ie)}}}p=p.next}while(p!==E)}}catch(ie){ft(l,l.return,ie)}}function Xx(s){var l=s.updateQueue;if(l!==null){var f=s.stateNode;try{qC(l,f)}catch(p){ft(s,s.return,p)}}}function Qx(s,l,f){f.props=dl(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(p){ft(s,l,p)}}function zf(s,l){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof f=="function"?s.refCleanup=f(p):f.current=p}}catch(T){ft(s,l,T)}}function Yi(s,l){var f=s.ref,p=s.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(T){ft(s,l,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(T){ft(s,l,T)}else f.current=null}function Zx(s){var l=s.type,f=s.memoizedProps,p=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(T){ft(s,s.return,T)}}function U0(s,l,f){try{var p=s.stateNode;cq(p,s.type,f,l),p[En]=l}catch(T){ft(s,s.return,T)}}function e1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&$s(s.type)||s.tag===4}function F0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||e1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&$s(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function B0(s,l,f){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(s),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=di));else if(p!==4&&(p===27&&$s(s.type)&&(f=s.stateNode,l=null),s=s.child,s!==null))for(B0(s,l,f),s=s.sibling;s!==null;)B0(s,l,f),s=s.sibling}function Gp(s,l,f){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?f.insertBefore(s,l):f.appendChild(s);else if(p!==4&&(p===27&&$s(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(Gp(s,l,f),s=s.sibling;s!==null;)Gp(s,l,f),s=s.sibling}function t1(s){var l=s.stateNode,f=s.memoizedProps;try{for(var p=s.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);Dn(l,p,f),l[Xt]=s,l[En]=f}catch(E){ft(s,s.return,E)}}var Mo=!1,rn=!1,q0=!1,n1=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function HB(s,l){if(s=s.containerInfo,l_=fm,s=pC(s),kv(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var T=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var C=0,O=-1,K=-1,Q=0,ie=0,ue=s,Z=null;t:for(;;){for(var ne;ue!==f||T!==0&&ue.nodeType!==3||(O=C+T),ue!==E||p!==0&&ue.nodeType!==3||(K=C+p),ue.nodeType===3&&(C+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)Z=ue,ue=ne;for(;;){if(ue===s)break t;if(Z===f&&++Q===T&&(O=C),Z===E&&++ie===p&&(K=C),(ne=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=ne}f=O===-1||K===-1?null:{start:O,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(u_={focusedElem:s,selectionRange:f},fm=!1,Sn=l;Sn!==null;)if(l=Sn,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Sn=s;else for(;Sn!==null;){switch(l=Sn,E=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)T=s[f],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,f=l,T=E.memoizedProps,E=E.memoizedState,p=f.stateNode;try{var Ae=dl(f.type,T);s=p.getSnapshotBeforeUpdate(Ae,E),p.__reactInternalSnapshotBeforeUpdate=s}catch(xe){ft(f,f.return,xe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,f=s.nodeType,f===9)d_(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":d_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Sn=s;break}Sn=l.return}}function r1(s,l,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Do(s,f),p&4&&qf(5,f);break;case 1:if(Do(s,f),p&4)if(s=f.stateNode,l===null)try{s.componentDidMount()}catch(C){ft(f,f.return,C)}else{var T=dl(f.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(T,l,s.__reactInternalSnapshotBeforeUpdate)}catch(C){ft(f,f.return,C)}}p&64&&Xx(f),p&512&&zf(f,f.return);break;case 3:if(Do(s,f),p&64&&(s=f.updateQueue,s!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{qC(s,l)}catch(C){ft(f,f.return,C)}}break;case 27:l===null&&p&4&&t1(f);case 26:case 5:Do(s,f),l===null&&p&4&&Zx(f),p&512&&zf(f,f.return);break;case 12:Do(s,f);break;case 31:Do(s,f),p&4&&s1(s,f);break;case 13:Do(s,f),p&4&&a1(s,f),p&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=QB.bind(null,f),vq(s,f))));break;case 22:if(p=f.memoizedState!==null||Mo,!p){l=l!==null&&l.memoizedState!==null||rn,T=Mo;var E=rn;Mo=p,(rn=l)&&!E?ko(s,f,(f.subtreeFlags&8772)!==0):Do(s,f),Mo=T,rn=E}break;case 30:break;default:Do(s,f)}}function i1(s){var l=s.alternate;l!==null&&(s.alternate=null,i1(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&ou(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xt=null,sr=!1;function No(s,l,f){for(f=f.child;f!==null;)o1(s,l,f),f=f.sibling}function o1(s,l,f){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(li,f)}catch{}switch(f.tag){case 26:rn||Yi(f,l),No(s,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:rn||Yi(f,l);var p=xt,T=sr;$s(f.type)&&(xt=f.stateNode,sr=!1),No(s,l,f),Xf(f.stateNode),xt=p,sr=T;break;case 5:rn||Yi(f,l);case 6:if(p=xt,T=sr,xt=null,No(s,l,f),xt=p,sr=T,xt!==null)if(sr)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(f.stateNode)}catch(E){ft(f,l,E)}else try{xt.removeChild(f.stateNode)}catch(E){ft(f,l,E)}break;case 18:xt!==null&&(sr?(s=xt,X1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),Hu(s)):X1(xt,f.stateNode));break;case 4:p=xt,T=sr,xt=f.stateNode.containerInfo,sr=!0,No(s,l,f),xt=p,sr=T;break;case 0:case 11:case 14:case 15:Us(2,f,l),rn||Us(4,f,l),No(s,l,f);break;case 1:rn||(Yi(f,l),p=f.stateNode,typeof p.componentWillUnmount=="function"&&Qx(f,l,p)),No(s,l,f);break;case 21:No(s,l,f);break;case 22:rn=(p=rn)||f.memoizedState!==null,No(s,l,f),rn=p;break;default:No(s,l,f)}}function s1(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Hu(s)}catch(f){ft(l,l.return,f)}}}function a1(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Hu(s)}catch(f){ft(l,l.return,f)}}function GB(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new n1),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new n1),l;default:throw Error(r(435,s.tag))}}function $p(s,l){var f=GB(s);l.forEach(function(p){if(!f.has(p)){f.add(p);var T=ZB.bind(null,s,p);p.then(T,T)}})}function ar(s,l){var f=l.deletions;if(f!==null)for(var p=0;p<f.length;p++){var T=f[p],E=s,C=l,O=C;e:for(;O!==null;){switch(O.tag){case 27:if($s(O.type)){xt=O.stateNode,sr=!1;break e}break;case 5:xt=O.stateNode,sr=!1;break e;case 3:case 4:xt=O.stateNode.containerInfo,sr=!0;break e}O=O.return}if(xt===null)throw Error(r(160));o1(E,C,T),xt=null,sr=!1,E=T.alternate,E!==null&&(E.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)l1(l,s),l=l.sibling}var vi=null;function l1(s,l){var f=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ar(l,s),lr(s),p&4&&(Us(3,s,s.return),qf(3,s),Us(5,s,s.return));break;case 1:ar(l,s),lr(s),p&512&&(rn||f===null||Yi(f,f.return)),p&64&&Mo&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var T=vi;if(ar(l,s),lr(s),p&512&&(rn||f===null||Yi(f,f.return)),p&4){var E=f!==null?f.memoizedState:null;if(p=s.memoizedState,f===null)if(p===null)if(s.stateNode===null){e:{p=s.type,f=s.memoizedProps,T=T.ownerDocument||T;t:switch(p){case"title":E=T.getElementsByTagName("title")[0],(!E||E[ki]||E[Xt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=T.createElement(p),T.head.insertBefore(E,T.querySelector("head > title"))),Dn(E,p,f),E[Xt]=s,Qt(E),p=E;break e;case"link":var C=lI("link","href",T).get(p+(f.href||""));if(C){for(var O=0;O<C.length;O++)if(E=C[O],E.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&E.getAttribute("rel")===(f.rel==null?null:f.rel)&&E.getAttribute("title")===(f.title==null?null:f.title)&&E.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){C.splice(O,1);break t}}E=T.createElement(p),Dn(E,p,f),T.head.appendChild(E);break;case"meta":if(C=lI("meta","content",T).get(p+(f.content||""))){for(O=0;O<C.length;O++)if(E=C[O],E.getAttribute("content")===(f.content==null?null:""+f.content)&&E.getAttribute("name")===(f.name==null?null:f.name)&&E.getAttribute("property")===(f.property==null?null:f.property)&&E.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&E.getAttribute("charset")===(f.charSet==null?null:f.charSet)){C.splice(O,1);break t}}E=T.createElement(p),Dn(E,p,f),T.head.appendChild(E);break;default:throw Error(r(468,p))}E[Xt]=s,Qt(E),p=E}s.stateNode=p}else uI(T,s.type,s.stateNode);else s.stateNode=aI(T,p,s.memoizedProps);else E!==p?(E===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):E.count--,p===null?uI(T,s.type,s.stateNode):aI(T,p,s.memoizedProps)):p===null&&s.stateNode!==null&&U0(s,s.memoizedProps,f.memoizedProps)}break;case 27:ar(l,s),lr(s),p&512&&(rn||f===null||Yi(f,f.return)),f!==null&&p&4&&U0(s,s.memoizedProps,f.memoizedProps);break;case 5:if(ar(l,s),lr(s),p&512&&(rn||f===null||Yi(f,f.return)),s.flags&32){T=s.stateNode;try{or(T,"")}catch(Ae){ft(s,s.return,Ae)}}p&4&&s.stateNode!=null&&(T=s.memoizedProps,U0(s,T,f!==null?f.memoizedProps:T)),p&1024&&(q0=!0);break;case 6:if(ar(l,s),lr(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,f=s.stateNode;try{f.nodeValue=p}catch(Ae){ft(s,s.return,Ae)}}break;case 3:if(am=null,T=vi,vi=om(l.containerInfo),ar(l,s),vi=T,lr(s),p&4&&f!==null&&f.memoizedState.isDehydrated)try{Hu(l.containerInfo)}catch(Ae){ft(s,s.return,Ae)}q0&&(q0=!1,u1(s));break;case 4:p=vi,vi=om(s.stateNode.containerInfo),ar(l,s),lr(s),vi=p;break;case 12:ar(l,s),lr(s);break;case 31:ar(l,s),lr(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,$p(s,p)));break;case 13:ar(l,s),lr(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(jp=Xn()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,$p(s,p)));break;case 22:T=s.memoizedState!==null;var K=f!==null&&f.memoizedState!==null,Q=Mo,ie=rn;if(Mo=Q||T,rn=ie||K,ar(l,s),rn=ie,Mo=Q,lr(s),p&8192)e:for(l=s.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(f===null||K||Mo||rn||hl(s)),f=null,l=s;;){if(l.tag===5||l.tag===26){if(f===null){K=f=l;try{if(E=K.stateNode,T)C=E.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=K.stateNode;var ue=K.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ae){ft(K,K.return,Ae)}}}else if(l.tag===6){if(f===null){K=l;try{K.stateNode.nodeValue=T?"":K.memoizedProps}catch(Ae){ft(K,K.return,Ae)}}}else if(l.tag===18){if(f===null){K=l;try{var ne=K.stateNode;T?Q1(ne,!0):Q1(K.stateNode,!1)}catch(Ae){ft(K,K.return,Ae)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=s.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,$p(s,f))));break;case 19:ar(l,s),lr(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,$p(s,p)));break;case 30:break;case 21:break;default:ar(l,s),lr(s)}}function lr(s){var l=s.flags;if(l&2){try{for(var f,p=s.return;p!==null;){if(e1(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var T=f.stateNode,E=F0(s);Gp(s,E,T);break;case 5:var C=f.stateNode;f.flags&32&&(or(C,""),f.flags&=-33);var O=F0(s);Gp(s,O,C);break;case 3:case 4:var K=f.stateNode.containerInfo,Q=F0(s);B0(s,Q,K);break;default:throw Error(r(161))}}catch(ie){ft(s,s.return,ie)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function u1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;u1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Do(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)r1(s,l.alternate,l),l=l.sibling}function hl(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Us(4,l,l.return),hl(l);break;case 1:Yi(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&Qx(l,l.return,f),hl(l);break;case 27:Xf(l.stateNode);case 26:case 5:Yi(l,l.return),hl(l);break;case 22:l.memoizedState===null&&hl(l);break;case 30:hl(l);break;default:hl(l)}s=s.sibling}}function ko(s,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,T=s,E=l,C=E.flags;switch(E.tag){case 0:case 11:case 15:ko(T,E,f),qf(4,E);break;case 1:if(ko(T,E,f),p=E,T=p.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Q){ft(p,p.return,Q)}if(p=E,T=p.updateQueue,T!==null){var O=p.stateNode;try{var K=T.shared.hiddenCallbacks;if(K!==null)for(T.shared.hiddenCallbacks=null,T=0;T<K.length;T++)BC(K[T],O)}catch(Q){ft(p,p.return,Q)}}f&&C&64&&Xx(E),zf(E,E.return);break;case 27:t1(E);case 26:case 5:ko(T,E,f),f&&p===null&&C&4&&Zx(E),zf(E,E.return);break;case 12:ko(T,E,f);break;case 31:ko(T,E,f),f&&C&4&&s1(T,E);break;case 13:ko(T,E,f),f&&C&4&&a1(T,E);break;case 22:E.memoizedState===null&&ko(T,E,f),zf(E,E.return);break;case 30:break;default:ko(T,E,f)}l=l.sibling}}function z0(s,l){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&If(f))}function H0(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&If(s))}function _i(s,l,f,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)c1(s,l,f,p),l=l.sibling}function c1(s,l,f,p){var T=l.flags;switch(l.tag){case 0:case 11:case 15:_i(s,l,f,p),T&2048&&qf(9,l);break;case 1:_i(s,l,f,p);break;case 3:_i(s,l,f,p),T&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&If(s)));break;case 12:if(T&2048){_i(s,l,f,p),s=l.stateNode;try{var E=l.memoizedProps,C=E.id,O=E.onPostCommit;typeof O=="function"&&O(C,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(K){ft(l,l.return,K)}}else _i(s,l,f,p);break;case 31:_i(s,l,f,p);break;case 13:_i(s,l,f,p);break;case 23:break;case 22:E=l.stateNode,C=l.alternate,l.memoizedState!==null?E._visibility&2?_i(s,l,f,p):Hf(s,l):E._visibility&2?_i(s,l,f,p):(E._visibility|=2,Nu(s,l,f,p,(l.subtreeFlags&10256)!==0||!1)),T&2048&&z0(C,l);break;case 24:_i(s,l,f,p),T&2048&&H0(l.alternate,l);break;default:_i(s,l,f,p)}}function Nu(s,l,f,p,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=s,C=l,O=f,K=p,Q=C.flags;switch(C.tag){case 0:case 11:case 15:Nu(E,C,O,K,T),qf(8,C);break;case 23:break;case 22:var ie=C.stateNode;C.memoizedState!==null?ie._visibility&2?Nu(E,C,O,K,T):Hf(E,C):(ie._visibility|=2,Nu(E,C,O,K,T)),T&&Q&2048&&z0(C.alternate,C);break;case 24:Nu(E,C,O,K,T),T&&Q&2048&&H0(C.alternate,C);break;default:Nu(E,C,O,K,T)}l=l.sibling}}function Hf(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=s,p=l,T=p.flags;switch(p.tag){case 22:Hf(f,p),T&2048&&z0(p.alternate,p);break;case 24:Hf(f,p),T&2048&&H0(p.alternate,p);break;default:Hf(f,p)}l=l.sibling}}var Gf=8192;function Du(s,l,f){if(s.subtreeFlags&Gf)for(s=s.child;s!==null;)f1(s,l,f),s=s.sibling}function f1(s,l,f){switch(s.tag){case 26:Du(s,l,f),s.flags&Gf&&s.memoizedState!==null&&Pq(f,vi,s.memoizedState,s.memoizedProps);break;case 5:Du(s,l,f);break;case 3:case 4:var p=vi;vi=om(s.stateNode.containerInfo),Du(s,l,f),vi=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=Gf,Gf=16777216,Du(s,l,f),Gf=p):Du(s,l,f));break;default:Du(s,l,f)}}function d1(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function $f(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];Sn=p,p1(p,s)}d1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)h1(s),s=s.sibling}function h1(s){switch(s.tag){case 0:case 11:case 15:$f(s),s.flags&2048&&Us(9,s,s.return);break;case 3:$f(s);break;case 12:$f(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Kp(s)):$f(s);break;default:$f(s)}}function Kp(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];Sn=p,p1(p,s)}d1(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Us(8,l,l.return),Kp(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Kp(l));break;default:Kp(l)}s=s.sibling}}function p1(s,l){for(;Sn!==null;){var f=Sn;switch(f.tag){case 0:case 11:case 15:Us(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:If(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Sn=p;else e:for(f=s;Sn!==null;){p=Sn;var T=p.sibling,E=p.return;if(i1(p),p===f){Sn=null;break e}if(T!==null){T.return=E,Sn=T;break e}Sn=E}}}var $B={getCacheForType:function(s){var l=Mn(en),f=l.data.get(s);return f===void 0&&(f=s(),l.data.set(s,f)),f},cacheSignal:function(){return Mn(en).controller.signal}},KB=typeof WeakMap=="function"?WeakMap:Map,at=0,yt=null,$e=null,je=0,ct=0,br=null,Fs=!1,ku=!1,G0=!1,Oo=0,Ot=0,Bs=0,pl=0,$0=0,Cr=0,Ou=0,Kf=null,ur=null,K0=!1,jp=0,m1=0,Yp=1/0,Wp=null,qs=null,hn=0,zs=null,Lu=null,Lo=0,j0=0,Y0=null,g1=null,jf=0,W0=null;function xr(){return(at&2)!==0&&je!==0?je&-je:ee.T!==null?t_():Jh()}function y1(){if(Cr===0)if((je&536870912)===0||Ze){var s=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),Cr=s}else Cr=536870912;return s=Sr.current,s!==null&&(s.flags|=32),Cr}function cr(s,l,f){(s===yt&&(ct===2||ct===9)||s.cancelPendingCommit!==null)&&(Vu(s,0),Hs(s,je,Cr,!1)),za(s,f),((at&2)===0||s!==yt)&&(s===yt&&((at&2)===0&&(pl|=f),Ot===4&&Hs(s,je,Cr,!1)),Wi(s))}function v1(s,l,f){if((at&6)!==0)throw Error(r(327));var p=!f&&(l&127)===0&&(l&s.expiredLanes)===0||ui(s,l),T=p?WB(s,l):X0(s,l,!0),E=p;do{if(T===0){ku&&!p&&Hs(s,l,0,!1);break}else{if(f=s.current.alternate,E&&!jB(f)){T=X0(s,l,!1),E=!1;continue}if(T===2){if(E=l,s.errorRecoveryDisabledLanes&E)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var O=s;T=Kf;var K=O.current.memoizedState.isDehydrated;if(K&&(Vu(O,C).flags|=256),C=X0(O,C,!1),C!==2){if(G0&&!K){O.errorRecoveryDisabledLanes|=E,pl|=E,T=4;break e}E=ur,ur=T,E!==null&&(ur===null?ur=E:ur.push.apply(ur,E))}T=C}if(E=!1,T!==2)continue}}if(T===1){Vu(s,0),Hs(s,l,0,!0);break}e:{switch(p=s,E=T,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Hs(p,l,Cr,!Fs);break e;case 2:ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(T=jp+300-Xn(),10<T)){if(Hs(p,l,Cr,!Fs),Mi(p,0,!0)!==0)break e;Lo=l,p.timeoutHandle=W1(_1.bind(null,p,f,ur,Wp,K0,l,Cr,pl,Ou,Fs,E,"Throttled",-0,0),T);break e}_1(p,f,ur,Wp,K0,l,Cr,pl,Ou,Fs,E,null,-0,0)}}break}while(!0);Wi(s)}function _1(s,l,f,p,T,E,C,O,K,Q,ie,ue,Z,ne){if(s.timeoutHandle=-1,ue=l.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},f1(l,E,ue);var Ae=(E&62914560)===E?jp-Xn():(E&4194048)===E?m1-Xn():0;if(Ae=Mq(ue,Ae),Ae!==null){Lo=E,s.cancelPendingCommit=Ae(x1.bind(null,s,l,E,f,p,T,C,O,K,ie,ue,null,Z,ne)),Hs(s,E,C,!Q);return}}x1(s,l,E,f,p,T,C,O,K)}function jB(s){for(var l=s;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var T=f[p],E=T.getSnapshot;T=T.value;try{if(!Er(E(),T))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Hs(s,l,f,p){l&=~$0,l&=~pl,s.suspendedLanes|=l,s.pingedLanes&=~l,p&&(s.warmLanes|=l),p=s.expirationTimes;for(var T=l;0<T;){var E=31-zt(T),C=1<<E;p[E]=-1,T&=~C}f!==0&&Ha(s,f,l)}function Jp(){return(at&6)===0?(Yf(0),!1):!0}function J0(){if($e!==null){if(ct===0)var s=$e.return;else s=$e,bo=ol=null,d0(s),xu=null,Pf=0,s=$e;for(;s!==null;)Jx(s.alternate,s),s=s.return;$e=null}}function Vu(s,l){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,hq(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),Lo=0,J0(),yt=s,$e=f=So(s.current,null),je=l,ct=0,br=null,Fs=!1,ku=ui(s,l),G0=!1,Ou=Cr=$0=pl=Bs=Ot=0,ur=Kf=null,K0=!1,(l&8)!==0&&(l|=l&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=l;0<p;){var T=31-zt(p),E=1<<T;l|=s[T],p&=~E}return Oo=l,yp(),f}function T1(s,l){Fe=null,ee.H=Uf,l===Cu||l===bp?(l=LC(),ct=3):l===e0?(l=LC(),ct=4):ct=l===I0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,br=l,$e===null&&(Ot=1,Fp(s,zr(l,s.current)))}function E1(){var s=Sr.current;return s===null?!0:(je&4194048)===je?Kr===null:(je&62914560)===je||(je&536870912)!==0?s===Kr:!1}function A1(){var s=ee.H;return ee.H=Uf,s===null?Uf:s}function S1(){var s=ee.A;return ee.A=$B,s}function Xp(){Ot=4,Fs||(je&4194048)!==je&&Sr.current!==null||(ku=!0),(Bs&134217727)===0&&(pl&134217727)===0||yt===null||Hs(yt,je,Cr,!1)}function X0(s,l,f){var p=at;at|=2;var T=A1(),E=S1();(yt!==s||je!==l)&&(Wp=null,Vu(s,l)),l=!1;var C=Ot;e:do try{if(ct!==0&&$e!==null){var O=$e,K=br;switch(ct){case 8:J0(),C=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(l=!0);var Q=ct;if(ct=0,br=null,Uu(s,O,K,Q),f&&ku){C=0;break e}break;default:Q=ct,ct=0,br=null,Uu(s,O,K,Q)}}YB(),C=Ot;break}catch(ie){T1(s,ie)}while(!0);return l&&s.shellSuspendCounter++,bo=ol=null,at=p,ee.H=T,ee.A=E,$e===null&&(yt=null,je=0,yp()),C}function YB(){for(;$e!==null;)w1($e)}function WB(s,l){var f=at;at|=2;var p=A1(),T=S1();yt!==s||je!==l?(Wp=null,Yp=Xn()+500,Vu(s,l)):ku=ui(s,l);e:do try{if(ct!==0&&$e!==null){l=$e;var E=br;t:switch(ct){case 1:ct=0,br=null,Uu(s,l,E,1);break;case 2:case 9:if(kC(E)){ct=0,br=null,b1(l);break}l=function(){ct!==2&&ct!==9||yt!==s||(ct=7),Wi(s)},E.then(l,l);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:kC(E)?(ct=0,br=null,b1(l)):(ct=0,br=null,Uu(s,l,E,7));break;case 5:var C=null;switch($e.tag){case 26:C=$e.memoizedState;case 5:case 27:var O=$e;if(C?cI(C):O.stateNode.complete){ct=0,br=null;var K=O.sibling;if(K!==null)$e=K;else{var Q=O.return;Q!==null?($e=Q,Qp(Q)):$e=null}break t}}ct=0,br=null,Uu(s,l,E,5);break;case 6:ct=0,br=null,Uu(s,l,E,6);break;case 8:J0(),Ot=6;break e;default:throw Error(r(462))}}JB();break}catch(ie){T1(s,ie)}while(!0);return bo=ol=null,ee.H=p,ee.A=T,at=f,$e!==null?0:(yt=null,je=0,yp(),Ot)}function JB(){for(;$e!==null&&!xv();)w1($e)}function w1(s){var l=Yx(s.alternate,s,Oo);s.memoizedProps=s.pendingProps,l===null?Qp(s):$e=l}function b1(s){var l=s,f=l.alternate;switch(l.tag){case 15:case 0:l=zx(f,l,l.pendingProps,l.type,void 0,je);break;case 11:l=zx(f,l,l.pendingProps,l.type.render,l.ref,je);break;case 5:d0(l);default:Jx(f,l),l=$e=SC(l,Oo),l=Yx(f,l,Oo)}s.memoizedProps=s.pendingProps,l===null?Qp(s):$e=l}function Uu(s,l,f,p){bo=ol=null,d0(l),xu=null,Pf=0;var T=l.return;try{if(UB(s,T,l,f,je)){Ot=1,Fp(s,zr(f,s.current)),$e=null;return}}catch(E){if(T!==null)throw $e=T,E;Ot=1,Fp(s,zr(f,s.current)),$e=null;return}l.flags&32768?(Ze||p===1?s=!0:ku||(je&536870912)!==0?s=!1:(Fs=s=!0,(p===2||p===9||p===3||p===6)&&(p=Sr.current,p!==null&&p.tag===13&&(p.flags|=16384))),C1(l,s)):Qp(l)}function Qp(s){var l=s;do{if((l.flags&32768)!==0){C1(l,Fs);return}s=l.return;var f=qB(l.alternate,l,Oo);if(f!==null){$e=f;return}if(l=l.sibling,l!==null){$e=l;return}$e=l=s}while(l!==null);Ot===0&&(Ot=5)}function C1(s,l){do{var f=zB(s.alternate,s);if(f!==null){f.flags&=32767,$e=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(s=s.sibling,s!==null)){$e=s;return}$e=s=f}while(s!==null);Ot=6,$e=null}function x1(s,l,f,p,T,E,C,O,K){s.cancelPendingCommit=null;do Zp();while(hn!==0);if((at&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=Fv,Pv(s,f,E,C,O,K),s===yt&&($e=yt=null,je=0),Lu=l,zs=s,Lo=f,j0=E,Y0=T,g1=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,eq(_s,function(){return N1(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=ee.T,ee.T=null,T=ce.p,ce.p=2,C=at,at|=4;try{HB(s,l,f)}finally{at=C,ce.p=T,ee.T=p}}hn=1,I1(),R1(),P1()}}function I1(){if(hn===1){hn=0;var s=zs,l=Lu,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=ee.T,ee.T=null;var p=ce.p;ce.p=2;var T=at;at|=4;try{l1(l,s);var E=u_,C=pC(s.containerInfo),O=E.focusedElem,K=E.selectionRange;if(C!==O&&O&&O.ownerDocument&&hC(O.ownerDocument.documentElement,O)){if(K!==null&&kv(O)){var Q=K.start,ie=K.end;if(ie===void 0&&(ie=Q),"selectionStart"in O)O.selectionStart=Q,O.selectionEnd=Math.min(ie,O.value.length);else{var ue=O.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var ne=Z.getSelection(),Ae=O.textContent.length,xe=Math.min(K.start,Ae),gt=K.end===void 0?xe:Math.min(K.end,Ae);!ne.extend&&xe>gt&&(C=gt,gt=xe,xe=C);var W=dC(O,xe),Y=dC(O,gt);if(W&&Y&&(ne.rangeCount!==1||ne.anchorNode!==W.node||ne.anchorOffset!==W.offset||ne.focusNode!==Y.node||ne.focusOffset!==Y.offset)){var X=ue.createRange();X.setStart(W.node,W.offset),ne.removeAllRanges(),xe>gt?(ne.addRange(X),ne.extend(Y.node,Y.offset)):(X.setEnd(Y.node,Y.offset),ne.addRange(X))}}}}for(ue=[],ne=O;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var se=ue[O];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}fm=!!l_,u_=l_=null}finally{at=T,ce.p=p,ee.T=f}}s.current=l,hn=2}}function R1(){if(hn===2){hn=0;var s=zs,l=Lu,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=ee.T,ee.T=null;var p=ce.p;ce.p=2;var T=at;at|=4;try{r1(s,l.alternate,l)}finally{at=T,ce.p=p,ee.T=f}}hn=3}}function P1(){if(hn===4||hn===3){hn=0,Hh();var s=zs,l=Lu,f=Lo,p=g1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?hn=5:(hn=0,Lu=zs=null,M1(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(qs=null),_o(f),l=l.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(li,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=ee.T,T=ce.p,ce.p=2,ee.T=null;try{for(var E=s.onRecoverableError,C=0;C<p.length;C++){var O=p[C];E(O.value,{componentStack:O.stack})}}finally{ee.T=l,ce.p=T}}(Lo&3)!==0&&Zp(),Wi(s),T=s.pendingLanes,(f&261930)!==0&&(T&42)!==0?s===W0?jf++:(jf=0,W0=s):jf=0,Yf(0)}}function M1(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,If(l)))}function Zp(){return I1(),R1(),P1(),N1()}function N1(){if(hn!==5)return!1;var s=zs,l=j0;j0=0;var f=_o(Lo),p=ee.T,T=ce.p;try{ce.p=32>f?32:f,ee.T=null,f=Y0,Y0=null;var E=zs,C=Lo;if(hn=0,Lu=zs=null,Lo=0,(at&6)!==0)throw Error(r(331));var O=at;if(at|=4,h1(E.current),c1(E,E.current,C,f),at=O,Yf(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(li,E)}catch{}return!0}finally{ce.p=T,ee.T=p,M1(s,l)}}function D1(s,l,f){l=zr(f,l),l=x0(s.stateNode,l,2),s=Os(s,l,2),s!==null&&(za(s,2),Wi(s))}function ft(s,l,f){if(s.tag===3)D1(s,s,f);else for(;l!==null;){if(l.tag===3){D1(l,s,f);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qs===null||!qs.has(p))){s=zr(f,s),f=kx(2),p=Os(l,f,2),p!==null&&(Ox(f,p,l,s),za(p,2),Wi(p));break}}l=l.return}}function Q0(s,l,f){var p=s.pingCache;if(p===null){p=s.pingCache=new KB;var T=new Set;p.set(l,T)}else T=p.get(l),T===void 0&&(T=new Set,p.set(l,T));T.has(f)||(G0=!0,T.add(f),s=XB.bind(null,s,l,f),l.then(s,s))}function XB(s,l,f){var p=s.pingCache;p!==null&&p.delete(l),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,yt===s&&(je&f)===f&&(Ot===4||Ot===3&&(je&62914560)===je&&300>Xn()-jp?(at&2)===0&&Vu(s,0):$0|=f,Ou===je&&(Ou=0)),Wi(s)}function k1(s,l){l===0&&(l=Wh()),s=nl(s,l),s!==null&&(za(s,l),Wi(s))}function QB(s){var l=s.memoizedState,f=0;l!==null&&(f=l.retryLane),k1(s,f)}function ZB(s,l){var f=0;switch(s.tag){case 31:case 13:var p=s.stateNode,T=s.memoizedState;T!==null&&(f=T.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),k1(s,f)}function eq(s,l){return dn(s,l)}var em=null,Fu=null,Z0=!1,tm=!1,e_=!1,Gs=0;function Wi(s){s!==Fu&&s.next===null&&(Fu===null?em=Fu=s:Fu=Fu.next=s),tm=!0,Z0||(Z0=!0,nq())}function Yf(s,l){if(!e_&&tm){e_=!0;do for(var f=!1,p=em;p!==null;){if(s!==0){var T=p.pendingLanes;if(T===0)var E=0;else{var C=p.suspendedLanes,O=p.pingedLanes;E=(1<<31-zt(42|s)+1)-1,E&=T&~(C&~O),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(f=!0,U1(p,E))}else E=je,E=Mi(p,p===yt?E:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(E&3)===0||ui(p,E)||(f=!0,U1(p,E));p=p.next}while(f);e_=!1}}function tq(){O1()}function O1(){tm=Z0=!1;var s=0;Gs!==0&&dq()&&(s=Gs);for(var l=Xn(),f=null,p=em;p!==null;){var T=p.next,E=L1(p,l);E===0?(p.next=null,f===null?em=T:f.next=T,T===null&&(Fu=f)):(f=p,(s!==0||(E&3)!==0)&&(tm=!0)),p=T}hn!==0&&hn!==5||Yf(s),Gs!==0&&(Gs=0)}function L1(s,l){for(var f=s.suspendedLanes,p=s.pingedLanes,T=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var C=31-zt(E),O=1<<C,K=T[C];K===-1?((O&f)===0||(O&p)!==0)&&(T[C]=Rv(O,l)):K<=l&&(s.expiredLanes|=O),E&=~O}if(l=yt,f=je,f=Mi(s,s===l?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,f===0||s===l&&(ct===2||ct===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&vs(p),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||ui(s,f)){if(l=f&-f,l===s.callbackPriority)return l;switch(p!==null&&vs(p),_o(f)){case 2:case 8:f=rf;break;case 32:f=_s;break;case 268435456:f=Gh;break;default:f=_s}return p=V1.bind(null,s),f=dn(f,p),s.callbackPriority=l,s.callbackNode=f,l}return p!==null&&p!==null&&vs(p),s.callbackPriority=2,s.callbackNode=null,2}function V1(s,l){if(hn!==0&&hn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(Zp()&&s.callbackNode!==f)return null;var p=je;return p=Mi(s,s===yt?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(v1(s,p,l),L1(s,Xn()),s.callbackNode!=null&&s.callbackNode===f?V1.bind(null,s):null)}function U1(s,l){if(Zp())return null;v1(s,l,!0)}function nq(){pq(function(){(at&6)!==0?dn(nf,tq):O1()})}function t_(){if(Gs===0){var s=wu;s===0&&(s=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),Gs=s}return Gs}function F1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:uu(""+s)}function B1(s,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,s.id&&f.setAttribute("form",s.id),l.parentNode.insertBefore(f,l),s=new FormData(s),f.parentNode.removeChild(f),s}function rq(s,l,f,p,T){if(l==="submit"&&f&&f.stateNode===T){var E=F1((T[En]||null).action),C=p.submitter;C&&(l=(l=C[En]||null)?F1(l.formAction):C.getAttribute("formAction"),l!==null&&(E=l,C=null));var O=new zi("action","action",null,p,T);s.push({event:O,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Gs!==0){var K=C?B1(T,C):new FormData(T);E0(f,{pending:!0,data:K,method:T.method,action:E},null,K)}}else typeof E=="function"&&(O.preventDefault(),K=C?B1(T,C):new FormData(T),E0(f,{pending:!0,data:K,method:T.method,action:E},E,K))},currentTarget:T}]})}}for(var n_=0;n_<Uv.length;n_++){var r_=Uv[n_],iq=r_.toLowerCase(),oq=r_[0].toUpperCase()+r_.slice(1);yi(iq,"on"+oq)}yi(yC,"onAnimationEnd"),yi(vC,"onAnimationIteration"),yi(_C,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(EB,"onTransitionRun"),yi(AB,"onTransitionStart"),yi(SB,"onTransitionCancel"),yi(TC,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wf));function q1(s,l){l=(l&4)!==0;for(var f=0;f<s.length;f++){var p=s[f],T=p.event;p=p.listeners;e:{var E=void 0;if(l)for(var C=p.length-1;0<=C;C--){var O=p[C],K=O.instance,Q=O.currentTarget;if(O=O.listener,K!==E&&T.isPropagationStopped())break e;E=O,T.currentTarget=Q;try{E(T)}catch(ie){gp(ie)}T.currentTarget=null,E=K}else for(C=0;C<p.length;C++){if(O=p[C],K=O.instance,Q=O.currentTarget,O=O.listener,K!==E&&T.isPropagationStopped())break e;E=O,T.currentTarget=Q;try{E(T)}catch(ie){gp(ie)}T.currentTarget=null,E=K}}}}function Ke(s,l){var f=l[iu];f===void 0&&(f=l[iu]=new Set);var p=s+"__bubble";f.has(p)||(z1(l,s,2,!1),f.add(p))}function i_(s,l,f){var p=0;l&&(p|=4),z1(f,s,p,l)}var nm="_reactListening"+Math.random().toString(36).slice(2);function o_(s){if(!s[nm]){s[nm]=!0,af.forEach(function(f){f!=="selectionchange"&&(sq.has(f)||i_(f,!1,s),i_(f,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[nm]||(l[nm]=!0,i_("selectionchange",!1,l))}}function z1(s,l,f,p){switch(yI(l)){case 2:var T=kq;break;case 8:T=Oq;break;default:T=T_}f=T.bind(null,l,f,s),T=void 0,!Ya||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),p?T!==void 0?s.addEventListener(l,f,{capture:!0,passive:T}):s.addEventListener(l,f,!0):T!==void 0?s.addEventListener(l,f,{passive:T}):s.addEventListener(l,f,!1)}function s_(s,l,f,p,T){var E=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var O=p.stateNode.containerInfo;if(O===T)break;if(C===4)for(C=p.return;C!==null;){var K=C.tag;if((K===3||K===4)&&C.stateNode.containerInfo===T)return;C=C.return}for(;O!==null;){if(C=Oi(O),C===null)return;if(K=C.tag,K===5||K===6||K===26||K===27){p=E=C;continue e}O=O.parentNode}}p=p.return}bs(function(){var Q=E,ie=Ur(f),ue=[];e:{var Z=EC.get(s);if(Z!==void 0){var ne=zi,Ae=s;switch(s){case"keypress":if(Ja(f)===0)break e;case"keydown":case"keyup":ne=hp;break;case"focusin":Ae="focus",ne=Qa;break;case"focusout":Ae="blur",ne=Qa;break;case"beforeblur":case"afterblur":ne=Qa;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=w;break;case yC:case vC:case _C:ne=sp;break;case TC:ne=V;break;case"scroll":case"scrollend":ne=_f;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ao;break;case"toggle":case"beforetoggle":ne=Ue}var xe=(l&4)!==0,gt=!xe&&(s==="scroll"||s==="scrollend"),W=xe?Z!==null?Z+"Capture":null:Z;xe=[];for(var Y=Q,X;Y!==null;){var se=Y;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||W===null||(se=hi(Y,W),se!=null&&xe.push(Jf(Y,se,X))),gt)break;Y=Y.return}0<xe.length&&(Z=new ne(Z,Ae,null,f,ie),ue.push({event:Z,listeners:xe}))}}if((l&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",Z&&f!==gf&&(Ae=f.relatedTarget||f.fromElement)&&(Oi(Ae)||Ae[Di]))break e;if((ne||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,ne?(Ae=f.relatedTarget||f.toElement,ne=Q,Ae=Ae?Oi(Ae):null,Ae!==null&&(gt=o(Ae),xe=Ae.tag,Ae!==gt||xe!==5&&xe!==27&&xe!==6)&&(Ae=null)):(ne=null,Ae=Q),ne!==Ae)){if(xe=Tf,se="onMouseLeave",W="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(xe=Ao,se="onPointerLeave",W="onPointerEnter",Y="pointer"),gt=ne==null?Z:_r(ne),X=Ae==null?Z:_r(Ae),Z=new xe(se,Y+"leave",ne,f,ie),Z.target=gt,Z.relatedTarget=X,se=null,Oi(ie)===Q&&(xe=new xe(W,Y+"enter",Ae,f,ie),xe.target=X,xe.relatedTarget=gt,se=xe),gt=se,ne&&Ae)t:{for(xe=aq,W=ne,Y=Ae,X=0,se=W;se;se=xe(se))X++;se=0;for(var we=Y;we;we=xe(we))se++;for(;0<X-se;)W=xe(W),X--;for(;0<se-X;)Y=xe(Y),se--;for(;X--;){if(W===Y||Y!==null&&W===Y.alternate){xe=W;break t}W=xe(W),Y=xe(Y)}xe=null}else xe=null;ne!==null&&H1(ue,Z,ne,xe,!1),Ae!==null&&gt!==null&&H1(ue,gt,Ae,xe,!0)}}e:{if(Z=Q?_r(Q):window,ne=Z.nodeName&&Z.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Z.type==="file")var tt=sC;else if(iC(Z))if(aC)tt=vB;else{tt=gB;var Se=mB}else ne=Z.nodeName,!ne||ne.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&lu(Q.elementType)&&(tt=sC):tt=yB;if(tt&&(tt=tt(s,Q))){oC(ue,tt,f,ie);break e}Se&&Se(s,Z,Q),s==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&hf(Z,"number",Z.value)}switch(Se=Q?_r(Q):window,s){case"focusin":(iC(Se)||Se.contentEditable==="true")&&(gu=Se,Ov=Q,bf=null);break;case"focusout":bf=Ov=gu=null;break;case"mousedown":Lv=!0;break;case"contextmenu":case"mouseup":case"dragend":Lv=!1,mC(ue,f,ie);break;case"selectionchange":if(TB)break;case"keydown":case"keyup":mC(ue,f,ie)}var Be;if(st)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else mu?Za(s,f)&&(Ye="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Ye="onCompositionStart");Ye&&($i&&f.locale!=="ko"&&(mu||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&mu&&(Be=vf()):(qi=ie,yf="value"in qi?qi.value:qi.textContent,mu=!0)),Se=rm(Q,Ye),0<Se.length&&(Ye=new Gi(Ye,s,null,f,ie),ue.push({event:Ye,listeners:Se}),Be?Ye.data=Be:(Be=pu(f),Be!==null&&(Ye.data=Be)))),(Be=Br?fB(s,f):dB(s,f))&&(Ye=rm(Q,"onBeforeInput"),0<Ye.length&&(Se=new Gi("onBeforeInput","beforeinput",null,f,ie),ue.push({event:Se,listeners:Ye}),Se.data=Be)),rq(ue,s,Q,f,ie)}q1(ue,l)})}function Jf(s,l,f){return{instance:s,listener:l,currentTarget:f}}function rm(s,l){for(var f=l+"Capture",p=[];s!==null;){var T=s,E=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||E===null||(T=hi(s,f),T!=null&&p.unshift(Jf(s,T,E)),T=hi(s,l),T!=null&&p.push(Jf(s,T,E))),s.tag===3)return p;s=s.return}return[]}function aq(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function H1(s,l,f,p,T){for(var E=l._reactName,C=[];f!==null&&f!==p;){var O=f,K=O.alternate,Q=O.stateNode;if(O=O.tag,K!==null&&K===p)break;O!==5&&O!==26&&O!==27||Q===null||(K=Q,T?(Q=hi(f,E),Q!=null&&C.unshift(Jf(f,Q,K))):T||(Q=hi(f,E),Q!=null&&C.push(Jf(f,Q,K)))),f=f.return}C.length!==0&&s.push({event:l,listeners:C})}var lq=/\r\n?/g,uq=/\u0000|\uFFFD/g;function G1(s){return(typeof s=="string"?s:""+s).replace(lq,`
`).replace(uq,"")}function $1(s,l){return l=G1(l),G1(s)===l}function mt(s,l,f,p,T,E){switch(f){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||or(s,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&or(s,""+p);break;case"className":Tr(s,"class",p);break;case"tabIndex":Tr(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(s,f,p);break;case"style":mf(s,p,E);break;case"data":if(l!=="object"){Tr(s,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||f!=="href")){s.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(f);break}p=uu(""+p),s.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(f==="formAction"?(l!=="input"&&mt(s,l,"name",T.name,T,null),mt(s,l,"formEncType",T.formEncType,T,null),mt(s,l,"formMethod",T.formMethod,T,null),mt(s,l,"formTarget",T.formTarget,T,null)):(mt(s,l,"encType",T.encType,T,null),mt(s,l,"method",T.method,T,null),mt(s,l,"target",T.target,T,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(f);break}p=uu(""+p),s.setAttribute(f,p);break;case"onClick":p!=null&&(s.onclick=di);break;case"onScroll":p!=null&&Ke("scroll",s);break;case"onScrollEnd":p!=null&&Ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}f=uu(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(f,""+p):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":p===!0?s.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(f,p):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(f,p):s.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(f):s.setAttribute(f,p);break;case"popover":Ke("beforetoggle",s),Ke("toggle",s),su(s,"popover",p);break;case"xlinkActuate":Zt(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Zt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Zt(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Zt(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Zt(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Zt(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":su(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=rp.get(f)||f,su(s,f,p))}}function a_(s,l,f,p,T,E){switch(f){case"style":mf(s,p,E);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"children":typeof p=="string"?or(s,p):(typeof p=="number"||typeof p=="bigint")&&or(s,""+p);break;case"onScroll":p!=null&&Ke("scroll",s);break;case"onScrollEnd":p!=null&&Ke("scrollend",s);break;case"onClick":p!=null&&(s.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lf.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(T=f.endsWith("Capture"),l=f.slice(2,T?f.length-7:void 0),E=s[En]||null,E=E!=null?E[f]:null,typeof E=="function"&&s.removeEventListener(l,E,T),typeof p=="function")){typeof E!="function"&&E!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(l,p,T);break e}f in s?s[f]=p:p===!0?s.setAttribute(f,""):su(s,f,p)}}}function Dn(s,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",s),Ke("load",s);var p=!1,T=!1,E;for(E in f)if(f.hasOwnProperty(E)){var C=f[E];if(C!=null)switch(E){case"src":p=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:mt(s,l,E,C,f,null)}}T&&mt(s,l,"srcSet",f.srcSet,f,null),p&&mt(s,l,"src",f.src,f,null);return;case"input":Ke("invalid",s);var O=E=C=T=null,K=null,Q=null;for(p in f)if(f.hasOwnProperty(p)){var ie=f[p];if(ie!=null)switch(p){case"name":T=ie;break;case"type":C=ie;break;case"checked":K=ie;break;case"defaultChecked":Q=ie;break;case"value":E=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:mt(s,l,p,ie,f,null)}}ep(s,E,O,K,Q,C,T,!1);return;case"select":Ke("invalid",s),p=C=E=null;for(T in f)if(f.hasOwnProperty(T)&&(O=f[T],O!=null))switch(T){case"value":E=O;break;case"defaultValue":C=O;break;case"multiple":p=O;default:mt(s,l,T,O,f,null)}l=E,f=C,s.multiple=!!p,l!=null?Es(s,!!p,l,!1):f!=null&&Es(s,!!p,f,!0);return;case"textarea":Ke("invalid",s),E=T=p=null;for(C in f)if(f.hasOwnProperty(C)&&(O=f[C],O!=null))switch(C){case"value":p=O;break;case"defaultValue":T=O;break;case"children":E=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:mt(s,l,C,O,f,null)}As(s,p,T,E);return;case"option":for(K in f)if(f.hasOwnProperty(K)&&(p=f[K],p!=null))switch(K){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:mt(s,l,K,p,f,null)}return;case"dialog":Ke("beforetoggle",s),Ke("toggle",s),Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":Ke("load",s);break;case"video":case"audio":for(p=0;p<Wf.length;p++)Ke(Wf[p],s);break;case"image":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"embed":case"source":case"link":Ke("error",s),Ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(p=f[Q],p!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:mt(s,l,Q,p,f,null)}return;default:if(lu(l)){for(ie in f)f.hasOwnProperty(ie)&&(p=f[ie],p!==void 0&&a_(s,l,ie,p,f,void 0));return}}for(O in f)f.hasOwnProperty(O)&&(p=f[O],p!=null&&mt(s,l,O,p,f,null))}function cq(s,l,f,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,E=null,C=null,O=null,K=null,Q=null,ie=null;for(ne in f){var ue=f[ne];if(f.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":K=ue;default:p.hasOwnProperty(ne)||mt(s,l,ne,null,p,ue)}}for(var Z in p){var ne=p[Z];if(ue=f[Z],p.hasOwnProperty(Z)&&(ne!=null||ue!=null))switch(Z){case"type":E=ne;break;case"name":T=ne;break;case"checked":Q=ne;break;case"defaultChecked":ie=ne;break;case"value":C=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==ue&&mt(s,l,Z,ne,p,ue)}}au(s,C,O,K,Q,ie,E,T);return;case"select":ne=C=O=Z=null;for(E in f)if(K=f[E],f.hasOwnProperty(E)&&K!=null)switch(E){case"value":break;case"multiple":ne=K;default:p.hasOwnProperty(E)||mt(s,l,E,null,p,K)}for(T in p)if(E=p[T],K=f[T],p.hasOwnProperty(T)&&(E!=null||K!=null))switch(T){case"value":Z=E;break;case"defaultValue":O=E;break;case"multiple":C=E;default:E!==K&&mt(s,l,T,E,p,K)}l=O,f=C,p=ne,Z!=null?Es(s,!!f,Z,!1):!!p!=!!f&&(l!=null?Es(s,!!f,l,!0):Es(s,!!f,f?[]:"",!1));return;case"textarea":ne=Z=null;for(O in f)if(T=f[O],f.hasOwnProperty(O)&&T!=null&&!p.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:mt(s,l,O,null,p,T)}for(C in p)if(T=p[C],E=f[C],p.hasOwnProperty(C)&&(T!=null||E!=null))switch(C){case"value":Z=T;break;case"defaultValue":ne=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==E&&mt(s,l,C,T,p,E)}tp(s,Z,ne);return;case"option":for(var Ae in f)if(Z=f[Ae],f.hasOwnProperty(Ae)&&Z!=null&&!p.hasOwnProperty(Ae))switch(Ae){case"selected":s.selected=!1;break;default:mt(s,l,Ae,null,p,Z)}for(K in p)if(Z=p[K],ne=f[K],p.hasOwnProperty(K)&&Z!==ne&&(Z!=null||ne!=null))switch(K){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:mt(s,l,K,Z,p,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in f)Z=f[xe],f.hasOwnProperty(xe)&&Z!=null&&!p.hasOwnProperty(xe)&&mt(s,l,xe,null,p,Z);for(Q in p)if(Z=p[Q],ne=f[Q],p.hasOwnProperty(Q)&&Z!==ne&&(Z!=null||ne!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,l));break;default:mt(s,l,Q,Z,p,ne)}return;default:if(lu(l)){for(var gt in f)Z=f[gt],f.hasOwnProperty(gt)&&Z!==void 0&&!p.hasOwnProperty(gt)&&a_(s,l,gt,void 0,p,Z);for(ie in p)Z=p[ie],ne=f[ie],!p.hasOwnProperty(ie)||Z===ne||Z===void 0&&ne===void 0||a_(s,l,ie,Z,p,ne);return}}for(var W in f)Z=f[W],f.hasOwnProperty(W)&&Z!=null&&!p.hasOwnProperty(W)&&mt(s,l,W,null,p,Z);for(ue in p)Z=p[ue],ne=f[ue],!p.hasOwnProperty(ue)||Z===ne||Z==null&&ne==null||mt(s,l,ue,Z,p,ne)}function K1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fq(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var T=f[p],E=T.transferSize,C=T.initiatorType,O=T.duration;if(E&&O&&K1(C)){for(C=0,O=T.responseEnd,p+=1;p<f.length;p++){var K=f[p],Q=K.startTime;if(Q>O)break;var ie=K.transferSize,ue=K.initiatorType;ie&&K1(ue)&&(K=K.responseEnd,C+=ie*(K<O?1:(O-Q)/(K-Q)))}if(--p,l+=8*(E+C)/(T.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var l_=null,u_=null;function im(s){return s.nodeType===9?s:s.ownerDocument}function j1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y1(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function c_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var f_=null;function dq(){var s=window.event;return s&&s.type==="popstate"?s===f_?!1:(f_=s,!0):(f_=null,!1)}var W1=typeof setTimeout=="function"?setTimeout:void 0,hq=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,pq=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(s){return J1.resolve(null).then(s).catch(mq)}:W1;function mq(s){setTimeout(function(){throw s})}function $s(s){return s==="head"}function X1(s,l){var f=l,p=0;do{var T=f.nextSibling;if(s.removeChild(f),T&&T.nodeType===8)if(f=T.data,f==="/$"||f==="/&"){if(p===0){s.removeChild(T),Hu(l);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")Xf(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,Xf(f);for(var E=f.firstChild;E;){var C=E.nextSibling,O=E.nodeName;E[ki]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||f.removeChild(E),E=C}}else f==="body"&&Xf(s.ownerDocument.body);f=T}while(f);Hu(l)}function Q1(s,l){var f=s;s=0;do{var p=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=p}while(f)}function d_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":d_(f),ou(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function gq(s,l,f,p){for(;s.nodeType===1;){var T=f;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[ki])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var E=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=jr(s.nextSibling),s===null)break}return null}function yq(s,l,f){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=jr(s.nextSibling),s===null))return null;return s}function Z1(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=jr(s.nextSibling),s===null))return null;return s}function h_(s){return s.data==="$?"||s.data==="$~"}function p_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function vq(s,l){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||f.readyState!=="loading")l();else{var p=function(){l(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function jr(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var m_=null;function eI(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(l===0)return jr(s.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}s=s.nextSibling}return null}function tI(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return s;l--}else f!=="/$"&&f!=="/&"||l++}s=s.previousSibling}return null}function nI(s,l,f){switch(l=im(f),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Xf(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);ou(s)}var Yr=new Map,rI=new Set;function om(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Vo=ce.d;ce.d={f:_q,r:Tq,D:Eq,C:Aq,L:Sq,m:wq,X:Cq,S:bq,M:xq};function _q(){var s=Vo.f(),l=Jp();return s||l}function Tq(s){var l=Vr(s);l!==null&&l.tag===5&&l.type==="form"?Tx(l):Vo.r(s)}var Bu=typeof document>"u"?null:document;function iI(s,l,f){var p=Bu;if(p&&typeof l=="string"&&l){var T=ir(l);T='link[rel="'+s+'"][href="'+T+'"]',typeof f=="string"&&(T+='[crossorigin="'+f+'"]'),rI.has(T)||(rI.add(T),s={rel:s,crossOrigin:f,href:l},p.querySelector(T)===null&&(l=p.createElement("link"),Dn(l,"link",s),Qt(l),p.head.appendChild(l)))}}function Eq(s){Vo.D(s),iI("dns-prefetch",s,null)}function Aq(s,l){Vo.C(s,l),iI("preconnect",s,l)}function Sq(s,l,f){Vo.L(s,l,f);var p=Bu;if(p&&s&&l){var T='link[rel="preload"][as="'+ir(l)+'"]';l==="image"&&f&&f.imageSrcSet?(T+='[imagesrcset="'+ir(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(T+='[imagesizes="'+ir(f.imageSizes)+'"]')):T+='[href="'+ir(s)+'"]';var E=T;switch(l){case"style":E=qu(s);break;case"script":E=zu(s)}Yr.has(E)||(s=m({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:s,as:l},f),Yr.set(E,s),p.querySelector(T)!==null||l==="style"&&p.querySelector(Qf(E))||l==="script"&&p.querySelector(Zf(E))||(l=p.createElement("link"),Dn(l,"link",s),Qt(l),p.head.appendChild(l)))}}function wq(s,l){Vo.m(s,l);var f=Bu;if(f&&s){var p=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+ir(p)+'"][href="'+ir(s)+'"]',E=T;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=zu(s)}if(!Yr.has(E)&&(s=m({rel:"modulepreload",href:s},l),Yr.set(E,s),f.querySelector(T)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Zf(E)))return}p=f.createElement("link"),Dn(p,"link",s),Qt(p),f.head.appendChild(p)}}}function bq(s,l,f){Vo.S(s,l,f);var p=Bu;if(p&&s){var T=Li(p).hoistableStyles,E=qu(s);l=l||"default";var C=T.get(E);if(!C){var O={loading:0,preload:null};if(C=p.querySelector(Qf(E)))O.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},f),(f=Yr.get(E))&&g_(s,f);var K=C=p.createElement("link");Qt(K),Dn(K,"link",s),K._p=new Promise(function(Q,ie){K.onload=Q,K.onerror=ie}),K.addEventListener("load",function(){O.loading|=1}),K.addEventListener("error",function(){O.loading|=2}),O.loading|=4,sm(C,l,p)}C={type:"stylesheet",instance:C,count:1,state:O},T.set(E,C)}}}function Cq(s,l){Vo.X(s,l);var f=Bu;if(f&&s){var p=Li(f).hoistableScripts,T=zu(s),E=p.get(T);E||(E=f.querySelector(Zf(T)),E||(s=m({src:s,async:!0},l),(l=Yr.get(T))&&y_(s,l),E=f.createElement("script"),Qt(E),Dn(E,"link",s),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(T,E))}}function xq(s,l){Vo.M(s,l);var f=Bu;if(f&&s){var p=Li(f).hoistableScripts,T=zu(s),E=p.get(T);E||(E=f.querySelector(Zf(T)),E||(s=m({src:s,async:!0,type:"module"},l),(l=Yr.get(T))&&y_(s,l),E=f.createElement("script"),Qt(E),Dn(E,"link",s),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(T,E))}}function oI(s,l,f,p){var T=(T=Ne.current)?om(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=qu(f.href),f=Li(T).hoistableStyles,p=f.get(l),p||(p={type:"style",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=qu(f.href);var E=Li(T).hoistableStyles,C=E.get(s);if(C||(T=T.ownerDocument||T,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,C),(E=T.querySelector(Qf(s)))&&!E._p&&(C.instance=E,C.state.loading=5),Yr.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Yr.set(s,f),E||Iq(T,s,f,C.state))),l&&p===null)throw Error(r(528,""));return C}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=zu(f),f=Li(T).hoistableScripts,p=f.get(l),p||(p={type:"script",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function qu(s){return'href="'+ir(s)+'"'}function Qf(s){return'link[rel="stylesheet"]['+s+"]"}function sI(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function Iq(s,l,f,p){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=s.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Dn(l,"link",f),Qt(l),s.head.appendChild(l))}function zu(s){return'[src="'+ir(s)+'"]'}function Zf(s){return"script[async]"+s}function aI(s,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var p=s.querySelector('style[data-href~="'+ir(f.href)+'"]');if(p)return l.instance=p,Qt(p),p;var T=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),Qt(p),Dn(p,"style",T),sm(p,f.precedence,s),l.instance=p;case"stylesheet":T=qu(f.href);var E=s.querySelector(Qf(T));if(E)return l.state.loading|=4,l.instance=E,Qt(E),E;p=sI(f),(T=Yr.get(T))&&g_(p,T),E=(s.ownerDocument||s).createElement("link"),Qt(E);var C=E;return C._p=new Promise(function(O,K){C.onload=O,C.onerror=K}),Dn(E,"link",p),l.state.loading|=4,sm(E,f.precedence,s),l.instance=E;case"script":return E=zu(f.src),(T=s.querySelector(Zf(E)))?(l.instance=T,Qt(T),T):(p=f,(T=Yr.get(E))&&(p=m({},f),y_(p,T)),s=s.ownerDocument||s,T=s.createElement("script"),Qt(T),Dn(T,"link",p),s.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,sm(p,f.precedence,s));return l.instance}function sm(s,l,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=p.length?p[p.length-1]:null,E=T,C=0;C<p.length;C++){var O=p[C];if(O.dataset.precedence===l)E=O;else if(E!==T)break}E?E.parentNode.insertBefore(s,E.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(s,l.firstChild))}function g_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function y_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var am=null;function lI(s,l,f){if(am===null){var p=new Map,T=am=new Map;T.set(f,p)}else T=am,p=T.get(f),p||(p=new Map,T.set(f,p));if(p.has(s))return p;for(p.set(s,null),f=f.getElementsByTagName(s),T=0;T<f.length;T++){var E=f[T];if(!(E[ki]||E[Xt]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var C=E.getAttribute(l)||"";C=s+C;var O=p.get(C);O?O.push(E):p.set(C,[E])}}return p}function uI(s,l,f){s=s.ownerDocument||s,s.head.insertBefore(f,l==="title"?s.querySelector("head > title"):null)}function Rq(s,l,f){if(f===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function cI(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Pq(s,l,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var T=qu(p.href),E=l.querySelector(Qf(T));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=lm.bind(s),l.then(s,s)),f.state.loading|=4,f.instance=E,Qt(E);return}E=l.ownerDocument||l,p=sI(p),(T=Yr.get(T))&&g_(p,T),E=E.createElement("link"),Qt(E);var C=E;C._p=new Promise(function(O,K){C.onload=O,C.onerror=K}),Dn(E,"link",p),f.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=lm.bind(s),l.addEventListener("load",f),l.addEventListener("error",f))}}var v_=0;function Mq(s,l){return s.stylesheets&&s.count===0&&cm(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var p=setTimeout(function(){if(s.stylesheets&&cm(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+l);0<s.imgBytes&&v_===0&&(v_=62500*fq());var T=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&cm(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>v_?50:800)+l);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(T)}}:null}function lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var um=null;function cm(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,um=new Map,l.forEach(Nq,s),um=null,lm.call(s))}function Nq(s,l){if(!(l.state.loading&4)){var f=um.get(s);if(f)var p=f.get(null);else{f=new Map,um.set(s,f);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<T.length;E++){var C=T[E];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(f.set(C.dataset.precedence,C),p=C)}p&&f.set(null,p)}T=l.instance,C=T.getAttribute("data-precedence"),E=f.get(C)||p,E===p&&f.set(null,T),f.set(C,T),this.count++,p=lm.bind(this),T.addEventListener("load",p),T.addEventListener("error",p),E?E.parentNode.insertBefore(T,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),l.state.loading|=4}}var ed={$$typeof:k,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Dq(s,l,f,p,T,E,C,O,K){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=p,this.onUncaughtError=T,this.onCaughtError=E,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function fI(s,l,f,p,T,E,C,O,K,Q,ie,ue){return s=new Dq(s,l,f,C,K,Q,ie,ue,O),l=1,E===!0&&(l|=24),E=Ar(3,null,null,l),s.current=E,E.stateNode=s,l=Xv(),l.refCount++,s.pooledCache=l,l.refCount++,E.memoizedState={element:p,isDehydrated:f,cache:l},t0(E),s}function dI(s){return s?(s=_u,s):_u}function hI(s,l,f,p,T,E){T=dI(T),p.context===null?p.context=T:p.pendingContext=T,p=ks(l),p.payload={element:f},E=E===void 0?null:E,E!==null&&(p.callback=E),f=Os(s,p,l),f!==null&&(cr(f,s,l),Nf(f,s,l))}function pI(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<l?f:l}}function __(s,l){pI(s,l),(s=s.alternate)&&pI(s,l)}function mI(s){if(s.tag===13||s.tag===31){var l=nl(s,67108864);l!==null&&cr(l,s,67108864),__(s,67108864)}}function gI(s){if(s.tag===13||s.tag===31){var l=xr();l=Ga(l);var f=nl(s,l);f!==null&&cr(f,s,l),__(s,l)}}var fm=!0;function kq(s,l,f,p){var T=ee.T;ee.T=null;var E=ce.p;try{ce.p=2,T_(s,l,f,p)}finally{ce.p=E,ee.T=T}}function Oq(s,l,f,p){var T=ee.T;ee.T=null;var E=ce.p;try{ce.p=8,T_(s,l,f,p)}finally{ce.p=E,ee.T=T}}function T_(s,l,f,p){if(fm){var T=E_(p);if(T===null)s_(s,l,p,dm,f),vI(s,p);else if(Vq(T,s,l,f,p))p.stopPropagation();else if(vI(s,p),l&4&&-1<Lq.indexOf(s)){for(;T!==null;){var E=Vr(T);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var C=Pi(E.pendingLanes);if(C!==0){var O=E;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var K=1<<31-zt(C);O.entanglements[1]|=K,C&=~K}Wi(E),(at&6)===0&&(Yp=Xn()+500,Yf(0))}}break;case 31:case 13:O=nl(E,2),O!==null&&cr(O,E,2),Jp(),__(E,2)}if(E=E_(p),E===null&&s_(s,l,p,dm,f),E===T)break;T=E}T!==null&&p.stopPropagation()}else s_(s,l,p,null,f)}}function E_(s){return s=Ur(s),A_(s)}var dm=null;function A_(s){if(dm=null,s=Oi(s),s!==null){var l=o(s);if(l===null)s=null;else{var f=l.tag;if(f===13){if(s=a(l),s!==null)return s;s=null}else if(f===31){if(s=u(l),s!==null)return s;s=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return dm=s,null}function yI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ba()){case nf:return 2;case rf:return 8;case _s:case Iv:return 32;case Gh:return 268435456;default:return 32}default:return 32}}var S_=!1,Ks=null,js=null,Ys=null,td=new Map,nd=new Map,Ws=[],Lq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vI(s,l){switch(s){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":td.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(l.pointerId)}}function rd(s,l,f,p,T,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:f,eventSystemFlags:p,nativeEvent:E,targetContainers:[T]},l!==null&&(l=Vr(l),l!==null&&mI(l)),s):(s.eventSystemFlags|=p,l=s.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),s)}function Vq(s,l,f,p,T){switch(l){case"focusin":return Ks=rd(Ks,s,l,f,p,T),!0;case"dragenter":return js=rd(js,s,l,f,p,T),!0;case"mouseover":return Ys=rd(Ys,s,l,f,p,T),!0;case"pointerover":var E=T.pointerId;return td.set(E,rd(td.get(E)||null,s,l,f,p,T)),!0;case"gotpointercapture":return E=T.pointerId,nd.set(E,rd(nd.get(E)||null,s,l,f,p,T)),!0}return!1}function _I(s){var l=Oi(s.target);if(l!==null){var f=o(l);if(f!==null){if(l=f.tag,l===13){if(l=a(f),l!==null){s.blockedOn=l,ci(s.priority,function(){gI(f)});return}}else if(l===31){if(l=u(f),l!==null){s.blockedOn=l,ci(s.priority,function(){gI(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hm(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var f=E_(s.nativeEvent);if(f===null){f=s.nativeEvent;var p=new f.constructor(f.type,f);gf=p,f.target.dispatchEvent(p),gf=null}else return l=Vr(f),l!==null&&mI(l),s.blockedOn=f,!1;l.shift()}return!0}function TI(s,l,f){hm(s)&&f.delete(l)}function Uq(){S_=!1,Ks!==null&&hm(Ks)&&(Ks=null),js!==null&&hm(js)&&(js=null),Ys!==null&&hm(Ys)&&(Ys=null),td.forEach(TI),nd.forEach(TI)}function pm(s,l){s.blockedOn===l&&(s.blockedOn=null,S_||(S_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Uq)))}var mm=null;function EI(s){mm!==s&&(mm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mm===s&&(mm=null);for(var l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],T=s[l+2];if(typeof p!="function"){if(A_(p||f)===null)continue;break}var E=Vr(f);E!==null&&(s.splice(l,3),l-=3,E0(E,{pending:!0,data:T,method:f.method,action:p},p,T))}}))}function Hu(s){function l(K){return pm(K,s)}Ks!==null&&pm(Ks,s),js!==null&&pm(js,s),Ys!==null&&pm(Ys,s),td.forEach(l),nd.forEach(l);for(var f=0;f<Ws.length;f++){var p=Ws[f];p.blockedOn===s&&(p.blockedOn=null)}for(;0<Ws.length&&(f=Ws[0],f.blockedOn===null);)_I(f),f.blockedOn===null&&Ws.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var T=f[p],E=f[p+1],C=T[En]||null;if(typeof E=="function")C||EI(f);else if(C){var O=null;if(E&&E.hasAttribute("formAction")){if(T=E,C=E[En]||null)O=C.formAction;else if(A_(T)!==null)continue}else O=C.action;typeof O=="function"?f[p+1]=O:(f.splice(p,3),p-=3),EI(f)}}}function AI(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(C){return T=C})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,T=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function w_(s){this._internalRoot=s}gm.prototype.render=w_.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,p=xr();hI(f,p,s,l,null,null)},gm.prototype.unmount=w_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;hI(s.current,2,null,s,null,null),Jp(),l[Di]=null}};function gm(s){this._internalRoot=s}gm.prototype.unstable_scheduleHydration=function(s){if(s){var l=Jh();s={blockedOn:null,target:s,priority:l};for(var f=0;f<Ws.length&&l!==0&&l<Ws[f].priority;f++);Ws.splice(f,0,s),f===0&&_I(s)}};var SI=e.version;if(SI!=="19.2.0")throw Error(r(527,SI,"19.2.0"));ce.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(l),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var Fq={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{li=ym.inject(Fq),In=ym}catch{}}return od.createRoot=function(s,l){if(!i(s))throw Error(r(299));var f=!1,p="",T=Px,E=Mx,C=Nx;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=fI(s,1,!1,null,null,f,p,null,T,E,C,AI),s[Di]=l.current,o_(s),new w_(l)},od.hydrateRoot=function(s,l,f){if(!i(s))throw Error(r(299));var p=!1,T="",E=Px,C=Mx,O=Nx,K=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onUncaughtError!==void 0&&(E=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(O=f.onRecoverableError),f.formState!==void 0&&(K=f.formState)),l=fI(s,1,!0,l,f??null,p,T,K,E,C,O,AI),l.context=dI(null),f=l.current,p=xr(),p=Ga(p),T=ks(p),T.callback=null,Os(f,T,p),f=p,l.current.lanes=f,za(l,f),Wi(l),s[Di]=l.current,o_(s),new gm(l)},od.version="19.2.0",od}var DI;function Qq(){if(DI)return I_.exports;DI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),I_.exports=Xq(),I_.exports}var Zq=Qq();const ez=Ia(Zq),JA=R.createContext({});function XA(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const QA=typeof window<"u",iO=QA?R.useLayoutEffect:R.useEffect,yy=R.createContext(null);function ZA(t,e){t.indexOf(e)===-1&&t.push(e)}function eS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Wo=(t,e,n)=>n>e?e:n<t?t:n;let tS=()=>{};const Jo={},oO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sO(t){return typeof t=="object"&&t!==null}const aO=t=>/^0[^.\s]+$/u.test(t);function nS(t){let e;return()=>(e===void 0&&(e=t()),e)}const ti=t=>t,tz=(t,e)=>n=>e(t(n)),ch=(...t)=>t.reduce(tz),Ld=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class rS{constructor(){this.subscriptions=[]}add(e){return ZA(this.subscriptions,e),()=>eS(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=t=>t*1e3,Zr=t=>t/1e3;function lO(t,e){return e?t*(1e3/e):0}const uO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nz=1e-7,rz=12;function iz(t,e,n,r,i){let o,a,u=0;do a=e+(n-e)/2,o=uO(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>nz&&++u<rz);return a}function fh(t,e,n,r){if(t===e&&n===r)return ti;const i=o=>iz(o,0,1,t,n);return o=>o===0||o===1?o:uO(i(o),e,r)}const cO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fO=t=>e=>1-t(1-e),dO=fh(.33,1.53,.69,.99),iS=fO(dO),hO=cO(iS),pO=t=>(t*=2)<1?.5*iS(t):.5*(2-Math.pow(2,-10*(t-1))),oS=t=>1-Math.sin(Math.acos(t)),mO=fO(oS),gO=cO(oS),oz=fh(.42,0,1,1),sz=fh(0,0,.58,1),yO=fh(.42,0,.58,1),az=t=>Array.isArray(t)&&typeof t[0]!="number",vO=t=>Array.isArray(t)&&typeof t[0]=="number",lz={linear:ti,easeIn:oz,easeInOut:yO,easeOut:sz,circIn:oS,circInOut:gO,circOut:mO,backIn:iS,backInOut:hO,backOut:dO,anticipate:pO},uz=t=>typeof t=="string",kI=t=>{if(vO(t)){tS(t.length===4);const[e,n,r,i]=t;return fh(e,n,r,i)}else if(uz(t))return lz[t];return t},vm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cz(t,e){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(d.schedule(h),t()),h(u)}const d={schedule:(h,m=!1,y=!1)=>{const S=y&&i?n:r;return m&&a.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(u=h,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,o&&(o=!1,d.process(h))}};return d}const fz=40;function _O(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=vm.reduce((k,H)=>(k[H]=cz(o),k),{}),{setup:u,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:y,render:A,postRender:S}=a,b=()=>{const k=Jo.useManualTiming?i.timestamp:performance.now();n=!1,Jo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,fz),1)),i.timestamp=k,i.isProcessing=!0,u.process(i),c.process(i),d.process(i),h.process(i),m.process(i),y.process(i),A.process(i),S.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},x=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:vm.reduce((k,H)=>{const F=a[H];return k[H]=(G,P=!1,D=!1)=>(n||x(),F.schedule(G,P,D)),k},{}),cancel:k=>{for(let H=0;H<vm.length;H++)a[vm[H]].cancel(k)},state:i,steps:a}}const{schedule:Rt,cancel:ma,state:On,steps:N_}=_O(typeof requestAnimationFrame<"u"?requestAnimationFrame:ti,!0);let Fm;function dz(){Fm=void 0}const pr={now:()=>(Fm===void 0&&pr.set(On.isProcessing||Jo.useManualTiming?On.timestamp:performance.now()),Fm),set:t=>{Fm=t,queueMicrotask(dz)}},TO=t=>e=>typeof e=="string"&&e.startsWith(t),sS=TO("--"),hz=TO("var(--"),aS=t=>hz(t)?pz.test(t.split("/*")[0].trim()):!1,pz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vd={...Oc,transform:t=>Wo(0,1,t)},_m={...Oc,default:1},Sd=t=>Math.round(t*1e5)/1e5,lS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mz(t){return t==null}const gz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uS=(t,e)=>n=>!!(typeof n=="string"&&gz.test(n)&&n.startsWith(t)||e&&!mz(n)&&Object.prototype.hasOwnProperty.call(n,e)),EO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,u]=r.match(lS);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},yz=t=>Wo(0,255,t),D_={...Oc,transform:t=>Math.round(yz(t))},Al={test:uS("rgb","red"),parse:EO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+D_.transform(t)+", "+D_.transform(e)+", "+D_.transform(n)+", "+Sd(Vd.transform(r))+")"};function vz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const fE={test:uS("#"),parse:vz,transform:Al.transform},dh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qs=dh("deg"),Zi=dh("%"),Me=dh("px"),_z=dh("vh"),Tz=dh("vw"),OI={...Zi,parse:t=>Zi.parse(t)/100,transform:t=>Zi.transform(t*100)},Qu={test:uS("hsl","hue"),parse:EO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zi.transform(Sd(e))+", "+Zi.transform(Sd(n))+", "+Sd(Vd.transform(r))+")"},sn={test:t=>Al.test(t)||fE.test(t)||Qu.test(t),parse:t=>Al.test(t)?Al.parse(t):Qu.test(t)?Qu.parse(t):fE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Al.transform(t):Qu.transform(t),getAnimatableNone:t=>{const e=sn.parse(t);return e.alpha=0,sn.transform(e)}},Ez=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Az(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lS))==null?void 0:e.length)||0)+(((n=t.match(Ez))==null?void 0:n.length)||0)>0}const AO="number",SO="color",Sz="var",wz="var(",LI="${}",bz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ud(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(bz,c=>(sn.test(c)?(r.color.push(o),i.push(SO),n.push(sn.parse(c))):c.startsWith(wz)?(r.var.push(o),i.push(Sz),n.push(c)):(r.number.push(o),i.push(AO),n.push(parseFloat(c))),++o,LI)).split(LI);return{values:n,split:u,indexes:r,types:i}}function wO(t){return Ud(t).values}function bO(t){const{split:e,types:n}=Ud(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const u=n[a];u===AO?o+=Sd(i[a]):u===SO?o+=sn.transform(i[a]):o+=i[a]}return o}}const Cz=t=>typeof t=="number"?0:sn.test(t)?sn.getAnimatableNone(t):t;function xz(t){const e=wO(t);return bO(t)(e.map(Cz))}const ga={test:Az,parse:wO,createTransformer:bO,getAnimatableNone:xz};function k_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Iz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;i=k_(c,u,t+1/3),o=k_(c,u,t),a=k_(c,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function ig(t,e){return n=>n>0?e:t}const Nt=(t,e,n)=>t+(e-t)*n,O_=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Rz=[fE,Al,Qu],Pz=t=>Rz.find(e=>e.test(t));function VI(t){const e=Pz(t);if(!e)return!1;let n=e.parse(t);return e===Qu&&(n=Iz(n)),n}const UI=(t,e)=>{const n=VI(t),r=VI(e);if(!n||!r)return ig(t,e);const i={...n};return o=>(i.red=O_(n.red,r.red,o),i.green=O_(n.green,r.green,o),i.blue=O_(n.blue,r.blue,o),i.alpha=Nt(n.alpha,r.alpha,o),Al.transform(i))},dE=new Set(["none","hidden"]);function Mz(t,e){return dE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Nz(t,e){return n=>Nt(t,e,n)}function cS(t){return typeof t=="number"?Nz:typeof t=="string"?aS(t)?ig:sn.test(t)?UI:Oz:Array.isArray(t)?CO:typeof t=="object"?sn.test(t)?UI:Dz:ig}function CO(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>cS(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function Dz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=cS(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function kz(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][r[o]],u=t.values[a]??0;n[i]=u,r[o]++}return n}const Oz=(t,e)=>{const n=ga.createTransformer(e),r=Ud(t),i=Ud(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?dE.has(t)&&!i.values.length||dE.has(e)&&!r.values.length?Mz(t,e):ch(CO(kz(r,i),i.values),n):ig(t,e)};function xO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Nt(t,e,n):cS(t)(t,e)}const Lz=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>ma(e),now:()=>On.isProcessing?On.timestamp:pr.now()}},IO=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},og=2e4;function fS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<og;)e+=n,r=t.next(e);return e>=og?1/0:e}function Vz(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(fS(r),og);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Zr(i)}}const Uz=5;function RO(t,e,n){const r=Math.max(e-Uz,0);return lO(n-t(r),e-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},L_=.001;function Fz({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let i,o,a=1-e;a=Wo(Vt.minDamping,Vt.maxDamping,a),t=Wo(Vt.minDuration,Vt.maxDuration,Zr(t)),a<1?(i=d=>{const h=d*a,m=h*t,y=h-n,A=hE(d,a),S=Math.exp(-m);return L_-y/A*S},o=d=>{const m=d*a*t,y=m*n+n,A=Math.pow(a,2)*Math.pow(d,2)*t,S=Math.exp(-m),b=hE(Math.pow(d,2),a);return(-i(d)+L_>0?-1:1)*((y-A)*S)/b}):(i=d=>{const h=Math.exp(-d*t),m=(d-n)*t+1;return-L_+h*m},o=d=>{const h=Math.exp(-d*t),m=(n-d)*(t*t);return h*m});const u=5/t,c=qz(i,o,u);if(t=Qi(t),isNaN(c))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const Bz=12;function qz(t,e,n){let r=n;for(let i=1;i<Bz;i++)r=r-t(r)/e(r);return r}function hE(t,e){return t*Math.sqrt(1-e*e)}const zz=["duration","bounce"],Hz=["stiffness","damping","mass"];function FI(t,e){return e.some(n=>t[n]!==void 0)}function Gz(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!FI(t,Hz)&&FI(t,zz))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Wo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Vt.mass,stiffness:i,damping:o}}else{const n=Fz(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function sg(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:c,damping:d,mass:h,duration:m,velocity:y,isResolvedFromDuration:A}=Gz({...n,velocity:-Zr(n.velocity||0)}),S=y||0,b=d/(2*Math.sqrt(c*h)),x=a-o,N=Zr(Math.sqrt(c/h)),B=Math.abs(x)<5;r||(r=B?Vt.restSpeed.granular:Vt.restSpeed.default),i||(i=B?Vt.restDelta.granular:Vt.restDelta.default);let k;if(b<1){const F=hE(N,b);k=G=>{const P=Math.exp(-b*N*G);return a-P*((S+b*N*x)/F*Math.sin(F*G)+x*Math.cos(F*G))}}else if(b===1)k=F=>a-Math.exp(-N*F)*(x+(S+N*x)*F);else{const F=N*Math.sqrt(b*b-1);k=G=>{const P=Math.exp(-b*N*G),D=Math.min(F*G,300);return a-P*((S+b*N*x)*Math.sinh(D)+F*x*Math.cosh(D))/F}}const H={calculatedDuration:A&&m||null,next:F=>{const G=k(F);if(A)u.done=F>=m;else{let P=F===0?S:0;b<1&&(P=F===0?Qi(S):RO(k,F,G));const D=Math.abs(P)<=r,L=Math.abs(a-G)<=i;u.done=D&&L}return u.value=u.done?a:G,u},toString:()=>{const F=Math.min(fS(H),og),G=IO(P=>H.next(F*P).value,F,30);return F+"ms "+G},toTransition:()=>{}};return H}sg.applyToOptions=t=>{const e=Vz(t,100,sg);return t.ease=e.ease,t.duration=Qi(e.duration),t.type="keyframes",t};function pE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:u,max:c,restDelta:d=.5,restSpeed:h}){const m=t[0],y={done:!1,value:m},A=D=>u!==void 0&&D<u||c!==void 0&&D>c,S=D=>u===void 0?c:c===void 0||Math.abs(u-D)<Math.abs(c-D)?u:c;let b=n*e;const x=m+b,N=a===void 0?x:a(x);N!==x&&(b=N-m);const B=D=>-b*Math.exp(-D/r),k=D=>N+B(D),H=D=>{const L=B(D),z=k(D);y.done=Math.abs(L)<=d,y.value=y.done?N:z};let F,G;const P=D=>{A(y.value)&&(F=D,G=sg({keyframes:[y.value,S(y.value)],velocity:RO(k,D,y.value),damping:i,stiffness:o,restDelta:d,restSpeed:h}))};return P(0),{calculatedDuration:null,next:D=>{let L=!1;return!G&&F===void 0&&(L=!0,H(D),P(D)),F!==void 0&&D>=F?G.next(D-F):(!L&&H(D),y)}}}function $z(t,e,n){const r=[],i=n||Jo.mix||xO,o=t.length-1;for(let a=0;a<o;a++){let u=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||ti:e;u=ch(c,u)}r.push(u)}return r}function Kz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(tS(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=$z(e,r,i),c=u.length,d=h=>{if(a&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const y=Ld(t[m],t[m+1],h);return u[m](y)};return n?h=>d(Wo(t[0],t[o-1],h)):d}function jz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ld(0,e,r);t.push(Nt(n,1,i))}}function Yz(t){const e=[0];return jz(e,t.length-1),e}function Wz(t,e){return t.map(n=>n*e)}function Jz(t,e){return t.map(()=>e||yO).splice(0,t.length-1)}function wd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=az(r)?r.map(kI):kI(r),o={done:!1,value:e[0]},a=Wz(n&&n.length===e.length?n:Yz(e),t),u=Kz(a,e,{ease:Array.isArray(i)?i:Jz(e,i)});return{calculatedDuration:t,next:c=>(o.value=u(c),o.done=c>=t,o)}}const Xz=t=>t!==null;function dS(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(Xz),u=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const Qz={decay:pE,inertia:pE,tween:wd,keyframes:wd,spring:sg};function PO(t){typeof t.type=="string"&&(t.type=Qz[t.type])}class hS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Zz=t=>t/100;class pS extends hS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==pr.now()&&this.tick(pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PO(e);const{type:n=wd,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:u}=e;const c=n||wd;c!==wd&&typeof u[0]!="number"&&(this.mixKeyframes=ch(Zz,xO(u[0],u[1])),u=[0,100]);const d=c({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=fS(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:y,repeatDelay:A,type:S,onUpdate:b,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,H=r;if(m){const D=Math.min(this.currentTime,i)/u;let L=Math.floor(D),z=D%1;!z&&D>=1&&(z=1),z===1&&L--,L=Math.min(L,m+1),!!(L%2)&&(y==="reverse"?(z=1-z,A&&(z-=A/u)):y==="mirror"&&(H=a)),k=Wo(0,1,z)*u}const F=B?{done:!1,value:h[0]}:H.next(k);o&&(F.value=o(F.value));let{done:G}=F;!B&&c!==null&&(G=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return P&&S!==pE&&(F.value=dS(h,this.options,x,this.speed)),b&&b(F.value),P&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return Zr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zr(e)}get time(){return Zr(this.currentTime)}set time(e){var n;e=Qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zr(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=Lz,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function e9(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Sl=t=>t*180/Math.PI,mE=t=>{const e=Sl(Math.atan2(t[1],t[0]));return gE(e)},t9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:mE,rotateZ:mE,skewX:t=>Sl(Math.atan(t[1])),skewY:t=>Sl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gE=t=>(t=t%360,t<0&&(t+=360),t),BI=mE,qI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),n9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qI,scaleY:zI,scale:t=>(qI(t)+zI(t))/2,rotateX:t=>gE(Sl(Math.atan2(t[6],t[5]))),rotateY:t=>gE(Sl(Math.atan2(-t[2],t[0]))),rotateZ:BI,rotate:BI,skewX:t=>Sl(Math.atan(t[4])),skewY:t=>Sl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yE(t){return t.includes("scale")?1:0}function vE(t,e){if(!t||t==="none")return yE(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=n9,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=t9,i=u}if(!i)return yE(e);const o=r[e],a=i[1].split(",").map(i9);return typeof o=="function"?o(a):a[o]}const r9=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vE(n,e)};function i9(t){return parseFloat(t.trim())}const Lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vc=new Set(Lc),HI=t=>t===Oc||t===Me,o9=new Set(["x","y","z"]),s9=Lc.filter(t=>!o9.has(t));function a9(t){const e=[];return s9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const xl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vE(e,"x"),y:(t,{transform:e})=>vE(e,"y")};xl.translateX=xl.x;xl.translateY=xl.y;const Il=new Set;let _E=!1,TE=!1,EE=!1;function MO(){if(TE){const t=Array.from(Il).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=a9(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var u;(u=r.getValue(o))==null||u.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}TE=!1,_E=!1,Il.forEach(t=>t.complete(EE)),Il.clear()}function NO(){Il.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(TE=!0)})}function l9(){EE=!0,NO(),MO(),EE=!1}class mS{constructor(e,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Il.add(this),_E||(_E=!0,Rt.read(NO),Rt.resolveKeyframes(MO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}e9(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Il.delete(this)}cancel(){this.state==="scheduled"&&(Il.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const u9=t=>t.startsWith("--");function c9(t,e,n){u9(e)?t.style.setProperty(e,n):t.style[e]=n}const f9=nS(()=>window.ScrollTimeline!==void 0),d9={};function h9(t,e){const n=nS(t);return()=>d9[e]??n()}const DO=h9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,GI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pd([0,.65,.55,1]),circOut:pd([.55,0,1,.45]),backIn:pd([.31,.01,.66,-.59]),backOut:pd([.33,1.53,.69,.99])};function kO(t,e){if(t)return typeof t=="function"?DO()?IO(t,e):"ease-out":vO(t)?pd(t):Array.isArray(t)?t.map(n=>kO(n,e)||GI.easeOut):GI[t]}function p9(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:u="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const m=kO(u,i);Array.isArray(m)&&(h.easing=m);const y={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),t.animate(h,y)}function OO(t){return typeof t=="function"&&"applyToOptions"in t}function m9({type:t,...e}){return OO(t)&&DO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class g9 extends hS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,tS(typeof e.type!="string");const d=m9(e);this.animation=p9(n,r,i,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=dS(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):c9(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zr(e)}get time(){return Zr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&f9()?(this.animation.timeline=e,ti):n(this)}}const LO={anticipate:pO,backInOut:hO,circInOut:gO};function y9(t){return t in LO}function v9(t){typeof t.ease=="string"&&y9(t.ease)&&(t.ease=LO[t.ease])}const $I=10;class _9 extends g9{constructor(e){v9(e),PO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new pS({...a,autoplay:!1}),c=Qi(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-$I).value,u.sample(c).value,$I),u.stop()}}const KI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ga.test(t)||t==="0")&&!t.startsWith("url("));function T9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function E9(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=KI(i,e),u=KI(o,e);return!a||!u?!1:T9(t)||(n==="spring"||OO(n))&&r}function AE(t){t.duration=0,t.type="keyframes"}const A9=new Set(["opacity","clipPath","filter","transform"]),S9=nS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function w9(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return S9()&&n&&A9.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const b9=40;class C9 extends hS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:u,name:c,motionValue:d,element:h,...m}){var S;super(),this.stop=()=>{var b,x;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=pr.now();const y={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:c,motionValue:d,element:h,...m},A=(h==null?void 0:h.KeyframeResolver)||mS;this.keyframeResolver=new A(u,(b,x,N)=>this.onKeyframesResolved(b,x,y,!N),c,d,h),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:a,velocity:u,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=pr.now(),E9(e,o,a,u)||((Jo.instantAnimations||!c)&&(h==null||h(dS(e,r,n))),e[0]=e[e.length-1],AE(r),r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>b9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!d&&w9(y)?new _9({...y,element:y.motionValue.owner.current}):new pS(y);A.finished.then(()=>this.notifyFinished()).catch(ti),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),l9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const x9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I9(t){const e=x9.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function VO(t,e,n=1){const[r,i]=I9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return oO(a)?parseFloat(a):a}return aS(i)?VO(i,e,n+1):i}function gS(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const UO=new Set(["width","height","top","left","right","bottom",...Lc]),R9={test:t=>t==="auto",parse:t=>t},FO=t=>e=>e.test(t),BO=[Oc,Me,Zi,Qs,Tz,_z,R9],jI=t=>BO.find(FO(t));function P9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aO(t):!0}const M9=new Set(["brightness","contrast","saturate","opacity"]);function N9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(lS)||[];if(!r)return t;const i=n.replace(r,"");let o=M9.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const D9=/\b([a-z-]*)\(.*?\)/gu,SE={...ga,getAnimatableNone:t=>{const e=t.match(D9);return e?e.map(N9).join(" "):t}},YI={...Oc,transform:Math.round},k9={rotate:Qs,rotateX:Qs,rotateY:Qs,rotateZ:Qs,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:Qs,skewX:Qs,skewY:Qs,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Vd,originX:OI,originY:OI,originZ:Me},yS={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...k9,zIndex:YI,fillOpacity:Vd,strokeOpacity:Vd,numOctaves:YI},O9={...yS,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:SE,WebkitFilter:SE},qO=t=>O9[t];function zO(t,e){let n=qO(t);return n!==SE&&(n=ga),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const L9=new Set(["auto","none","0"]);function V9(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!L9.has(o)&&Ud(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=zO(n,i)}class U9 extends mS{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),aS(d))){const h=VO(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!UO.has(r)||e.length!==2)return;const[i,o]=e,a=jI(i),u=jI(o);if(a!==u)if(HI(a)&&HI(u))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else xl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||P9(e[i]))&&r.push(i);r.length&&V9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=xl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function HO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const GO=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $O(t){return sO(t)&&"offsetHeight"in t}const WI=30,F9=t=>!isNaN(parseFloat(t));class B9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=pr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=F9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rS);const r=this.events[e].add(n);return e==="change"?()=>{r(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WI);return lO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vc(t,e){return new B9(t,e)}const{schedule:vS}=_O(queueMicrotask,!1),Ti={x:!1,y:!1};function KO(){return Ti.x||Ti.y}function q9(t){return t==="x"||t==="y"?Ti[t]?null:(Ti[t]=!0,()=>{Ti[t]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function jO(t,e){const n=HO(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function JI(t){return!(t.pointerType==="touch"||KO())}function z9(t,e,n={}){const[r,i,o]=jO(t,n),a=u=>{if(!JI(u))return;const{target:c}=u,d=e(c,u);if(typeof d!="function"||!c)return;const h=m=>{JI(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return r.forEach(u=>{u.addEventListener("pointerenter",a,i)}),o}const YO=(t,e)=>e?t===e?!0:YO(t,e.parentElement):!1,_S=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,H9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G9(t){return H9.has(t.tagName)||t.tabIndex!==-1}const Bm=new WeakSet;function XI(t){return e=>{e.key==="Enter"&&t(e)}}function V_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=XI(()=>{if(Bm.has(n))return;V_(n,"down");const i=XI(()=>{V_(n,"up")}),o=()=>V_(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function QI(t){return _S(t)&&!KO()}function K9(t,e,n={}){const[r,i,o]=jO(t,n),a=u=>{const c=u.currentTarget;if(!QI(u))return;Bm.add(c);const d=e(c,u),h=(A,S)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Bm.has(c)&&Bm.delete(c),QI(A)&&typeof d=="function"&&d(A,{success:S})},m=A=>{h(A,c===window||c===document||n.useGlobalTarget||YO(c,A.target))},y=A=>{h(A,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",y,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,i),$O(u)&&(u.addEventListener("focus",d=>$9(d,i)),!G9(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function WO(t){return sO(t)&&"ownerSVGElement"in t}function j9(t){return WO(t)&&t.tagName==="svg"}const $n=t=>!!(t&&t.getVelocity),Y9=[...BO,sn,ga],W9=t=>Y9.find(FO(t)),TS=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ZI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function J9(...t){return e=>{let n=!1;const r=t.map(i=>{const o=ZI(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():ZI(t[i],null)}}}}function X9(...t){return R.useCallback(J9(...t),t)}class Q9 extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=$O(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z9({children:t,isPresent:e,anchorX:n,root:r}){const i=R.useId(),o=R.useRef(null),a=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=R.useContext(TS),c=X9(o,t==null?void 0:t.ref);return R.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:y,right:A}=a.current;if(e||!o.current||!d||!h)return;const S=n==="left"?`left: ${y}`:`right: ${A}`;o.current.dataset.motionPopId=i;const b=document.createElement("style");u&&(b.nonce=u);const x=r??document.head;return x.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${S}px !important;
            top: ${m}px !important;
          }
        `),()=>{x.contains(b)&&x.removeChild(b)}},[e]),M.jsx(Q9,{isPresent:e,childRef:o,sizeRef:a,children:R.cloneElement(t,{ref:c})})}const eH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a,anchorX:u,root:c})=>{const d=XA(tH),h=R.useId();let m=!0,y=R.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:A=>{d.set(A,!0);for(const S of d.values())if(!S)return;r&&r()},register:A=>(d.set(A,!1),()=>d.delete(A))}),[n,d,r]);return o&&m&&(y={...y}),R.useMemo(()=>{d.forEach((A,S)=>d.set(S,!1))},[n]),R.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(t=M.jsx(Z9,{isPresent:n,anchorX:u,root:c,children:t})),M.jsx(yy.Provider,{value:y,children:t})};function tH(){return new Map}function JO(t=!0){const e=R.useContext(yy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=R.useId();R.useEffect(()=>{if(t)return i(o)},[t]);const a=R.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const Tm=t=>t.key||"";function eR(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const XO=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:u="left",root:c})=>{const[d,h]=JO(a),m=R.useMemo(()=>eR(t),[t]),y=a&&!d?[]:m.map(Tm),A=R.useRef(!0),S=R.useRef(m),b=XA(()=>new Map),[x,N]=R.useState(m),[B,k]=R.useState(m);iO(()=>{A.current=!1,S.current=m;for(let G=0;G<B.length;G++){const P=Tm(B[G]);y.includes(P)?b.delete(P):b.get(P)!==!0&&b.set(P,!1)}},[B,y.length,y.join("-")]);const H=[];if(m!==x){let G=[...m];for(let P=0;P<B.length;P++){const D=B[P],L=Tm(D);y.includes(L)||(G.splice(P,0,D),H.push(D))}return o==="wait"&&H.length&&(G=H),k(eR(G)),N(m),null}const{forceRender:F}=R.useContext(JA);return M.jsx(M.Fragment,{children:B.map(G=>{const P=Tm(G),D=a&&!d?!1:m===B||y.includes(P),L=()=>{if(b.has(P))b.set(P,!0);else return;let z=!0;b.forEach(U=>{U||(z=!1)}),z&&(F==null||F(),k(S.current),a&&(h==null||h()),r&&r())};return M.jsx(eH,{isPresent:D,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:c,onExitComplete:D?void 0:L,anchorX:u,children:G},P)})})},QO=R.createContext({strict:!1}),tR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_c={};for(const t in tR)_c[t]={isEnabled:e=>tR[t].some(n=>!!e[n])};function nH(t){for(const e in t)_c[e]={..._c[e],...t[e]}}const rH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ag(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rH.has(t)}let ZO=t=>!ag(t);function iH(t){typeof t=="function"&&(ZO=e=>e.startsWith("on")?!ag(e):t(e))}try{iH(require("@emotion/is-prop-valid").default)}catch{}function oH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZO(i)||n===!0&&ag(i)||!e&&!ag(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const vy=R.createContext({});function _y(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Fd(t){return typeof t=="string"||Array.isArray(t)}const ES=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AS=["initial",...ES];function Ty(t){return _y(t.animate)||AS.some(e=>Fd(t[e]))}function eL(t){return!!(Ty(t)||t.variants)}function sH(t,e){if(Ty(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Fd(n)?n:void 0,animate:Fd(r)?r:void 0}}return t.inherit!==!1?e:{}}function aH(t){const{initial:e,animate:n}=sH(t,R.useContext(vy));return R.useMemo(()=>({initial:e,animate:n}),[nR(e),nR(n)])}function nR(t){return Array.isArray(t)?t.join(" "):t}const Bd={};function lH(t){for(const e in t)Bd[e]=t[e],sS(e)&&(Bd[e].isCSSVariable=!0)}function tL(t,{layout:e,layoutId:n}){return Vc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bd[t]||t==="opacity")}const uH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cH=Lc.length;function fH(t,e,n){let r="",i=!0;for(let o=0;o<cH;o++){const a=Lc[o],u=t[a];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(a.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const d=GO(u,yS[a]);if(!c){i=!1;const h=uH[a]||a;r+=`${h}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function SS(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,u=!1;for(const c in e){const d=e[c];if(Vc.has(c)){a=!0;continue}else if(sS(c)){i[c]=d;continue}else{const h=GO(d,yS[c]);c.startsWith("origin")?(u=!0,o[c]=h):r[c]=h}}if(e.transform||(a||n?r.transform=fH(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:d="50%",originZ:h=0}=o;r.transformOrigin=`${c} ${d} ${h}`}}const wS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nL(t,e,n){for(const r in e)!$n(e[r])&&!tL(r,n)&&(t[r]=e[r])}function dH({transformTemplate:t},e){return R.useMemo(()=>{const n=wS();return SS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hH(t,e){const n=t.style||{},r={};return nL(r,n,t),Object.assign(r,dH(t,e)),r}function pH(t,e){const n={},r=hH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const mH={offset:"stroke-dashoffset",array:"stroke-dasharray"},gH={offset:"strokeDashoffset",array:"strokeDasharray"};function yH(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?mH:gH;t[o.offset]=Me.transform(-r);const a=Me.transform(e),u=Me.transform(n);t[o.array]=`${a} ${u}`}function rL(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...u},c,d,h){if(SS(t,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y}=t;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&yH(m,i,o,a,!1)}const iL=()=>({...wS(),attrs:{}}),oL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vH(t,e,n,r){const i=R.useMemo(()=>{const o=iL();return rL(o,e,oL(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};nL(o,t.style,t),i.style={...o,...i.style}}return i}const _H=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bS(t){return typeof t!="string"||t.includes("-")?!1:!!(_H.indexOf(t)>-1||/[A-Z]/u.test(t))}function TH(t,e,n,{latestValues:r},i,o=!1){const u=(bS(t)?vH:pH)(e,r,i,t),c=oH(e,typeof t=="string",o),d=t!==R.Fragment?{...c,...u,ref:n}:{},{children:h}=e,m=R.useMemo(()=>$n(h)?h.get():h,[h]);return R.createElement(t,{...d,children:m})}function rR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function CS(t,e,n,r){if(typeof e=="function"){const[i,o]=rR(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=rR(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function qm(t){return $n(t)?t.get():t}function EH({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:AH(n,r,i,t),renderState:e()}}function AH(t,e,n,r){const i={},o=r(t,{});for(const y in o)i[y]=qm(o[y]);let{initial:a,animate:u}=t;const c=Ty(t),d=eL(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const m=h?u:a;if(m&&typeof m!="boolean"&&!_y(m)){const y=Array.isArray(m)?m:[m];for(let A=0;A<y.length;A++){const S=CS(t,y[A]);if(S){const{transitionEnd:b,transition:x,...N}=S;for(const B in N){let k=N[B];if(Array.isArray(k)){const H=h?k.length-1:0;k=k[H]}k!==null&&(i[B]=k)}for(const B in b)i[B]=b[B]}}}return i}const sL=t=>(e,n)=>{const r=R.useContext(vy),i=R.useContext(yy),o=()=>EH(t,e,r,i);return n?o():XA(o)};function xS(t,e,n){var o;const{style:r}=t,i={};for(const a in r)($n(r[a])||e.style&&$n(e.style[a])||tL(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const SH=sL({scrapeMotionValuesFromProps:xS,createRenderState:wS});function aL(t,e,n){const r=xS(t,e,n);for(const i in t)if($n(t[i])||$n(e[i])){const o=Lc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const wH=sL({scrapeMotionValuesFromProps:aL,createRenderState:iL}),bH=Symbol.for("motionComponentSymbol");function Zu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CH(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zu(n)&&(n.current=r))},[e])}const IS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xH="framerAppearId",lL="data-"+IS(xH),uL=R.createContext({});function IH(t,e,n,r,i){var b,x;const{visualElement:o}=R.useContext(vy),a=R.useContext(QO),u=R.useContext(yy),c=R.useContext(TS).reducedMotion,d=R.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=R.useContext(uL);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&RH(d.current,n,i,m);const y=R.useRef(!1);R.useInsertionEffect(()=>{h&&y.current&&h.update(n,u)});const A=n[lL],S=R.useRef(!!A&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,A))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,A)));return iO(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),S.current&&h.animationState&&h.animationState.animateChanges())}),R.useEffect(()=>{h&&(!S.current&&h.animationState&&h.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,A)}),S.current=!1),h.enteringChildren=void 0)}),h}function RH(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cL(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||u&&Zu(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function cL(t){if(t)return t.options.allowProjection!==!1?t.projection:cL(t.parent)}function U_(t,{forwardMotionProps:e=!1}={},n,r){n&&nH(n);const i=bS(t)?wH:SH;function o(u,c){let d;const h={...R.useContext(TS),...u,layoutId:PH(u)},{isStatic:m}=h,y=aH(u),A=i(u,m);if(!m&&QA){MH();const S=NH(h);d=S.MeasureLayout,y.visualElement=IH(t,A,h,r,S.ProjectionNode)}return M.jsxs(vy.Provider,{value:y,children:[d&&y.visualElement?M.jsx(d,{visualElement:y.visualElement,...h}):null,TH(t,u,CH(A,y.visualElement,c),A,m,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=R.forwardRef(o);return a[bH]=t,a}function PH({layoutId:t}){const e=R.useContext(JA).id;return e&&t!==void 0?e+"-"+t:t}function MH(t,e){R.useContext(QO).strict}function NH(t){const{drag:e,layout:n}=_c;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function DH(t,e){if(typeof Proxy>"u")return U_;const n=new Map,r=(o,a)=>U_(o,a,t,e),i=(o,a)=>r(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,U_(a,void 0,t,e)),n.get(a))})}function fL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function kH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function F_(t){return t===void 0||t===1}function wE({scale:t,scaleX:e,scaleY:n}){return!F_(t)||!F_(e)||!F_(n)}function yl(t){return wE(t)||dL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dL(t){return iR(t.x)||iR(t.y)}function iR(t){return t&&t!=="0%"}function lg(t,e,n){const r=t-n,i=e*r;return n+i}function oR(t,e,n,r,i){return i!==void 0&&(t=lg(t,i,r)),lg(t,n,r)+e}function bE(t,e=0,n=1,r,i){t.min=oR(t.min,e,n,r,i),t.max=oR(t.max,e,n,r,i)}function hL(t,{x:e,y:n}){bE(t.x,e.translate,e.scale,e.originPoint),bE(t.y,n.translate,n.scale,n.originPoint)}const sR=.999999999999,aR=1.0000000000001;function LH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let u=0;u<i;u++){o=n[u],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&tc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,hL(t,a)),r&&yl(o.latestValues)&&tc(t,o.latestValues))}e.x<aR&&e.x>sR&&(e.x=1),e.y<aR&&e.y>sR&&(e.y=1)}function ec(t,e){t.min=t.min+e,t.max=t.max+e}function lR(t,e,n,r,i=.5){const o=Nt(t.min,t.max,i);bE(t,e,n,o,r)}function tc(t,e){lR(t.x,e.x,e.scaleX,e.scale,e.originX),lR(t.y,e.y,e.scaleY,e.scale,e.originY)}function pL(t,e){return fL(OH(t.getBoundingClientRect(),e))}function VH(t,e,n){const r=pL(t,n),{scroll:i}=e;return i&&(ec(r.x,i.offset.x),ec(r.y,i.offset.y)),r}const uR=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:uR(),y:uR()}),cR=()=>({min:0,max:0}),jt=()=>({x:cR(),y:cR()}),CE={current:null},mL={current:!1};function UH(){if(mL.current=!0,!!QA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>CE.current=t.matches;t.addEventListener("change",e),e()}else CE.current=!1}const FH=new WeakMap;function BH(t,e,n){for(const r in e){const i=e[r],o=n[r];if($n(i))t.addValue(r,i);else if($n(o))t.addValue(r,vc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,vc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=pr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Rt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Ty(n),this.isVariantNode=eL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const A=m[y];c[y]!==void 0&&$n(A)&&A.set(c[y])}}mount(e){var n;this.current=e,FH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),mL.current||UH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:CE.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Vc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _c){const n=_c[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fR.length;r++){const i=fR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=BH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(oO(r)||aO(r))?r=parseFloat(r):!W9(r)&&ga.test(n)&&(r=zO(e,n)),this.setBaseTarget(e,$n(r)?r.get():r)),$n(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=CS(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$n(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){vS.render(this.render)}}class gL extends qH{constructor(){super(...arguments),this.KeyframeResolver=U9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$n(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yL(t,{style:e,vars:n},r,i){const o=t.style;let a;for(a in e)o[a]=e[a];i==null||i.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function zH(t){return window.getComputedStyle(t)}class HH extends gL{constructor(){super(...arguments),this.type="html",this.renderInstance=yL}readValueFromInstance(e,n){var r;if(Vc.has(n))return(r=this.projection)!=null&&r.isProjecting?yE(n):r9(e,n);{const i=zH(e),o=(sS(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pL(e,n)}build(e,n,r){SS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return xS(e,n,r)}}const vL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GH(t,e,n,r){yL(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(vL.has(i)?i:IS(i),e.attrs[i])}class $H extends gL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vc.has(n)){const r=qO(n);return r&&r.default||0}return n=vL.has(n)?n:IS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return aL(e,n,r)}build(e,n,r){rL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){GH(e,n,r,i)}mount(e){this.isSVGTag=oL(e.tagName),super.mount(e)}}const KH=(t,e)=>bS(t)?new $H(e):new HH(e,{allowProjection:t!==R.Fragment});function lc(t,e,n){const r=t.getProps();return CS(r,e,n!==void 0?n:r.custom,t)}const xE=t=>Array.isArray(t);function jH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vc(n))}function YH(t){return xE(t)?t[t.length-1]||0:t}function WH(t,e){const n=lc(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const u=YH(o[a]);jH(t,a,u)}}function JH(t){return!!($n(t)&&t.add)}function IE(t,e){const n=t.getValue("willChange");if(JH(n))return n.add(e);if(!n&&Jo.WillChange){const r=new Jo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function _L(t){return t.props[lL]}const XH=t=>t!==null;function QH(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(XH),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const ZH={type:"spring",stiffness:500,damping:25,restSpeed:10},eG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tG={type:"keyframes",duration:.8},nG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rG=(t,{keyframes:e})=>e.length>2?tG:Vc.has(t)?t.startsWith("scale")?eG(e[1]):ZH:nG;function iG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:u,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const RS=(t,e,n,r={},i,o)=>a=>{const u=gS(r,t)||{},c=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Qi(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};iG(u)||Object.assign(h,rG(t,h)),h.duration&&(h.duration=Qi(h.duration)),h.repeatDelay&&(h.repeatDelay=Qi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(AE(h),h.delay===0&&(m=!0)),(Jo.instantAnimations||Jo.skipAnimations)&&(m=!0,AE(h),h.delay=0),h.allowFlatten=!u.type&&!u.ease,m&&!o&&e.get()!==void 0){const y=QH(h.keyframes,u);if(y!==void 0){Rt.update(()=>{h.onUpdate(y),h.onComplete()});return}}return u.isSync?new pS(h):new C9(h)};function oG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function TL(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in u){const m=t.getValue(h,t.latestValues[h]??null),y=u[h];if(y===void 0||d&&oG(d,h))continue;const A={delay:n,...gS(o||{},h)},S=m.get();if(S!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===S&&!A.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const N=_L(t);if(N){const B=window.MotionHandoffAnimation(N,h,Rt);B!==null&&(A.startTime=B,b=!0)}}IE(t,h),m.start(RS(h,m,y,t.shouldReduceMotion&&UO.has(h)?{type:!1}:A,t,b));const x=m.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{Rt.update(()=>{a&&WH(t,a)})}),c}function EL(t,e,n,r=0,i=1){const o=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),a=t.size,u=(a-1)*r;return typeof n=="function"?n(o,a):i===1?o*r:u-o*r}function RE(t,e,n={}){var c;const r=lc(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(TL(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:y}=i;return sG(t,e,d,h,m,y,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,h]=u==="beforeChildren"?[o,a]:[a,o];return d().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function sG(t,e,n=0,r=0,i=0,o=1,a){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(RE(c,e,{...a,delay:n+(typeof r=="function"?0:r)+EL(t.variantChildren,c,r,i,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function aG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>RE(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=RE(t,e,n);else{const i=typeof e=="function"?lc(t,e,n.custom):e;r=Promise.all(TL(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function AL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const lG=AS.length;function SL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lG;n++){const r=AS[n],i=t.props[r];(Fd(i)||i===!1)&&(e[r]=i)}return e}const uG=[...ES].reverse(),cG=ES.length;function fG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>aG(t,n,r)))}function dG(t){let e=fG(t),n=dR(),r=!0;const i=c=>(d,h)=>{var y;const m=lc(t,h,c==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(m){const{transition:A,transitionEnd:S,...b}=m;d={...d,...b,...S}}return d};function o(c){e=c(t)}function a(c){const{props:d}=t,h=SL(t.parent)||{},m=[],y=new Set;let A={},S=1/0;for(let x=0;x<cG;x++){const N=uG[x],B=n[N],k=d[N]!==void 0?d[N]:h[N],H=Fd(k),F=N===c?B.isActive:null;F===!1&&(S=x);let G=k===h[N]&&k!==d[N]&&H;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),B.protectedKeys={...A},!B.isActive&&F===null||!k&&!B.prevProp||_y(k)||typeof k=="boolean")continue;const P=hG(B.prevProp,k);let D=P||N===c&&B.isActive&&!G&&H||x>S&&H,L=!1;const z=Array.isArray(k)?k:[k];let U=z.reduce(i(N),{});F===!1&&(U={});const{prevResolvedValues:$={}}=B,q={...$,...U},Ce=ce=>{D=!0,y.has(ce)&&(L=!0,y.delete(ce)),B.needsAnimating[ce]=!0;const he=t.getValue(ce);he&&(he.liveStyle=!1)};for(const ce in q){const he=U[ce],Ee=$[ce];if(A.hasOwnProperty(ce))continue;let Ve=!1;xE(he)&&xE(Ee)?Ve=!AL(he,Ee):Ve=he!==Ee,Ve?he!=null?Ce(ce):y.add(ce):he!==void 0&&y.has(ce)?Ce(ce):B.protectedKeys[ce]=!0}B.prevProp=k,B.prevResolvedValues=U,B.isActive&&(A={...A,...U}),r&&t.blockInitialAnimation&&(D=!1);const qe=G&&P;D&&(!qe||L)&&m.push(...z.map(ce=>{const he={type:N};if(typeof ce=="string"&&r&&!qe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ee}=t,Ve=lc(Ee,ce);if(Ee.enteringChildren&&Ve){const{delayChildren:j}=Ve.transition||{};he.delay=EL(Ee.enteringChildren,t,j)}}return{animation:ce,options:he}}))}if(y.size){const x={};if(typeof d.initial!="boolean"){const N=lc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(x.transition=N.transition)}y.forEach(N=>{const B=t.getBaseTarget(N),k=t.getValue(N);k&&(k.liveStyle=!0),x[N]=B??null}),m.push({animation:x})}let b=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(m):Promise.resolve()}function u(c,d){var m;if(n[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(y=>{var A;return(A=y.animationState)==null?void 0:A.setActive(c,d)}),n[c].isActive=d;const h=a(c);for(const y in n)n[y].protectedKeys={};return h}return{animateChanges:a,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=dR()}}}function hG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AL(e,t):!1}function ml(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dR(){return{animate:ml(!0),whileInView:ml(),whileHover:ml(),whileTap:ml(),whileDrag:ml(),whileFocus:ml(),exit:ml()}}class Ra{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pG extends Ra{constructor(e){super(e),e.animationState||(e.animationState=dG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_y(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mG=0;class gG extends Ra{constructor(){super(...arguments),this.id=mG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yG={animation:{Feature:pG},exit:{Feature:gG}};function qd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function hh(t){return{point:{x:t.pageX,y:t.pageY}}}const vG=t=>e=>_S(e)&&t(e,hh(e));function bd(t,e,n,r){return qd(t,e,vG(n),r)}const wL=1e-4,_G=1-wL,TG=1+wL,bL=.01,EG=0-bL,AG=0+bL;function er(t){return t.max-t.min}function SG(t,e,n){return Math.abs(t-e)<=n}function hR(t,e,n,r=.5){t.origin=r,t.originPoint=Nt(e.min,e.max,t.origin),t.scale=er(n)/er(e),t.translate=Nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_G&&t.scale<=TG||isNaN(t.scale))&&(t.scale=1),(t.translate>=EG&&t.translate<=AG||isNaN(t.translate))&&(t.translate=0)}function Cd(t,e,n,r){hR(t.x,e.x,n.x,r?r.originX:void 0),hR(t.y,e.y,n.y,r?r.originY:void 0)}function pR(t,e,n){t.min=n.min+e.min,t.max=t.min+er(e)}function wG(t,e,n){pR(t.x,e.x,n.x),pR(t.y,e.y,n.y)}function mR(t,e,n){t.min=e.min-n.min,t.max=t.min+er(e)}function xd(t,e,n){mR(t.x,e.x,n.x),mR(t.y,e.y,n.y)}function Xr(t){return[t("x"),t("y")]}const CL=({current:t})=>t?t.ownerDocument.defaultView:null,gR=(t,e)=>Math.abs(t-e);function bG(t,e){const n=gR(t.x,e.x),r=gR(t.y,e.y);return Math.sqrt(n**2+r**2)}class xL{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=q_(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,S=bG(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!S)return;const{point:b}=y,{timestamp:x}=On;this.history.push({...b,timestamp:x});const{onStart:N,onMove:B}=this.handlers;A||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,y)},this.handlePointerMove=(y,A)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=B_(A,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(y,A)=>{this.end();const{onEnd:S,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=q_(y.type==="pointercancel"?this.lastMoveEventInfo:B_(A,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,N),b&&b(y,N)},!_S(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const u=hh(e),c=B_(u,this.transformPagePoint),{point:d}=c,{timestamp:h}=On;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=n;m&&m(e,q_(c,this.history)),this.removeListeners=ch(bd(this.contextWindow,"pointermove",this.handlePointerMove),bd(this.contextWindow,"pointerup",this.handlePointerUp),bd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ma(this.updatePoint)}}function B_(t,e){return e?{point:e(t.point)}:t}function yR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function q_({point:t},e){return{point:t,delta:yR(t,IL(e)),offset:yR(t,CG(e)),velocity:xG(e,.1)}}function CG(t){return t[0]}function IL(t){return t[t.length-1]}function xG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=IL(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Qi(e)));)n--;if(!r)return{x:0,y:0};const o=Zr(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function IG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Nt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Nt(n,t,r.max):Math.min(t,n)),t}function vR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RG(t,{top:e,left:n,bottom:r,right:i}){return{x:vR(t.x,n,i),y:vR(t.y,e,r)}}function _R(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function PG(t,e){return{x:_R(t.x,e.x),y:_R(t.y,e.y)}}function MG(t,e){let n=.5;const r=er(t),i=er(e);return i>r?n=Ld(e.min,e.max-r,t.min):r>i&&(n=Ld(t.min,t.max-i,e.min)),Wo(0,1,n)}function NG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const PE=.35;function DG(t=PE){return t===!1?t=0:t===!0&&(t=PE),{x:TR(t,"left","right"),y:TR(t,"top","bottom")}}function TR(t,e,n){return{min:ER(t,e),max:ER(t,n)}}function ER(t,e){return typeof t=="number"?t:t[e]||0}const kG=new WeakMap;class OG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hh(m).point)},a=(m,y)=>{const{drag:A,dragPropagation:S,onDragStart:b}=this.getProps();if(A&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=q9(A),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(N=>{let B=this.getAxisMotionValue(N).get()||0;if(Zi.test(B)){const{projection:k}=this.visualElement;if(k&&k.layout){const H=k.layout.layoutBox[N];H&&(B=er(H)*(parseFloat(B)/100))}}this.originPoint[N]=B}),b&&Rt.postRender(()=>b(m,y)),IE(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},u=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:A,dragDirectionLock:S,onDirectionLock:b,onDrag:x}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:N}=y;if(S&&this.currentDirection===null){this.currentDirection=LG(N),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),x&&x(m,y)},c=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Xr(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new xL(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:CL(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&Rt.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Em(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=IG(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Zu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=RG(r.layoutBox,e):this.constraints=!1,this.elastic=DG(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=NG(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=VH(r,i.root,this.visualElement.getTransformPagePoint());let a=PG(i.layout.layoutBox,o);if(n){const u=n(kH(a));this.hasMutatedConstraints=!!u,u&&(a=fL(u))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},d=Xr(h=>{if(!Em(h,n,this.currentDirection))return;let m=c&&c[h]||{};a&&(m={min:0,max:0});const y=i?200:1e6,A=i?40:1e7,S={type:"inertia",velocity:r?e[h]:0,bounceStiffness:y,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(h,S)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return IE(this.visualElement,e),r.start(RS(e,r,0,n,this.visualElement,!1))}stopAnimation(){Xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xr(n=>{const{drag:r}=this.getProps();if(!Em(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:u}=i.layout.layoutBox[n];o.set(e[n]-Nt(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xr(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();i[a]=MG({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xr(a=>{if(!Em(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];u.set(Nt(c,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;kG.set(this.visualElement,this);const e=this.visualElement.current,n=bd(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Zu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Rt.read(r);const a=qd(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Xr(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=PE,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:u}}}function Em(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VG extends Ra{constructor(e){super(e),this.removeGroupControls=ti,this.removeListeners=ti,this.controls=new OG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const AR=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class UG extends Ra{constructor(){super(...arguments),this.removePointerDownListener=ti}onPointerDown(e){this.session=new xL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AR(e),onStart:AR(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&Rt.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=bd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function SR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=SR(t,e.target.x),r=SR(t,e.target.y);return`${n}% ${r}%`}},FG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ga.parse(t);if(i.length>5)return r;const o=ga.createTransformer(t),a=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=u,i[1+a]/=c;const d=Nt(u,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),o(i)}};let z_=!1;class BG extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;lH(qG),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),z_&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,z_=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Rt.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;z_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RL(t){const[e,n]=JO(),r=R.useContext(JA);return M.jsx(BG,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(uL),isPresent:e,safeToRemove:n})}const qG={borderRadius:{...sd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sd,borderTopRightRadius:sd,borderBottomLeftRadius:sd,borderBottomRightRadius:sd,boxShadow:FG};function zG(t,e,n){const r=$n(t)?t:vc(t);return r.start(RS("",r,e,n)),r.animation}const HG=(t,e)=>t.depth-e.depth;class GG{constructor(){this.children=[],this.isDirty=!1}add(e){ZA(this.children,e),this.isDirty=!0}remove(e){eS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HG),this.isDirty=!1,this.children.forEach(e)}}function $G(t,e){const n=pr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(ma(r),t(o-e))};return Rt.setup(r,!0),()=>ma(r)}const PL=["TopLeft","TopRight","BottomLeft","BottomRight"],KG=PL.length,wR=t=>typeof t=="string"?parseFloat(t):t,bR=t=>typeof t=="number"||Me.test(t);function jG(t,e,n,r,i,o){i?(t.opacity=Nt(0,n.opacity??1,YG(r)),t.opacityExit=Nt(e.opacity??1,0,WG(r))):o&&(t.opacity=Nt(e.opacity??1,n.opacity??1,r));for(let a=0;a<KG;a++){const u=`border${PL[a]}Radius`;let c=CR(e,u),d=CR(n,u);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||bR(c)===bR(d)?(t[u]=Math.max(Nt(wR(c),wR(d),r),0),(Zi.test(d)||Zi.test(c))&&(t[u]+="%")):t[u]=d}(e.rotate||n.rotate)&&(t.rotate=Nt(e.rotate||0,n.rotate||0,r))}function CR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YG=ML(0,.5,mO),WG=ML(.5,.95,ti);function ML(t,e,n){return r=>r<t?0:r>e?1:n(Ld(t,e,r))}function xR(t,e){t.min=e.min,t.max=e.max}function Wr(t,e){xR(t.x,e.x),xR(t.y,e.y)}function IR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function RR(t,e,n,r,i){return t-=e,t=lg(t,1/n,r),i!==void 0&&(t=lg(t,1/i,r)),t}function JG(t,e=0,n=1,r=.5,i,o=t,a=t){if(Zi.test(e)&&(e=parseFloat(e),e=Nt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=Nt(o.min,o.max,r);t===o&&(u-=e),t.min=RR(t.min,e,n,u,i),t.max=RR(t.max,e,n,u,i)}function PR(t,e,[n,r,i],o,a){JG(t,e[n],e[r],e[i],e.scale,o,a)}const XG=["x","scaleX","originX"],QG=["y","scaleY","originY"];function MR(t,e,n,r){PR(t.x,e,XG,n?n.x:void 0,r?r.x:void 0),PR(t.y,e,QG,n?n.y:void 0,r?r.y:void 0)}function NR(t){return t.translate===0&&t.scale===1}function NL(t){return NR(t.x)&&NR(t.y)}function DR(t,e){return t.min===e.min&&t.max===e.max}function ZG(t,e){return DR(t.x,e.x)&&DR(t.y,e.y)}function kR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DL(t,e){return kR(t.x,e.x)&&kR(t.y,e.y)}function OR(t){return er(t.x)/er(t.y)}function LR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class e8{constructor(){this.members=[]}add(e){ZA(this.members,e),e.scheduleRender()}remove(e){if(eS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t8(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:y,skewX:A,skewY:S}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),A&&(r+=`skewX(${A}deg) `),S&&(r+=`skewY(${S}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const H_=["","X","Y","Z"],n8=1e3;let r8=0;function G_(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function kL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_L(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&kL(r)}function OL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},u=e==null?void 0:e()){this.id=r8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s8),this.nodes.forEach(c8),this.nodes.forEach(f8),this.nodes.forEach(a8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new GG)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new rS),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const c=this.eventHandlers.get(a);c&&c.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=WO(a)&&!j9(a),this.instance=a;const{layoutId:u,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let h,m=0;const y=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{m=window.innerWidth}),t(a,()=>{const A=window.innerWidth;A!==m&&(m=A,this.root.updateBlockedByResize=!0,h&&h(),h=$G(y,250),zm.hasAnimatedSinceResize&&(zm.hasAnimatedSinceResize=!1,this.nodes.forEach(FR)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||g8,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),N=!this.targetLayout||!DL(this.targetLayout,A),B=!m&&y;if(this.options.layoutRoot||this.resumeFrom||B||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...gS(S,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,B)}else m||FR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d8),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(UR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(u8),this.nodes.forEach(i8),this.nodes.forEach(o8)):this.nodes.forEach(UR),this.clearAllSnapshots();const u=pr.now();On.delta=Wo(0,1e3/60,u-On.timestamp),On.timestamp=u,On.isProcessing=!0,N_.update.process(On),N_.preRender.process(On),N_.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l8),this.sharedNodes.forEach(h8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!er(this.snapshot.measuredBox.x)&&!er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!NL(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;a&&this.instance&&(u||yl(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return a&&(c=this.removeTransform(c)),y8(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:a}=this.options;if(!a)return jt();const u=a.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(v8))){const{scroll:h}=this.root;h&&(ec(u.x,h.offset.x),ec(u.y,h.offset.y))}return u}removeElementScroll(a){var c;const u=jt();if(Wr(u,a),(c=this.scroll)!=null&&c.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:y}=h;h!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&Wr(u,a),ec(u.x,m.offset.x),ec(u.y,m.offset.y))}return u}applyTransform(a,u=!1){const c=jt();Wr(c,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&tc(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),yl(h.latestValues)&&tc(c,h.latestValues)}return yl(this.latestValues)&&tc(c,this.latestValues),c}removeTransform(a){const u=jt();Wr(u,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!yl(d.latestValues))continue;wE(d.latestValues)&&d.updateSnapshot();const h=jt(),m=d.measurePageBox();Wr(h,m),MR(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return yl(this.latestValues)&&MR(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),xd(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wr(this.target,this.layout.layoutBox),hL(this.target,this.targetDelta)):Wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),xd(this.relativeTargetOrigin,this.target,A.target),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wE(this.parent.latestValues)||dL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===On.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Wr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;LH(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=jt());const{target:A}=a;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(IR(this.prevProjectionDelta.x,this.projectionDelta.x),IR(this.prevProjectionDelta.y,this.projectionDelta.y)),Cd(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!LR(this.projectionDelta.x,this.prevProjectionDelta.x)||!LR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(a,u=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=jt(),A=c?c.source:void 0,S=this.layout?this.layout.source:void 0,b=A!==S,x=this.getStack(),N=!x||x.members.length<=1,B=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(m8));this.animationProgress=0;let k;this.mixTargetDelta=H=>{const F=H/1e3;BR(m.x,a.x,F),BR(m.y,a.y,F),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p8(this.relativeTarget,this.relativeTargetOrigin,y,F),k&&ZG(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=jt()),Wr(k,this.relativeTarget)),b&&(this.animationValues=h,jG(h,d,this.latestValues,F,B,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var u,c,d;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{zm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vc(0)),this.currentAnimation=zG(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(n8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:c,layout:d,latestValues:h}=a;if(!(!u||!c||!d)){if(this!==a&&this.layout&&d&&LL(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||jt();const m=er(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+m;const y=er(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+y}Wr(u,c),tc(u,h),Cd(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new e8),this.sharedNodes.get(a).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var u;const{layoutId:a}=this.options;return a?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:a}=this.options;return a?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const d={};c.z&&G_("z",a,d,this.animationValues);for(let h=0;h<H_.length;h++)G_(`rotate${H_[h]}`,a,d,this.animationValues),G_(`skew${H_[h]}`,a,d,this.animationValues);a.render();for(const h in d)a.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);a.scheduleRender()}applyProjectionStyles(a,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=qm(u==null?void 0:u.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=qm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!yl(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=t8(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),a.transform=m;const{x:y,y:A}=this.projectionDelta;a.transformOrigin=`${y.origin*100}% ${A.origin*100}% 0`,d.animationValues?a.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in Bd){if(h[S]===void 0)continue;const{correct:b,applyTo:x,isCSSVariable:N}=Bd[S],B=m==="none"?h[S]:b(h[S],d);if(x){const k=x.length;for(let H=0;H<k;H++)a[x[H]]=B}else N?this.options.visualElement.renderState.vars[S]=B:a[S]=B}this.options.layoutId&&(a.pointerEvents=d===this?qm(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(VR),this.root.sharedNodes.clear()}}}function i8(t){t.updateLayout()}function o8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Xr(m=>{const y=a?e.measuredBox[m]:e.layoutBox[m],A=er(y);y.min=r[m].min,y.max=y.min+A}):LL(o,e.layoutBox,r)&&Xr(m=>{const y=a?e.measuredBox[m]:e.layoutBox[m],A=er(r[m]);y.max=y.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+A)});const u=nc();Cd(u,r,e.layoutBox);const c=nc();a?Cd(c,t.applyTransform(i,!0),e.measuredBox):Cd(c,r,e.layoutBox);const d=!NL(u);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:A}=m;if(y&&A){const S=jt();xd(S,e.layoutBox,y.layoutBox);const b=jt();xd(b,r,A.layoutBox),DL(S,b)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function s8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function l8(t){t.clearSnapshot()}function VR(t){t.clearMeasurements()}function UR(t){t.isLayoutDirty=!1}function u8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function FR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function c8(t){t.resolveTargetDelta()}function f8(t){t.calcProjection()}function d8(t){t.resetSkewAndRotation()}function h8(t){t.removeLeadSnapshot()}function BR(t,e,n){t.translate=Nt(e.translate,0,n),t.scale=Nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qR(t,e,n,r){t.min=Nt(e.min,n.min,r),t.max=Nt(e.max,n.max,r)}function p8(t,e,n,r){qR(t.x,e.x,n.x,r),qR(t.y,e.y,n.y,r)}function m8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const g8={duration:.45,ease:[.4,0,.1,1]},zR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),HR=zR("applewebkit/")&&!zR("chrome/")?Math.round:ti;function GR(t){t.min=HR(t.min),t.max=HR(t.max)}function y8(t){GR(t.x),GR(t.y)}function LL(t,e,n){return t==="position"||t==="preserve-aspect"&&!SG(OR(e),OR(n),.2)}function v8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const _8=OL({attachResizeListener:(t,e)=>qd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$_={current:void 0},VL=OL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$_.current){const t=new _8({});t.mount(window),t.setOptions({layoutScroll:!0}),$_.current=t}return $_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),T8={pan:{Feature:UG},drag:{Feature:VG,ProjectionNode:VL,MeasureLayout:RL}};function $R(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Rt.postRender(()=>o(e,hh(e)))}class E8 extends Ra{mount(){const{current:e}=this.node;e&&(this.unmount=z9(e,(n,r)=>($R(this.node,r,"Start"),i=>$R(this.node,i,"End"))))}unmount(){}}class A8 extends Ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ch(qd(this.node.current,"focus",()=>this.onFocus()),qd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Rt.postRender(()=>o(e,hh(e)))}class S8 extends Ra{mount(){const{current:e}=this.node;e&&(this.unmount=K9(e,(n,r)=>(KR(this.node,r,"Start"),(i,{success:o})=>KR(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ME=new WeakMap,K_=new WeakMap,w8=t=>{const e=ME.get(t.target);e&&e(t)},b8=t=>{t.forEach(w8)};function C8({root:t,...e}){const n=t||document;K_.has(n)||K_.set(n,{});const r=K_.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(b8,{root:t,...e})),r[i]}function x8(t,e,n){const r=C8(e);return ME.set(t,n),r.observe(t),()=>{ME.delete(t),r.unobserve(t)}}const I8={some:0,all:1};class R8 extends Ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:I8[i]},u=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),y=d?h:m;y&&y(c)};return x8(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(P8(e,n))&&this.startObserver()}unmount(){}}function P8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const M8={inView:{Feature:R8},tap:{Feature:S8},focus:{Feature:A8},hover:{Feature:E8}},N8={layout:{ProjectionNode:VL,MeasureLayout:RL}},D8={...yG,...M8,...T8,...N8},mr=DH(D8,KH),k8={some:0,all:1};function O8(t,e,{root:n,margin:r,amount:i="some"}={}){const o=HO(t),a=new WeakMap,u=d=>{d.forEach(h=>{const m=a.get(h.target);if(h.isIntersecting!==!!m)if(h.isIntersecting){const y=e(h.target,h);typeof y=="function"?a.set(h.target,y):c.unobserve(h.target)}else typeof m=="function"&&(m(h),a.delete(h.target))})},c=new IntersectionObserver(u,{root:n,rootMargin:r,threshold:typeof i=="number"?i:k8[i]});return o.forEach(d=>c.observe(d)),()=>c.disconnect()}function L8(t,{root:e,margin:n,amount:r,once:i=!1,initial:o=!1}={}){const[a,u]=R.useState(o);return R.useEffect(()=>{if(!t.current||i&&a)return;const c=()=>(u(!0),i?void 0:()=>u(!1)),d={root:e&&e.current||void 0,margin:n,amount:r};return O8(t.current,c,d)},[e,t,n,i,r]),a}function UL(t,e){const[n,r]=R.useState(()=>{try{const o=window.localStorage.getItem(t);return o?JSON.parse(o):e}catch(o){return console.error(o),e}});return[n,o=>{try{const a=o instanceof Function?o(n):o;r(a),window.localStorage.setItem(t,JSON.stringify(a))}catch(a){console.error(a)}}]}function V8(){const[t,e]=UL("tradesnap_theme","dark");return R.useEffect(()=>{const r=window.document.documentElement;r.classList.remove("light","dark"),r.classList.add(t)},[t]),{theme:t,toggleTheme:()=>{e(r=>r==="dark"?"light":"dark")}}}function FL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Un(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FL(t))&&(r&&(r+=" "),r+=e);return r}var U8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function PS(t){if(typeof t!="string")return!1;var e=U8;return e.includes(t)}var F8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function BL(t){if(typeof t!="string")return!1;var e=F8;return e.includes(t)}function qL(t){return typeof t=="string"&&t.startsWith("data-")}function lo(t){var e=Object.entries(t).filter(n=>{var[r]=n;return BL(r)||qL(r)});return Object.fromEntries(e)}function MS(t){if(t==null)return null;if(R.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return lo(e)}return typeof t=="object"&&!Array.isArray(t)?lo(t):null}function ya(t){var e=Object.entries(t).filter(n=>{var[r]=n;return BL(r)||qL(r)||PS(r)});return Object.fromEntries(e)}function B8(t){return t==null?null:R.isValidElement(t)?ya(t.props):typeof t=="object"&&!Array.isArray(t)?ya(t):null}var q8=["children","width","height","viewBox","className","style","title","desc"];function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(null,arguments)}function z8(t,e){if(t==null)return{};var n,r,i=H8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function H8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zL=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:u,title:c,desc:d}=t,h=z8(t,q8),m=o||{width:r,height:i,x:0,y:0},y=Un("recharts-surface",a);return R.createElement("svg",NE({},ya(h),{className:y,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),R.createElement("title",null,c),R.createElement("desc",null,d),n)}),G8=["children","className"];function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(null,arguments)}function $8(t,e){if(t==null)return{};var n,r,i=K8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uo=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=$8(t,G8),o=Un("recharts-layer",r);return R.createElement("g",DE({className:o},ya(i),{ref:e}),n)}),j8=rO(),Y8=R.createContext(null);function Lt(t){return function(){return t}}const kE=Math.PI,OE=2*kE,vl=1e-6,W8=OE-vl;function HL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function J8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return HL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?HL:J8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,c=r-e,d=i-n,h=a-e,m=u-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>vl)if(!(Math.abs(m*c-d*h)>vl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let A=r-a,S=i-u,b=c*c+d*d,x=A*A+S*S,N=Math.sqrt(b),B=Math.sqrt(y),k=o*Math.tan((kE-Math.acos((b+y-x)/(2*N*B)))/2),H=k/B,F=k/N;Math.abs(H-1)>vl&&this._append`L${e+H*h},${n+H*m}`,this._append`A${o},${o},0,0,${+(m*A>h*S)},${this._x1=e+F*c},${this._y1=n+F*d}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=e+u,h=n+c,m=1^a,y=a?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>vl||Math.abs(this._y1-h)>vl)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%OE+OE),y>W8?this._append`A${r},${r},0,1,${m},${e-u},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:y>vl&&this._append`A${r},${r},0,${+(y>=kE)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function GL(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new X8(e)}function NS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $L(t){this._context=t}$L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ey(t){return new $L(t)}function KL(t){return t[0]}function jL(t){return t[1]}function YL(t,e){var n=Lt(!0),r=null,i=Ey,o=null,a=GL(u);t=typeof t=="function"?t:t===void 0?KL:Lt(t),e=typeof e=="function"?e:e===void 0?jL:Lt(e);function u(c){var d,h=(c=NS(c)).length,m,y=!1,A;for(r==null&&(o=i(A=a())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(m,d,c),+e(m,d,c));if(A)return o=null,A+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Lt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Lt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Lt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Am(t,e,n){var r=null,i=Lt(!0),o=null,a=Ey,u=null,c=GL(d);t=typeof t=="function"?t:t===void 0?KL:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?jL:Lt(+n);function d(m){var y,A,S,b=(m=NS(m)).length,x,N=!1,B,k=new Array(b),H=new Array(b);for(o==null&&(u=a(B=c())),y=0;y<=b;++y){if(!(y<b&&i(x=m[y],y,m))===N)if(N=!N)A=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=A;--S)u.point(k[S],H[S]);u.lineEnd(),u.areaEnd()}N&&(k[y]=+t(x,y,m),H[y]=+e(x,y,m),u.point(r?+r(x,y,m):k[y],n?+n(x,y,m):H[y]))}if(B)return u=null,B+""||null}function h(){return YL().defined(i).curve(a).context(o)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Lt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Lt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Lt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Lt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Lt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Lt(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Lt(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,o!=null&&(u=a(o)),d):a},d.context=function(m){return arguments.length?(m==null?o=u=null:u=a(o=m),d):o},d}class WL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Q8(t){return new WL(t,!0)}function Z8(t){return new WL(t,!1)}function ug(){}function cg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function JL(t){this._context=t}JL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e7(t){return new JL(t)}function XL(t){this._context=t}XL.prototype={areaStart:ug,areaEnd:ug,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t7(t){return new XL(t)}function QL(t){this._context=t}QL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n7(t){return new QL(t)}function ZL(t){this._context=t}ZL.prototype={areaStart:ug,areaEnd:ug,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function r7(t){return new ZL(t)}function jR(t){return t<0?-1:1}function YR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(jR(o)+jR(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function WR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function j_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function fg(t){this._context=t}fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:j_(this,this._t0,WR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,j_(this,WR(this,n=YR(this,t,e)),n);break;default:j_(this,this._t0,n=YR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function eV(t){this._context=new tV(t)}(eV.prototype=Object.create(fg.prototype)).point=function(t,e){fg.prototype.point.call(this,e,t)};function tV(t){this._context=t}tV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function i7(t){return new fg(t)}function o7(t){return new eV(t)}function nV(t){this._context=t}nV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=JR(t),i=JR(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function s7(t){return new nV(t)}function Ay(t,e){this._context=t,this._t=e}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function a7(t){return new Ay(t,.5)}function l7(t){return new Ay(t,0)}function u7(t){return new Ay(t,1)}function Tc(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function LE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function c7(t,e){return t[e]}function f7(t){const e=[];return e.key=t,e}function d7(){var t=Lt([]),e=LE,n=Tc,r=c7;function i(o){var a=Array.from(t.apply(this,arguments),f7),u,c=a.length,d=-1,h;for(const m of o)for(u=0,++d;u<c;++u)(a[u][d]=[0,+r(m,a[u].key,d,o)]).data=m;for(u=0,h=NS(e(a));u<c;++u)a[h[u]].index=u;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Lt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?LE:typeof o=="function"?o:Lt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Tc,i):n},i}function h7(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Tc(t,e)}}function p7(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}Tc(t,e)}}function m7(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,c=0,d=0;u<a;++u){for(var h=t[e[u]],m=h[r][1]||0,y=h[r-1][1]||0,A=(m-y)/2,S=0;S<u;++S){var b=t[e[S]],x=b[r][1]||0,N=b[r-1][1]||0;A+=x-N}c+=m,d+=A*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Tc(t,e)}}var Y_={},W_={},XR;function g7(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(W_)),W_}var J_={},QR;function y7(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(J_)),J_}var X_={},ZR;function rV(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(X_)),X_}var Q_={},Z_={},eP;function v7(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Z_)),Z_}var tP;function iV(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v7(),n=rV();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],a=i.length;if(a===0)return o;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<a;){const m=i[u];d?m==="\\"&&u+1<a?(u++,c+=i[u]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,o.push(c),c=""):c+=m:m==="["?(h=!0,c&&(o.push(c),c="")):m==="."?c&&(o.push(c),c=""):c+=m,u++}return c&&o.push(c),o}t.toPath=r})(Q_)),Q_}var nP;function _7(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g7(),n=y7(),r=rV(),i=iV();function o(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return a(u,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function a(u,c,d){if(c.length===0)return d;let h=u;for(let m=0;m<c.length;m++){if(h==null||e.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}t.get=o})(Y_)),Y_}var eT,rP;function T7(){return rP||(rP=1,eT=_7().get),eT}var E7=T7();const Sy=Ia(E7);var Bo=t=>t===0?0:t>0?1:-1,co=t=>typeof t=="number"&&t!=+t,Xo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Qe=t=>(typeof t=="number"||t instanceof Number)&&!co(t),Ec=t=>Qe(t)||typeof t=="string",A7=0,zd=t=>{var e=++A7;return"".concat(t||"").concat(e)},Ll=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(e)&&typeof e!="string")return r;var o;if(Xo(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return co(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},oV=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Gu(t,e,n){return Qe(t)&&Qe(e)?t+n*(e-t):e}function sV(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Sy(r,e))===n)}var jn=t=>t===null||typeof t>"u",DS=t=>jn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function S7(t){return t!=null}function Uc(){}var kS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{PS(i)&&(r[i]=(o=>n[i](n,o)))}),r},w7=(t,e,n)=>r=>(t(e,n,r),null),b7=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];PS(i)&&typeof o=="function"&&(r||(r={}),r[i]=w7(o,e,n))}),r};function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){x7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x7(t,e,n){return(e=I7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I7(t){var e=R7(t,"string");return typeof e=="symbol"?e:e+""}function R7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pa(t,e){var n=C7({},t),r=e,i=Object.keys(e),o=i.reduce((a,u)=>(a[u]===void 0&&r[u]!==void 0&&(a[u]=r[u]),a),n);return o}var tT={},nT={},oP;function P7(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(nT)),nT}var sP;function aV(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P7();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(tT)),tT}var rT={},aP;function M7(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(rT)),rT}var iT={},lP;function N7(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(iT)),iT}var oT={},uP;function D7(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(oT)),oT}var sT={exports:{}},aT={},lT={exports:{}},uT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP;function k7(){if(cP)return uT;cP=1;var t=kc();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(m,y){var A=y(),S=r({inst:{value:A,getSnapshot:y}}),b=S[0].inst,x=S[1];return o(function(){b.value=A,b.getSnapshot=y,c(b)&&x({inst:b})},[m,A,y]),i(function(){return c(b)&&x({inst:b}),m(function(){c(b)&&x({inst:b})})},[m]),a(A),A}function c(m){var y=m.getSnapshot;m=m.value;try{var A=y();return!n(m,A)}catch{return!0}}function d(m,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return uT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,uT}var fP;function O7(){return fP||(fP=1,lT.exports=k7()),lT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP;function L7(){if(dP)return aT;dP=1;var t=kc(),e=O7();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,u=t.useMemo,c=t.useDebugValue;return aT.useSyncExternalStoreWithSelector=function(d,h,m,y,A){var S=o(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=u(function(){function N(G){if(!B){if(B=!0,k=G,G=y(G),A!==void 0&&b.hasValue){var P=b.value;if(A(P,G))return H=P}return H=G}if(P=H,r(k,G))return P;var D=y(G);return A!==void 0&&A(P,D)?(k=G,P):(k=G,H=D)}var B=!1,k,H,F=m===void 0?null:m;return[function(){return N(h())},F===null?void 0:function(){return N(F())}]},[h,m,y,A]);var x=i(d,S[0],S[1]);return a(function(){b.hasValue=!0,b.value=x},[x]),c(x),x},aT}var hP;function V7(){return hP||(hP=1,sT.exports=L7()),sT.exports}var U7=V7(),OS=R.createContext(null),F7=t=>t,Wn=()=>{var t=R.useContext(OS);return t?t.store.dispatch:F7},Hm=()=>{},B7=()=>Hm,q7=(t,e)=>t===e;function rt(t){var e=R.useContext(OS);return U7.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:B7,e?e.store.getState:Hm,e?e.store.getState:Hm,e?t:Hm,q7)}function z7(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function H7(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function G7(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var pP=t=>Array.isArray(t)?t:[t];function $7(t){const e=Array.isArray(t[0])?t[0]:t;return G7(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function K7(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var j7=class{constructor(t){this.value=t}deref(){return this.value}},Y7=typeof WeakRef<"u"?WeakRef:j7,W7=0,mP=1;function Sm(){return{s:W7,v:void 0,o:null,p:null}}function lV(t,e={}){let n=Sm();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var m;let u=n;const{length:c}=arguments;for(let y=0,A=c;y<A;y++){const S=arguments[y];if(typeof S=="function"||typeof S=="object"&&S!==null){let b=u.o;b===null&&(u.o=b=new WeakMap);const x=b.get(S);x===void 0?(u=Sm(),b.set(S,u)):u=x}else{let b=u.p;b===null&&(u.p=b=new Map);const x=b.get(S);x===void 0?(u=Sm(),b.set(S,u)):u=x}}const d=u;let h;if(u.s===mP)h=u.v;else if(h=t.apply(null,arguments),o++,r){const y=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;y!=null&&r(y,h)&&(h=y,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Y7(h):h}return d.s=mP,d.v=h,h}return a.clearCache=()=>{n=Sm(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function J7(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),z7(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:m,memoizeOptions:y=[],argsMemoize:A=lV,argsMemoizeOptions:S=[]}=h,b=pP(y),x=pP(S),N=$7(i),B=m(function(){return o++,d.apply(null,arguments)},...b),k=A(function(){a++;const F=K7(N,arguments);return u=B.apply(null,F),u},...x);return Object.assign(k,{resultFunc:d,memoizedResultFunc:B,dependencies:N,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:A})};return Object.assign(r,{withTypes:()=>r}),r}var re=J7(lV),X7=Object.assign((t,e=re)=>{H7(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,u,c)=>(a[n[c]]=u,a),{}))},{withTypes:()=>X7}),cT={},fT={},dT={},gP;function Q7(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),u=e(i);if(a===u&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-a:a-u}return 0};t.compareValues=n})(dT)),dT}var hT={},pT={},yP;function uV(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(pT)),pT}var vP;function Z7(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uV(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(hT)),hT}var _P;function e$(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q7(),n=Z7(),r=iV();function i(o,a,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(A=>String(A));const d=(A,S)=>{let b=A;for(let x=0;x<S.length&&b!=null;++x)b=b[S[x]];return b},h=(A,S)=>S==null||A==null?S:typeof A=="object"&&"key"in A?Object.hasOwn(S,A.key)?S[A.key]:d(S,A.path):typeof A=="function"?A(S):Array.isArray(A)?d(S,A):typeof S=="object"?S[A]:S,m=a.map(A=>(Array.isArray(A)&&A.length===1&&(A=A[0]),A==null||typeof A=="function"||Array.isArray(A)||n.isKey(A)?A:{key:A,path:r.toPath(A)}));return o.map(A=>({original:A,criteria:m.map(S=>h(S,A))})).slice().sort((A,S)=>{for(let b=0;b<m.length;b++){const x=e.compareValues(A.criteria[b],S.criteria[b],u[b]);if(x!==0)return x}return 0}).map(A=>A.original)}t.orderBy=i})(fT)),fT}var mT={},TP;function t$(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<o?a(h,c+1):i.push(h)}};return a(n,0),i}t.flatten=e})(mT)),mT}var gT={},EP;function cV(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D7(),n=aV(),r=M7(),i=N7();function o(a,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],a):!1}t.isIterateeCall=o})(gT)),gT}var AP;function n$(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e$(),n=t$(),r=cV();function i(o,...a){const u=a.length;return u>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:u>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(cT)),cT}var yT,SP;function r$(){return SP||(SP=1,yT=n$().sortBy),yT}var i$=r$();const LS=Ia(i$);var fV=t=>t.legend.settings,o$=t=>t.legend.size,s$=t=>t.legend.payload;re([s$,fV],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?LS(r,n):r});function kn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var a$=typeof Symbol=="function"&&Symbol.observable||"@@observable",wP=a$,vT=()=>Math.random().toString(36).substring(7).split("").join("."),l$={INIT:`@@redux/INIT${vT()}`,REPLACE:`@@redux/REPLACE${vT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vT()}`},dg=l$;function VS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function dV(t,e,n){if(typeof t!="function")throw new Error(kn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kn(1));return n(dV)(t,e)}let r=t,i=e,o=new Map,a=o,u=0,c=!1;function d(){a===o&&(a=new Map,o.forEach((x,N)=>{a.set(N,x)}))}function h(){if(c)throw new Error(kn(3));return i}function m(x){if(typeof x!="function")throw new Error(kn(4));if(c)throw new Error(kn(5));let N=!0;d();const B=u++;return a.set(B,x),function(){if(N){if(c)throw new Error(kn(6));N=!1,d(),a.delete(B),o=null}}}function y(x){if(!VS(x))throw new Error(kn(7));if(typeof x.type>"u")throw new Error(kn(8));if(typeof x.type!="string")throw new Error(kn(17));if(c)throw new Error(kn(9));try{c=!0,i=r(i,x)}finally{c=!1}return(o=a).forEach(B=>{B()}),x}function A(x){if(typeof x!="function")throw new Error(kn(10));r=x,y({type:dg.REPLACE})}function S(){const x=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(kn(11));function B(){const H=N;H.next&&H.next(h())}return B(),{unsubscribe:x(B)}},[wP](){return this}}}return y({type:dg.INIT}),{dispatch:y,subscribe:m,getState:h,replaceReducer:A,[wP]:S}}function u$(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:dg.INIT})>"u")throw new Error(kn(12));if(typeof n(void 0,{type:dg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kn(13))})}function hV(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{u$(n)}catch(o){i=o}return function(a={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],y=n[m],A=a[m],S=y(A,u);if(typeof S>"u")throw u&&u.type,new Error(kn(14));d[m]=S,c=c||S!==A}return c=c||r.length!==Object.keys(a).length,c?d:a}}function hg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function c$(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(kn(15))};const a={getState:i.getState,dispatch:(c,...d)=>o(c,...d)},u=t.map(c=>c(a));return o=hg(...u)(i.dispatch),{...i,dispatch:o}}}function pV(t){return VS(t)&&"type"in t&&typeof t.type=="string"}var mV=Symbol.for("immer-nothing"),bP=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function Ei(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Hd=Object.getPrototypeOf;function Vl(t){return!!t&&!!t[Or]}function Qo(t){var e;return t?gV(t)||Array.isArray(t)||!!t[bP]||!!((e=t.constructor)!=null&&e[bP])||ph(t)||by(t):!1}var f$=Object.prototype.constructor.toString(),CP=new WeakMap;function gV(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=CP.get(n);return r===void 0&&(r=Function.toString.call(n),CP.set(n,r)),r===f$}function pg(t,e,n=!0){wy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function wy(t){const e=t[Or];return e?e.type_:Array.isArray(t)?1:ph(t)?2:by(t)?3:0}function VE(t,e){return wy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function yV(t,e,n){const r=wy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function d$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ph(t){return t instanceof Map}function by(t){return t instanceof Set}function _l(t){return t.copy_||t.base_}function UE(t,e){if(ph(t))return new Map(t);if(by(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=gV(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Or];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[a]})}return Object.create(Hd(t),r)}else{const r=Hd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function US(t,e=!1){return Cy(t)||Vl(t)||!Qo(t)||(wy(t)>1&&Object.defineProperties(t,{set:wm,add:wm,clear:wm,delete:wm}),Object.freeze(t),e&&Object.values(t).forEach(n=>US(n,!0))),t}function h$(){Ei(2)}var wm={value:h$};function Cy(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var p$={};function Ul(t){const e=p$[t];return e||Ei(0,t),e}var Gd;function vV(){return Gd}function m$(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xP(t,e){e&&(Ul("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function FE(t){BE(t),t.drafts_.forEach(g$),t.drafts_=null}function BE(t){t===Gd&&(Gd=t.parent_)}function IP(t){return Gd=m$(Gd,t)}function g$(t){const e=t[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function RP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Or].modified_&&(FE(e),Ei(4)),Qo(t)&&(t=mg(e,t),e.parent_||gg(e,t)),e.patches_&&Ul("Patches").generateReplacementPatches_(n[Or].base_,t,e.patches_,e.inversePatches_)):t=mg(e,n,[]),FE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==mV?t:void 0}function mg(t,e,n){if(Cy(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Or];if(!i)return pg(e,(o,a)=>PP(t,i,e,o,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return gg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,u=!1;i.type_===3&&(a=new Set(o),o.clear(),u=!0),pg(a,(c,d)=>PP(t,i,o,c,d,n,u),r),gg(t,o,!1),n&&t.patches_&&Ul("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function PP(t,e,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const u=Cy(i);if(!(u&&!a)){if(Vl(i)){const c=o&&e&&e.type_!==3&&!VE(e.assigned_,r)?o.concat(r):void 0,d=mg(t,i,c);if(yV(n,r,d),Vl(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Qo(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;mg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(ph(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&gg(t,i)}}}function gg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&US(e,n)}function y$(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:vV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=FS;n&&(i=[r],o=$d);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,u}var FS={get(t,e){if(e===Or)return t;const n=_l(t);if(!VE(n,e))return v$(t,n,e);const r=n[e];return t.finalized_||!Qo(r)?r:r===_T(t.base_,e)?(TT(t),t.copy_[e]=zE(r,t)):r},has(t,e){return e in _l(t)},ownKeys(t){return Reflect.ownKeys(_l(t))},set(t,e,n){const r=_V(_l(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=_T(_l(t),e),o=i==null?void 0:i[Or];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(d$(n,i)&&(n!==void 0||VE(t.base_,e)))return!0;TT(t),qE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _T(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,TT(t),qE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=_l(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ei(11)},getPrototypeOf(t){return Hd(t.base_)},setPrototypeOf(){Ei(12)}},$d={};pg(FS,(t,e)=>{$d[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});$d.deleteProperty=function(t,e){return $d.set.call(this,t,e,void 0)};$d.set=function(t,e,n){return FS.set.call(this,t[0],e,n,t[0])};function _T(t,e){const n=t[Or];return(n?_l(n):t)[e]}function v$(t,e,n){var i;const r=_V(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function _V(t,e){if(!(e in t))return;let n=Hd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Hd(n)}}function qE(t){t.modified_||(t.modified_=!0,t.parent_&&qE(t.parent_))}function TT(t){t.copy_||(t.copy_=UE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(c=o,...d){return a.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&Ei(6),r!==void 0&&typeof r!="function"&&Ei(7);let i;if(Qo(e)){const o=IP(this),a=zE(e,void 0);let u=!0;try{i=n(a),u=!1}finally{u?FE(o):BE(o)}return xP(o,r),RP(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===mV&&(i=void 0),this.autoFreeze_&&US(i,!0),r){const o=[],a=[];Ul("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else Ei(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...u)=>this.produceWithPatches(a,c=>e(c,...u));let r,i;return[this.produce(e,n,(a,u)=>{r=a,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Qo(t)||Ei(8),Vl(t)&&(t=$o(t));const e=IP(this),n=zE(t,void 0);return n[Or].isManual_=!0,BE(e),n}finishDraft(t,e){const n=t&&t[Or];(!n||!n.isManual_)&&Ei(9);const{scope_:r}=n;return xP(r,e),RP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ul("Patches").applyPatches_;return Vl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function zE(t,e){const n=ph(t)?Ul("MapSet").proxyMap_(t,e):by(t)?Ul("MapSet").proxySet_(t,e):y$(t,e);return(e?e.scope_:vV()).drafts_.push(n),n}function $o(t){return Vl(t)||Ei(10,t),TV(t)}function TV(t){if(!Qo(t)||Cy(t))return t;const e=t[Or];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=UE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=UE(t,!0);return pg(n,(i,o)=>{yV(n,i,TV(o))},r),e&&(e.finalized_=!1),n}var HE=new _$,EV=HE.produce,T$=HE.setUseStrictIteration.bind(HE);function AV(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var E$=AV(),A$=AV,S$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hg:hg.apply(null,arguments)};function ii(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Dr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>pV(r)&&r.type===t,n}var SV=class md extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,md.prototype)}static get[Symbol.species](){return md}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new md(...e[0].concat(this)):new md(...e.concat(this))}};function MP(t){return Qo(t)?EV(t,()=>{}):t}function bm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function w$(t){return typeof t=="boolean"}var b$=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new SV;return n&&(w$(n)?a.push(E$):a.push(A$(n.extraArgument))),a},wV="RTK_autoBatch",mn=()=>t=>({payload:t,meta:{[wV]:!0}}),NP=t=>e=>{setTimeout(e,t)},bV=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:NP(10):t.type==="callback"?t.queueNotification:NP(t.timeout),d=()=>{a=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),y=r.subscribe(m);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[wV]),o=!i,o&&(a||(a=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},C$=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new SV(t);return r&&i.push(bV(typeof r=="object"?r:void 0)),i};function x$(t){const e=b$(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(VS(n))u=hV(n);else throw new Error(Dr(1));let c;typeof r=="function"?c=r(e):c=e();let d=hg;i&&(d=S$({trace:!1,...typeof i=="object"&&i}));const h=c$(...c),m=C$(h);let y=typeof a=="function"?a(m):m();const A=d(...y);return dV(u,o,A)}function CV(t){const e={},n=[];let r;const i={addCase(o,a){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Dr(28));if(u in e)throw new Error(Dr(29));return e[u]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}T$(!1);function I$(t){return typeof t=="function"}function R$(t,e){let[n,r,i]=CV(e),o;if(I$(t))o=()=>MP(t());else{const u=MP(t);o=()=>u}function a(u=o(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(Vl(h)){const A=m(h,c);return A===void 0?h:A}else{if(Qo(h))return EV(h,y=>m(y,c));{const y=m(h,c);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return a.getInitialState=o,a}var P$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",M$=(t=21)=>{let e="",n=t;for(;n--;)e+=P$[Math.random()*64|0];return e},N$=Symbol.for("rtk-slice-createasyncthunk");function D$(t,e){return`${t}/${e}`}function k$({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[N$];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Dr(11));const u=(typeof i.reducers=="function"?i.reducers(L$()):i.reducers)||{},c=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(H,F){const G=typeof H=="string"?H:H.type;if(!G)throw new Error(Dr(12));if(G in d.sliceCaseReducersByType)throw new Error(Dr(13));return d.sliceCaseReducersByType[G]=F,h},addMatcher(H,F){return d.sliceMatchers.push({matcher:H,reducer:F}),h},exposeAction(H,F){return d.actionCreators[H]=F,h},exposeCaseReducer(H,F){return d.sliceCaseReducersByName[H]=F,h}};c.forEach(H=>{const F=u[H],G={reducerName:H,type:D$(o,H),createNotation:typeof i.reducers=="function"};U$(F)?B$(G,F,h,e):V$(G,F,h)});function m(){const[H={},F=[],G=void 0]=typeof i.extraReducers=="function"?CV(i.extraReducers):[i.extraReducers],P={...H,...d.sliceCaseReducersByType};return R$(i.initialState,D=>{for(let L in P)D.addCase(L,P[L]);for(let L of d.sliceMatchers)D.addMatcher(L.matcher,L.reducer);for(let L of F)D.addMatcher(L.matcher,L.reducer);G&&D.addDefaultCase(G)})}const y=H=>H,A=new Map,S=new WeakMap;let b;function x(H,F){return b||(b=m()),b(H,F)}function N(){return b||(b=m()),b.getInitialState()}function B(H,F=!1){function G(D){let L=D[H];return typeof L>"u"&&F&&(L=bm(S,G,N)),L}function P(D=y){const L=bm(A,F,()=>new WeakMap);return bm(L,D,()=>{const z={};for(const[U,$]of Object.entries(i.selectors??{}))z[U]=O$($,D,()=>bm(S,D,N),F);return z})}return{reducerPath:H,getSelectors:P,get selectors(){return P(G)},selectSlice:G}}const k={name:o,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:N,...B(a),injectInto(H,{reducerPath:F,...G}={}){const P=F??a;return H.inject({reducerPath:P,reducer:x},G),{...k,...B(P,!0)}}};return k}}function O$(t,e,n,r){function i(o,...a){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...a)}return i.unwrapped=t,i}var yr=k$();function L$(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function V$({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!F$(r))throw new Error(Dr(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?ii(t,a):ii(t))}function U$(t){return t._reducerDefinitionType==="asyncThunk"}function F$(t){return t._reducerDefinitionType==="reducerWithPrepare"}function B$({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Dr(18));const{payloadCreator:o,fulfilled:a,pending:u,rejected:c,settled:d,options:h}=n,m=i(t,o,h);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),u&&r.addCase(m.pending,u),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||Cm,pending:u||Cm,rejected:c||Cm,settled:d||Cm})}function Cm(){}var q$="task",xV="listener",IV="completed",BS="cancelled",z$=`task-${BS}`,H$=`task-${IV}`,GE=`${xV}-${BS}`,G$=`${xV}-${IV}`,xy=class{constructor(t){b_(this,"name","TaskAbortError");b_(this,"message");this.code=t,this.message=`${q$} ${BS} (reason: ${t})`}},qS=(t,e)=>{if(typeof t!="function")throw new TypeError(Dr(32))},yg=()=>{},RV=(t,e=yg)=>(t.catch(e),t),PV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Rl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Pl=t=>{if(t.aborted){const{reason:e}=t;throw new xy(e)}};function MV(t,e){let n=yg;return new Promise((r,i)=>{const o=()=>i(new xy(t.reason));if(t.aborted){o();return}n=PV(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=yg})}var $$=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof xy?"cancelled":"rejected",error:n}}finally{e==null||e()}},vg=t=>e=>RV(MV(t,e).then(n=>(Pl(t),n))),NV=t=>{const e=vg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:uc}=Object,DP={},Iy="listenerMiddleware",K$=(t,e)=>{const n=r=>PV(t,()=>Rl(r,t.reason));return(r,i)=>{qS(r);const o=new AbortController;n(o);const a=$$(async()=>{Pl(t),Pl(o.signal);const u=await r({pause:vg(o.signal),delay:NV(o.signal),signal:o.signal});return Pl(o.signal),u},()=>Rl(o,H$));return i!=null&&i.autoJoin&&e.push(a.catch(yg)),{result:vg(t)(a),cancel(){Rl(o,z$)}}}},j$=(t,e)=>{const n=async(r,i)=>{Pl(e);let o=()=>{};const u=[new Promise((c,d)=>{let h=t({predicate:r,effect:(m,y)=>{y.unsubscribe(),c([m,y.getState(),y.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await MV(e,Promise.race(u));return Pl(e),c}finally{o()}};return(r,i)=>RV(n(r,i))},DV=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=ii(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Dr(21));return qS(o),{predicate:i,type:e,effect:o}},kV=uc(t=>{const{type:e,predicate:n,effect:r}=DV(t);return{id:M$(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Dr(22))}}},{withTypes:()=>kV}),kP=(t,e)=>{const{type:n,effect:r,predicate:i}=DV(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},$E=t=>{t.pending.forEach(e=>{Rl(e,GE)})},Y$=(t,e)=>()=>{for(const n of e.keys())$E(n);t.clear()},OP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},OV=uc(ii(`${Iy}/add`),{withTypes:()=>OV}),W$=ii(`${Iy}/removeAll`),LV=uc(ii(`${Iy}/remove`),{withTypes:()=>LV}),J$=(...t)=>{console.error(`${Iy}/error`,...t)},mh=(t={})=>{const e=new Map,n=new Map,r=A=>{const S=n.get(A)??0;n.set(A,S+1)},i=A=>{const S=n.get(A)??1;S===1?n.delete(A):n.set(A,S-1)},{extra:o,onError:a=J$}=t;qS(a);const u=A=>(A.unsubscribe=()=>e.delete(A.id),e.set(A.id,A),S=>{A.unsubscribe(),S!=null&&S.cancelActive&&$E(A)}),c=A=>{const S=kP(e,A)??kV(A);return u(S)};uc(c,{withTypes:()=>c});const d=A=>{const S=kP(e,A);return S&&(S.unsubscribe(),A.cancelActive&&$E(S)),!!S};uc(d,{withTypes:()=>d});const h=async(A,S,b,x)=>{const N=new AbortController,B=j$(c,N.signal),k=[];try{A.pending.add(N),r(A),await Promise.resolve(A.effect(S,uc({},b,{getOriginalState:x,condition:(H,F)=>B(H,F).then(Boolean),take:B,delay:NV(N.signal),pause:vg(N.signal),extra:o,signal:N.signal,fork:K$(N.signal,k),unsubscribe:A.unsubscribe,subscribe:()=>{e.set(A.id,A)},cancelActiveListeners:()=>{A.pending.forEach((H,F,G)=>{H!==N&&(Rl(H,GE),G.delete(H))})},cancel:()=>{Rl(N,GE),A.pending.delete(N)},throwIfCancelled:()=>{Pl(N.signal)}})))}catch(H){H instanceof xy||OP(a,H,{raisedBy:"effect"})}finally{await Promise.all(k),Rl(N,G$),i(A),A.pending.delete(N)}},m=Y$(e,n);return{middleware:A=>S=>b=>{if(!pV(b))return S(b);if(OV.match(b))return c(b.payload);if(W$.match(b)){m();return}if(LV.match(b))return d(b.payload);let x=A.getState();const N=()=>{if(x===DP)throw new Error(Dr(23));return x};let B;try{if(B=S(b),e.size>0){const k=A.getState(),H=Array.from(e.values());for(const F of H){let G=!1;try{G=F.predicate(b,k,x)}catch(P){G=!1,OP(a,P,{raisedBy:"predicate"})}G&&h(F,b,A,N)}}}finally{x=DP}return B},startListening:c,stopListening:d,clearListeners:m}};function Dr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var X$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},VV=yr({name:"chartLayout",initialState:X$,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Q$,setLayout:Z$,setChartSize:eK,setScale:tK}=VV.actions,nK=VV.reducer;function UV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){rK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rK(t,e,n){return(e=iK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iK(t){var e=oK(t,"string");return typeof e=="symbol"?e:e+""}function oK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nr(t,e,n){return jn(t)||jn(e)?n:Ec(e)?Sy(t,e,n):typeof e=="function"?e(t):n}var sK=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:u}=e;if((u==="vertical"||u==="horizontal"&&a==="middle")&&o!=="center"&&Qe(t[o]))return rc(rc({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&a!=="middle"&&Qe(t[a]))return rc(rc({},t),{},{[a]:t[a]+(i||0)})}return t},ls=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",VP=1e-4,aK=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-VP,o=Math.max(r[0],r[1])+VP,a=t(e[0]),u=t(e[n-1]);(a<i||a>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},lK=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var u=co(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+u,o=t[a][n][1])}},uK=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=co(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},cK={sign:lK,expand:h7,none:Tc,silhouette:p7,wiggle:m7,positive:uK},fK=(t,e,n)=>{var r=cK[n],i=d7().keys(e).value((o,a)=>Number(nr(o,a,0))).order(LE).offset(r);return i(t)};function dK(t){return t==null?void 0:String(t)}function UP(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!jn(i[e.dataKey])){var u=sV(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=nr(i,jn(a)?e.dataKey:a);return jn(c)?null:e.scale(c)}var hK=t=>{var e=t.flat(2).filter(Qe);return[Math.min(...e),Math.max(...e)]},pK=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],mK=(t,e,n)=>{if(t!=null)return pK(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,u=a.reduce((c,d)=>{var h=UV(d,e,n),m=hK(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},FP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qP=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=LS(e,h=>h.coordinate),o=1/0,a=1,u=i.length;a<u;a++){var c=i[a],d=i[a-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function zP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return rc(rc({},e),{},{dataKey:n,payload:r,value:i,name:o})}function FV(t,e){if(t)return String(t);if(typeof e=="string")return e}var gK=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},yK=(t,e)=>e==="centric"?t.angle:t.radius,us=t=>t.layout.width,cs=t=>t.layout.height,vK=t=>t.layout.scale,BV=t=>t.layout.margin,Ry=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Py=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),_K="data-recharts-item-index",TK="data-recharts-item-data-key",gh=60;function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){EK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EK(t,e,n){return(e=AK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AK(t){var e=SK(t,"string");return typeof e=="symbol"?e:e+""}function SK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wK=t=>t.brush.height;function bK(t){var e=Py(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:gh;return n+i}return n},0)}function CK(t){var e=Py(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:gh;return n+i}return n},0)}function xK(t){var e=Ry(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function IK(t){var e=Ry(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Jn=re([us,cs,BV,wK,bK,CK,xK,IK,fV,o$],(t,e,n,r,i,o,a,u,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+a,bottom:(n.bottom||0)+u},y=xm(xm({},m),h),A=y.bottom;y.bottom+=r,y=sK(y,c,d);var S=t-y.left-y.right,b=e-y.top-y.bottom;return xm(xm({brushBottom:A},y),{},{width:Math.max(S,0),height:Math.max(b,0)})}),RK=re(Jn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),PK=re(us,cs,(t,e)=>({x:0,y:0,width:t,height:e})),MK=R.createContext(null),si=()=>R.useContext(MK)!=null,My=t=>t.brush,Ny=re([My,Jn,BV],(t,e,n)=>({height:t.height,x:Qe(t.x)?t.x:e.left,y:Qe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Qe(t.width)?t.width:e.width})),ET={},AT={},ST={},GP;function NK(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,u=null;const c=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(a,u),a=void 0,u=null)},m=()=>{d&&h(),b()};let y=null;const A=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},S=()=>{y!==null&&(clearTimeout(y),y=null)},b=()=>{S(),a=void 0,u=null},x=()=>{h()},N=function(...B){if(i!=null&&i.aborted)return;a=this,u=B;const k=y==null;A(),c&&k&&h()};return N.schedule=A,N.cancel=b,N.flush=x,i==null||i.addEventListener("abort",b,{once:!0}),N}t.debounce=e})(ST)),ST}var $P;function DK(){return $P||($P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NK();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:u=!0,maxWait:c}=o,d=Array(2);a&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const y=e.debounce(function(...b){h=r.apply(this,b),m=null},i,{edges:d}),A=function(...b){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=r.apply(this,b),m=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,b),h)},S=()=>(y.flush(),h);return A.cancel=y.cancel,A.flush=S,A}t.debounce=n})(AT)),AT}var KP;function kK(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DK();function n(r,i=0,o={}){const{leading:a=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:u})}t.throttle=n})(ET)),ET}var wT,jP;function OK(){return jP||(jP=1,wT=kK().throttle),wT}var LK=OK();const VK=Ia(LK);var YP=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},qV=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:a}=n,u=Xo(r)?t:Number(r),c=Xo(i)?e:Number(i);return o&&o>0&&(u?c=u/o:c&&(u=c*o),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:u,calculatedHeight:c}},UK={width:0,height:0,overflow:"visible"},FK={width:0,overflowX:"visible"},BK={height:0,overflowY:"visible"},qK={},zK=t=>{var{width:e,height:n}=t,r=Xo(e),i=Xo(n);return r&&i?UK:r?FK:i?BK:qK};function HK(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Ft(t){return Number.isFinite(t)}function va(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){GK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GK(t,e,n){return(e=$K(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $K(t){var e=KK(t,"string");return typeof e=="symbol"?e:e+""}function KK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zV=R.createContext({width:-1,height:-1});function jK(t){return va(t.width)&&va(t.height)}function HV(t){var{children:e,width:n,height:r}=t,i=R.useMemo(()=>({width:n,height:r}),[n,r]);return jK(i)?R.createElement(zV.Provider,{value:i},e):null}var zS=()=>R.useContext(zV),YK=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:a=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:m,className:y,onResize:A,style:S={}}=t,b=R.useRef(null),x=R.useRef();x.current=A,R.useImperativeHandle(e,()=>b.current);var[N,B]=R.useState({containerWidth:r.width,containerHeight:r.height}),k=R.useCallback((D,L)=>{B(z=>{var U=Math.round(D),$=Math.round(L);return z.containerWidth===U&&z.containerHeight===$?z:{containerWidth:U,containerHeight:$}})},[]);R.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Uc;var D=$=>{var q,{width:Ce,height:qe}=$[0].contentRect;k(Ce,qe),(q=x.current)===null||q===void 0||q.call(x,Ce,qe)};h>0&&(D=VK(D,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(D),{width:z,height:U}=b.current.getBoundingClientRect();return k(z,U),L.observe(b.current),()=>{L.disconnect()}},[k,h]);var{containerWidth:H,containerHeight:F}=N;YP(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:G,calculatedHeight:P}=qV(H,F,{width:i,height:o,aspect:n,maxHeight:c});return YP(G!=null&&G>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,P,i,o,a,u,n),R.createElement("div",{id:m?"".concat(m):void 0,className:Un("recharts-responsive-container",y),style:JP(JP({},S),{},{width:i,height:o,minWidth:a,minHeight:u,maxHeight:c}),ref:b},R.createElement("div",{style:zK({width:i,height:o})},R.createElement(HV,{width:G,height:P},d)))}),WK=R.forwardRef((t,e)=>{var n=zS();if(va(n.width)&&va(n.height))return t.children;var{width:r,height:i}=HK({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:a}=qV(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Qe(o)&&Qe(a)?R.createElement(HV,{width:o,height:a},t.children):R.createElement(YK,KE({},t,{width:r,height:i,ref:e}))});function GV(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var $V=()=>{var t,e=si(),n=rt(RK),r=rt(Ny),i=(t=rt(My))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},JK=()=>rt(us),XK=()=>rt(cs),Tt=t=>t.layout.layoutType,HS=()=>rt(Tt),QK=()=>{var t=HS();return t!==void 0},Dy=t=>{var e=Wn(),n=si(),{width:r,height:i}=t,o=zS(),a=r,u=i;return o&&(a=o.width>0?o.width:r,u=o.height>0?o.height:i),R.useEffect(()=>{!n&&va(a)&&va(u)&&e(eK({width:a,height:u}))},[e,n,a,u]),null},ZK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KV=yr({name:"legend",initialState:ZK,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:mn()},removeLegendPayload:{reducer(t,e){var n=$o(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:mn()}}}),{setLegendSize:Dve,setLegendSettings:kve,addLegendPayload:ej,removeLegendPayload:tj}=KV.actions,nj=KV.reducer,rj=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yh={devToolsEnabled:!1,isSsr:rj()},ij=()=>{var t;return(t=rt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){oj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oj(t,e,n){return(e=sj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sj(t){var e=aj(t,"string");return typeof e=="symbol"?e:e+""}function aj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZP={curveBasisClosed:t7,curveBasisOpen:n7,curveBasis:e7,curveBumpX:Q8,curveBumpY:Z8,curveLinearClosed:r7,curveLinear:Ey,curveMonotoneX:i7,curveMonotoneY:o7,curveNatural:s7,curveStep:a7,curveStepAfter:u7,curveStepBefore:l7},_g=t=>Ft(t.x)&&Ft(t.y),eM=t=>t.base!=null&&_g(t.base)&&_g(t),ad=t=>t.x,ld=t=>t.y,lj=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(DS(t));return(n==="curveMonotone"||n==="curveBump")&&e?ZP["".concat(n).concat(e==="vertical"?"Y":"X")]:ZP[n]||Ey},uj=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=lj(e,i),u=o?n.filter(_g):n,c;if(Array.isArray(r)){var d=n.map((A,S)=>QP(QP({},A),{},{base:r[S]}));i==="vertical"?c=Am().y(ld).x1(ad).x0(A=>A.base.x):c=Am().x(ad).y1(ld).y0(A=>A.base.y);var h=c.defined(eM).curve(a),m=o?d.filter(eM):d;return h(m)}i==="vertical"&&Qe(r)?c=Am().y(ld).x1(ad).x0(r):Qe(r)?c=Am().x(ad).y1(ld).y0(r):c=YL().x(ad).y(ld);var y=c.defined(_g).curve(a);return y(u)},bT=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?uj(t):r;return R.createElement("path",jE({},lo(t),kS(t),{className:Un("recharts-curve",e),d:o===null?void 0:o,ref:i}))};function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){cj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cj(t,e,n){return(e=fj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fj(t){var e=dj(t,"string");return typeof e=="symbol"?e:e+""}function dj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hj=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Kd=(t,e)=>Object.keys(e).reduce((n,r)=>nM(nM({},n),{},{[r]:t(r,e[r])}),{});function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){pj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pj(t,e,n){return(e=mj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mj(t){var e=gj(t,"string");return typeof e=="symbol"?e:e+""}function gj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tg=(t,e,n)=>t+(e-t)*n,YE=t=>{var{from:e,to:n}=t;return e!==n},jV=(t,e,n)=>{var r=Kd((i,o)=>{if(YE(o)){var[a,u]=t(o.from,o.to,o.velocity);return pn(pn({},o),{},{from:a,velocity:u})}return o},e);return n<1?Kd((i,o)=>YE(o)?pn(pn({},o),{},{velocity:Tg(o.velocity,r[i].velocity,n),from:Tg(o.from,r[i].from,n)}):o,e):jV(t,r,n-1)};function yj(t,e,n,r,i,o){var a,u=r.reduce((y,A)=>pn(pn({},y),{},{[A]:{from:t[A],velocity:0,to:e[A]}}),{}),c=()=>Kd((y,A)=>A.from,u),d=()=>!Object.values(u).filter(YE).length,h=null,m=y=>{a||(a=y);var A=y-a,S=A/n.dt;u=jV(n,u,S),i(pn(pn(pn({},t),e),c())),a=y,d()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var y;(y=h)===null||y===void 0||y()})}function vj(t,e,n,r,i,o,a){var u=null,c=i.reduce((m,y)=>pn(pn({},m),{},{[y]:[t[y],e[y]]}),{}),d,h=m=>{d||(d=m);var y=(m-d)/r,A=Kd((b,x)=>Tg(...x,n(y)),c);if(o(pn(pn(pn({},t),e),A)),y<1)u=a.setTimeout(h);else{var S=Kd((b,x)=>Tg(...x,n(1)),c);o(pn(pn(pn({},t),e),S))}};return()=>(u=a.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const _j=(t,e,n,r,i,o)=>{var a=hj(t,e);return n==null?()=>(i(pn(pn({},t),e)),()=>{}):n.isStepper===!0?yj(t,e,n,a,i,o):vj(t,e,n,r,a,i,o)};var Eg=1e-4,YV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],WV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),iM=(t,e)=>n=>{var r=YV(t,e);return WV(r,n)},Tj=(t,e)=>n=>{var r=YV(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return WV(i,n)},Ej=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=o[1].split(")")[0].split(",").map(u=>parseFloat(u));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},Aj=(t,e,n,r)=>{var i=iM(t,n),o=iM(e,r),a=Tj(t,n),u=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,m=h,y=0;y<8;++y){var A=i(m)-h,S=a(m);if(Math.abs(A-h)<Eg||S<Eg)return o(m);m=u(m-A/S)}return o(m)};return c.isStepper=!1,c},oM=function(){return Aj(...Ej(...arguments))},Sj=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,u,c)=>{var d=-(a-u)*n,h=c*r,m=c+(d-h)*i/1e3,y=c*i/1e3+a;return Math.abs(y-u)<Eg&&Math.abs(m)<Eg?[u,0]:[y,m]};return o.isStepper=!0,o.dt=i,o},wj=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oM(t);case"spring":return Sj();default:if(t.split("(")[0]==="cubic-bezier")return oM(t)}return typeof t=="function"?t:null};function bj(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var u=a,[c,...d]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,d),c);return}o(c),i=t.setTimeout(o.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class Cj{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function xj(){return bj(new Cj)}var Ij=R.createContext(xj);function Rj(t,e){var n=R.useContext(Ij);return R.useMemo(()=>e??n(t),[t,e,n])}var Pj={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sM={t:0},CT={t:1};function Mj(t){var e=Pa(t,Pj),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:c,children:d}=e,h=Rj(e.animationId,e.animationManager),[m,y]=R.useState(n?sM:CT),A=R.useRef(null);return R.useEffect(()=>{n||y(CT)},[n]),R.useEffect(()=>{if(!n||!r)return Uc;var S=_j(sM,CT,wj(o),i,y,h.getTimeoutController()),b=()=>{A.current=S()};return h.start([c,a,b,i,u]),()=>{h.stop(),A.current&&A.current(),u()}},[n,r,i,o,a,c,u,h]),d(m.t)}function Nj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(zd(e)),r=R.useRef(t);return r.current!==t&&(n.current=zd(e),r.current=t),n.current}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){Dj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dj(t,e,n){return(e=kj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kj(t){var e=Oj(t,"string");return typeof e=="symbol"?e:e+""}function Oj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uM=Math.PI/180,Lj=t=>t*180/Math.PI,Ac=(t,e,n,r)=>({x:t+Math.cos(-uM*r)*n,y:e+Math.sin(-uM*r)*n}),Vj=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Uj=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Fj=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=Uj({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var u=(n-i)/a,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:a,angle:Lj(c),angleInRadian:c}},Bj=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},qj=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},zj=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=Fj({x:n,y:r},e),{innerRadius:a,outerRadius:u}=e;if(i<a||i>u||i===0)return null;var{startAngle:c,endAngle:d}=Bj(e),h=o,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?lM(lM({},e),{},{radius:i,angle:qj(h,e)}):null},xT={},IT={},RT={},cM;function Hj(){return cM||(cM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uV();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(RT)),RT}var fM;function Gj(){return fM||(fM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hj();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(IT)),IT}var dM;function $j(){return dM||(dM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cV(),n=Gj();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const u=Math.max(Math.ceil((o-i)/(a||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=a;return c}t.range=r})(xT)),xT}var PT,hM;function Kj(){return hM||(hM=1,PT=$j().range),PT}var jj=Kj();const JV=Ia(jj);function la(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yj(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GS(t){let e,n,r;t.length!==2?(e=la,n=(u,c)=>la(t(u),c),r=(u,c)=>t(u)-c):(e=t===la||t===Yj?t:Wj,n=t,r=t);function i(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<0?d=m+1:h=m}while(d<h)}return d}function o(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function a(u,c,d=0,h=u.length){const m=i(u,c,d,h-1);return m>d&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:a,right:o}}function Wj(){return 0}function XV(t){return t===null?NaN:+t}function*Jj(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Xj=GS(la),vh=Xj.right;GS(XV).center;class pM extends Map{constructor(e,n=eY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mM(this,e))}has(e){return super.has(mM(this,e))}set(e,n){return super.set(Qj(this,e),n)}delete(e){return super.delete(Zj(this,e))}}function mM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Qj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Zj({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function eY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tY(t=la){if(t===la)return QV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function QV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const nY=Math.sqrt(50),rY=Math.sqrt(10),iY=Math.sqrt(2);function Ag(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=nY?10:o>=rY?5:o>=iY?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/a,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=n&&n<2?Ag(t,e,n*2):[u,c,d]}function WE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ag(e,t,n):Ag(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let d=0;d<u;++d)c[d]=(o-d)/-a;else for(let d=0;d<u;++d)c[d]=(o-d)*a;else if(a<0)for(let d=0;d<u;++d)c[d]=(i+d)/-a;else for(let d=0;d<u;++d)c[d]=(i+d)*a;return c}function JE(t,e,n){return e=+e,t=+t,n=+n,Ag(t,e,n)[2]}function XE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?JE(e,t,n):JE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function gM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?QV:tY(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),A=Math.max(n,Math.floor(e-d*m/c+y)),S=Math.min(r,Math.floor(e+(c-d)*m/c+y));ZV(t,e,A,S,i)}const o=t[e];let a=n,u=r;for(ud(t,n,e),i(t[r],o)>0&&ud(t,n,r);a<u;){for(ud(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?ud(t,n,u):(++u,ud(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function ud(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function oY(t,e,n){if(t=Float64Array.from(Jj(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yM(t);if(e>=1)return gM(t);var r,i=(r-1)*e,o=Math.floor(i),a=gM(ZV(t,o).subarray(0,o+1)),u=yM(t.subarray(o+1));return a+(u-a)*(i-o)}}function sY(t,e,n=XV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function aY(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ai(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const QE=Symbol("implicit");function $S(){var t=new pM,e=[],n=[],r=QE;function i(o){let a=t.get(o);if(a===void 0){if(r!==QE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new pM;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $S(e,n).unknown(r)},ai.apply(i,arguments),i}function KS(){var t=$S().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,c=0,d=0,h=.5;delete t.unknown;function m(){var y=e().length,A=i<r,S=A?i:r,b=A?r:i;o=(b-S)/Math.max(1,y-c+d*2),u&&(o=Math.floor(o)),S+=(b-S-o*(y-c))*h,a=o*(1-c),u&&(S=Math.round(S),a=Math.round(a));var x=aY(y).map(function(N){return S+o*N});return n(A?x.reverse():x)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,d=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return KS(e(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},ai.apply(m(),arguments)}function eU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eU(e())},t}function lY(){return eU(KS.apply(null,arguments).paddingInner(1))}function jS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function tU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _h(){}var jd=.7,Sg=1/jd,cc="\\s*([+-]?\\d+)\\s*",Yd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uY=/^#([0-9a-f]{3,8})$/,cY=new RegExp(`^rgb\\(${cc},${cc},${cc}\\)$`),fY=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),dY=new RegExp(`^rgba\\(${cc},${cc},${cc},${Yd}\\)$`),hY=new RegExp(`^rgba\\(${eo},${eo},${eo},${Yd}\\)$`),pY=new RegExp(`^hsl\\(${Yd},${eo},${eo}\\)$`),mY=new RegExp(`^hsla\\(${Yd},${eo},${eo},${Yd}\\)$`),vM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jS(_h,Wd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_M,formatHex:_M,formatHex8:gY,formatHsl:yY,formatRgb:TM,toString:TM});function _M(){return this.rgb().formatHex()}function gY(){return this.rgb().formatHex8()}function yY(){return nU(this).formatHsl()}function TM(){return this.rgb().formatRgb()}function Wd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=uY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?EM(e):n===3?new gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Im(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Im(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cY.exec(t))?new gr(e[1],e[2],e[3],1):(e=fY.exec(t))?new gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dY.exec(t))?Im(e[1],e[2],e[3],e[4]):(e=hY.exec(t))?Im(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pY.exec(t))?wM(e[1],e[2]/100,e[3]/100,1):(e=mY.exec(t))?wM(e[1],e[2]/100,e[3]/100,e[4]):vM.hasOwnProperty(t)?EM(vM[t]):t==="transparent"?new gr(NaN,NaN,NaN,0):null}function EM(t){return new gr(t>>16&255,t>>8&255,t&255,1)}function Im(t,e,n,r){return r<=0&&(t=e=n=NaN),new gr(t,e,n,r)}function vY(t){return t instanceof _h||(t=Wd(t)),t?(t=t.rgb(),new gr(t.r,t.g,t.b,t.opacity)):new gr}function ZE(t,e,n,r){return arguments.length===1?vY(t):new gr(t,e,n,r??1)}function gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}jS(gr,ZE,tU(_h,{brighter(t){return t=t==null?Sg:Math.pow(Sg,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jd:Math.pow(jd,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gr(Ml(this.r),Ml(this.g),Ml(this.b),wg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AM,formatHex:AM,formatHex8:_Y,formatRgb:SM,toString:SM}));function AM(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}`}function _Y(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}${wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function SM(){const t=wg(this.opacity);return`${t===1?"rgb(":"rgba("}${Ml(this.r)}, ${Ml(this.g)}, ${Ml(this.b)}${t===1?")":`, ${t})`}`}function wg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ml(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wl(t){return t=Ml(t),(t<16?"0":"")+t.toString(16)}function wM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ai(t,e,n,r)}function nU(t){if(t instanceof Ai)return new Ai(t.h,t.s,t.l,t.opacity);if(t instanceof _h||(t=Wd(t)),!t)return new Ai;if(t instanceof Ai)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Ai(a,u,c,t.opacity)}function TY(t,e,n,r){return arguments.length===1?nU(t):new Ai(t,e,n,r??1)}function Ai(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}jS(Ai,TY,tU(_h,{brighter(t){return t=t==null?Sg:Math.pow(Sg,t),new Ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jd:Math.pow(jd,t),new Ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gr(MT(t>=240?t-240:t+120,i,r),MT(t,i,r),MT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ai(bM(this.h),Rm(this.s),Rm(this.l),wg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wg(this.opacity);return`${t===1?"hsl(":"hsla("}${bM(this.h)}, ${Rm(this.s)*100}%, ${Rm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bM(t){return t=(t||0)%360,t<0?t+360:t}function Rm(t){return Math.max(0,Math.min(1,t||0))}function MT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const YS=t=>()=>t;function EY(t,e){return function(n){return t+n*e}}function AY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function SY(t){return(t=+t)==1?rU:function(e,n){return n-e?AY(e,n,t):YS(isNaN(e)?n:e)}}function rU(t,e){var n=e-t;return n?EY(t,n):YS(isNaN(t)?e:t)}const CM=(function t(e){var n=SY(e);function r(i,o){var a=n((i=ZE(i)).r,(o=ZE(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),d=rU(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function wY(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function bY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CY(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Fc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function xY(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function bg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function IY(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var eA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,NT=new RegExp(eA.source,"g");function RY(t){return function(){return t}}function PY(t){return function(e){return t(e)+""}}function MY(t,e){var n=eA.lastIndex=NT.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(t=t+"",e=e+"";(r=eA.exec(t))&&(i=NT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:bg(r,i)})),n=NT.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?PY(c[0].x):RY(e):(e=c.length,function(d){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(d);return u.join("")})}function Fc(t,e){var n=typeof e,r;return e==null||n==="boolean"?YS(e):(n==="number"?bg:n==="string"?(r=Wd(e))?(e=r,CM):MY:e instanceof Wd?CM:e instanceof Date?xY:bY(e)?wY:Array.isArray(e)?CY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?IY:bg)(t,e)}function WS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function NY(t,e){e===void 0&&(e=t,t=Fc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function DY(t){return function(){return t}}function Cg(t){return+t}var xM=[0,1];function tr(t){return t}function tA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:DY(isNaN(e)?NaN:.5)}function kY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function OY(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=tA(i,r),o=n(a,o)):(r=tA(r,i),o=n(o,a)),function(u){return o(r(u))}}function LY(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=tA(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var c=vh(t,u,1,r)-1;return o[c](i[c](u))}}function Th(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ky(){var t=xM,e=xM,n=Fc,r,i,o,a=tr,u,c,d;function h(){var y=Math.min(t.length,e.length);return a!==tr&&(a=kY(t[0],t[y-1])),u=y>2?LY:OY,c=d=null,m}function m(y){return y==null||isNaN(y=+y)?o:(c||(c=u(t.map(r),e,n)))(r(a(y)))}return m.invert=function(y){return a(i((d||(d=u(e,t.map(r),bg)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Cg),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=WS,h()},m.clamp=function(y){return arguments.length?(a=y?!0:tr,h()):a!==tr},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(o=y,m):o},function(y,A){return r=y,i=A,h()}}function JS(){return ky()(tr,tr)}function VY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sc(t){return t=xg(Math.abs(t)),t?t[1]:NaN}function UY(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function FY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var BY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jd(t){if(!(e=BY.exec(t)))throw new Error("invalid format: "+t);var e;return new XS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jd.prototype=XS.prototype;function XS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}XS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qY(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var iU;function zY(t,e){var n=xg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(iU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xg(t,Math.max(0,e+o-1))[0]}function IM(t,e){var n=xg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const RM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:VY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IM(t*100,e),r:IM,s:zY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PM(t){return t}var MM=Array.prototype.map,NM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function HY(t){var e=t.grouping===void 0||t.thousands===void 0?PM:UY(MM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?PM:FY(MM.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=Jd(m);var y=m.fill,A=m.align,S=m.sign,b=m.symbol,x=m.zero,N=m.width,B=m.comma,k=m.precision,H=m.trim,F=m.type;F==="n"?(B=!0,F="g"):RM[F]||(k===void 0&&(k=12),H=!0,F="g"),(x||y==="0"&&A==="=")&&(x=!0,y="0",A="=");var G=b==="$"?n:b==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",P=b==="$"?r:/[%p]/.test(F)?a:"",D=RM[F],L=/[defgprs%]/.test(F);k=k===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function z(U){var $=G,q=P,Ce,qe,ee;if(F==="c")q=D(U)+q,U="";else{U=+U;var ce=U<0||1/U<0;if(U=isNaN(U)?c:D(Math.abs(U),k),H&&(U=qY(U)),ce&&+U==0&&S!=="+"&&(ce=!1),$=(ce?S==="("?S:u:S==="-"||S==="("?"":S)+$,q=(F==="s"?NM[8+iU/3]:"")+q+(ce&&S==="("?")":""),L){for(Ce=-1,qe=U.length;++Ce<qe;)if(ee=U.charCodeAt(Ce),48>ee||ee>57){q=(ee===46?i+U.slice(Ce+1):U.slice(Ce))+q,U=U.slice(0,Ce);break}}}B&&!x&&(U=e(U,1/0));var he=$.length+U.length+q.length,Ee=he<N?new Array(N-he+1).join(y):"";switch(B&&x&&(U=e(Ee+U,Ee.length?N-q.length:1/0),Ee=""),A){case"<":U=$+U+q+Ee;break;case"=":U=$+Ee+U+q;break;case"^":U=Ee.slice(0,he=Ee.length>>1)+$+U+q+Ee.slice(he);break;default:U=Ee+$+U+q;break}return o(U)}return z.toString=function(){return m+""},z}function h(m,y){var A=d((m=Jd(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(Sc(y)/3)))*3,b=Math.pow(10,-S),x=NM[8+S/3];return function(N){return A(b*N)+x}}return{format:d,formatPrefix:h}}var Pm,QS,oU;GY({thousands:",",grouping:[3],currency:["$",""]});function GY(t){return Pm=HY(t),QS=Pm.format,oU=Pm.formatPrefix,Pm}function $Y(t){return Math.max(0,-Sc(Math.abs(t)))}function KY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sc(e)/3)))*3-Sc(Math.abs(t)))}function jY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sc(e)-Sc(t))+1}function sU(t,e,n,r){var i=XE(t,e,n),o;switch(r=Jd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=KY(i,a))&&(r.precision=o),oU(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=jY(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$Y(i))&&(r.precision=o-(r.type==="%")*2);break}}return QS(r)}function Ma(t){var e=t.domain;return t.ticks=function(n){var r=e();return WE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],c,d,h=10;for(u<a&&(d=a,a=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=JE(a,u,n),d===c)return r[i]=a,r[o]=u,e(r);if(d>0)a=Math.floor(a/d)*d,u=Math.ceil(u/d)*d;else if(d<0)a=Math.ceil(a*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function aU(){var t=JS();return t.copy=function(){return Th(t,aU())},ai.apply(t,arguments),Ma(t)}function lU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Cg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lU(t).unknown(e)},t=arguments.length?Array.from(t,Cg):[0,1],Ma(n)}function uU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function DM(t){return Math.log(t)}function kM(t){return Math.exp(t)}function YY(t){return-Math.log(-t)}function WY(t){return-Math.exp(-t)}function JY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function XY(t){return t===10?JY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function QY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function OM(t){return(e,n)=>-t(-e,n)}function ZS(t){const e=t(DM,kM),n=e.domain;let r=10,i,o;function a(){return i=QY(r),o=XY(r),n()[0]<0?(i=OM(i),o=OM(o),t(YY,WY)):t(DM,kM),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let y=i(d),A=i(h),S,b;const x=u==null?10:+u;let N=[];if(!(r%1)&&A-y<x){if(y=Math.floor(y),A=Math.ceil(A),d>0){for(;y<=A;++y)for(S=1;S<r;++S)if(b=y<0?S/o(-y):S*o(y),!(b<d)){if(b>h)break;N.push(b)}}else for(;y<=A;++y)for(S=r-1;S>=1;--S)if(b=y>0?S/o(-y):S*o(y),!(b<d)){if(b>h)break;N.push(b)}N.length*2<x&&(N=WE(d,h,x))}else N=WE(y,A,Math.min(A-y,x)).map(o);return m?N.reverse():N},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Jd(c)).precision==null&&(c.trim=!0),c=QS(c)),u===1/0)return c;const d=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},e.nice=()=>n(uU(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function cU(){const t=ZS(ky()).domain([1,10]);return t.copy=()=>Th(t,cU()).base(t.base()),ai.apply(t,arguments),t}function LM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ew(t){var e=1,n=t(LM(e),VM(e));return n.constant=function(r){return arguments.length?t(LM(e=+r),VM(e)):e},Ma(n)}function fU(){var t=ew(ky());return t.copy=function(){return Th(t,fU()).constant(t.constant())},ai.apply(t,arguments)}function UM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ZY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eW(t){return t<0?-t*t:t*t}function tw(t){var e=t(tr,tr),n=1;function r(){return n===1?t(tr,tr):n===.5?t(ZY,eW):t(UM(n),UM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ma(e)}function nw(){var t=tw(ky());return t.copy=function(){return Th(t,nw()).exponent(t.exponent())},ai.apply(t,arguments),t}function tW(){return nw.apply(null,arguments).exponent(.5)}function FM(t){return Math.sign(t)*t*t}function nW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function dU(){var t=JS(),e=[0,1],n=!1,r;function i(o){var a=nW(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(FM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Cg)).map(FM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return dU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ai.apply(i,arguments),Ma(i)}function hU(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=sY(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[vh(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(la),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return hU().domain(t).range(e).unknown(r)},ai.apply(o,arguments)}function pU(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[vh(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return pU().domain([t,e]).range(i).unknown(o)},ai.apply(Ma(a),arguments)}function mU(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[vh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return mU().domain(t).range(e).unknown(n)},ai.apply(i,arguments)}const DT=new Date,kT=new Date;function vn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;let d;do c.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<a);return c},i.filter=o=>vn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(DT.setTime(+o),kT.setTime(+a),t(DT),t(kT),Math.floor(n(DT,kT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ig=vn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ig.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ig);Ig.range;const qo=1e3,ei=qo*60,zo=ei*60,Zo=zo*24,rw=Zo*7,BM=Zo*30,OT=Zo*365,bl=vn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*qo)},(t,e)=>(e-t)/qo,t=>t.getUTCSeconds());bl.range;const iw=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qo)},(t,e)=>{t.setTime(+t+e*ei)},(t,e)=>(e-t)/ei,t=>t.getMinutes());iw.range;const ow=vn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ei)},(t,e)=>(e-t)/ei,t=>t.getUTCMinutes());ow.range;const sw=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qo-t.getMinutes()*ei)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getHours());sw.range;const aw=vn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCHours());aw.range;const Eh=vn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ei)/Zo,t=>t.getDate()-1);Eh.range;const Oy=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>t.getUTCDate()-1);Oy.range;const gU=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>Math.floor(t/Zo));gU.range;function Yl(t){return vn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ei)/rw)}const Ly=Yl(0),Rg=Yl(1),rW=Yl(2),iW=Yl(3),wc=Yl(4),oW=Yl(5),sW=Yl(6);Ly.range;Rg.range;rW.range;iW.range;wc.range;oW.range;sW.range;function Wl(t){return vn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/rw)}const Vy=Wl(0),Pg=Wl(1),aW=Wl(2),lW=Wl(3),bc=Wl(4),uW=Wl(5),cW=Wl(6);Vy.range;Pg.range;aW.range;lW.range;bc.range;uW.range;cW.range;const lw=vn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());lw.range;const uw=vn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uw.range;const es=vn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});es.range;const ts=vn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ts.range;function yU(t,e,n,r,i,o){const a=[[bl,1,qo],[bl,5,5*qo],[bl,15,15*qo],[bl,30,30*qo],[o,1,ei],[o,5,5*ei],[o,15,15*ei],[o,30,30*ei],[i,1,zo],[i,3,3*zo],[i,6,6*zo],[i,12,12*zo],[r,1,Zo],[r,2,2*Zo],[n,1,rw],[e,1,BM],[e,3,3*BM],[t,1,OT]];function u(d,h,m){const y=h<d;y&&([d,h]=[h,d]);const A=m&&typeof m.range=="function"?m:c(d,h,m),S=A?A.range(d,+h+1):[];return y?S.reverse():S}function c(d,h,m){const y=Math.abs(h-d)/m,A=GS(([,,x])=>x).right(a,y);if(A===a.length)return t.every(XE(d/OT,h/OT,m));if(A===0)return Ig.every(Math.max(XE(d,h,m),1));const[S,b]=a[y/a[A-1][2]<a[A][2]/y?A-1:A];return S.every(b)}return[u,c]}const[fW,dW]=yU(ts,uw,Vy,gU,aw,ow),[hW,pW]=yU(es,lw,Ly,Eh,sw,iw);function LT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function VT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function cd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function mW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,d=fd(i),h=dd(i),m=fd(o),y=dd(o),A=fd(a),S=dd(a),b=fd(u),x=dd(u),N=fd(c),B=dd(c),k={a:ce,A:he,b:Ee,B:Ve,c:null,d:KM,e:KM,f:UW,g:YW,G:JW,H:OW,I:LW,j:VW,L:vU,m:FW,M:BW,p:j,q:ae,Q:WM,s:JM,S:qW,u:zW,U:HW,V:GW,w:$W,W:KW,x:null,X:null,y:jW,Y:WW,Z:XW,"%":YM},H={a:me,A:ve,b:Ie,B:Ne,c:null,d:jM,e:jM,f:tJ,g:fJ,G:hJ,H:QW,I:ZW,j:eJ,L:TU,m:nJ,M:rJ,p:He,q:Mt,Q:WM,s:JM,S:iJ,u:oJ,U:sJ,V:aJ,w:lJ,W:uJ,x:null,X:null,y:cJ,Y:dJ,Z:pJ,"%":YM},F={a:z,A:U,b:$,B:q,c:Ce,d:GM,e:GM,f:MW,g:HM,G:zM,H:$M,I:$M,j:xW,L:PW,m:CW,M:IW,p:L,q:bW,Q:DW,s:kW,S:RW,u:TW,U:EW,V:AW,w:_W,W:SW,x:qe,X:ee,y:HM,Y:zM,Z:wW,"%":NW};k.x=G(n,k),k.X=G(r,k),k.c=G(e,k),H.x=G(n,H),H.X=G(r,H),H.c=G(e,H);function G(oe,ke){return function(ze){var de=[],Bt=-1,Ge=0,fn=oe.length,qt,vr,ys;for(ze instanceof Date||(ze=new Date(+ze));++Bt<fn;)oe.charCodeAt(Bt)===37&&(de.push(oe.slice(Ge,Bt)),(vr=qM[qt=oe.charAt(++Bt)])!=null?qt=oe.charAt(++Bt):vr=qt==="e"?" ":"0",(ys=ke[qt])&&(qt=ys(ze,vr)),de.push(qt),Ge=Bt+1);return de.push(oe.slice(Ge,Bt)),de.join("")}}function P(oe,ke){return function(ze){var de=cd(1900,void 0,1),Bt=D(de,oe,ze+="",0),Ge,fn;if(Bt!=ze.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ke&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ge=VT(cd(de.y,0,1)),fn=Ge.getUTCDay(),Ge=fn>4||fn===0?Pg.ceil(Ge):Pg(Ge),Ge=Oy.offset(Ge,(de.V-1)*7),de.y=Ge.getUTCFullYear(),de.m=Ge.getUTCMonth(),de.d=Ge.getUTCDate()+(de.w+6)%7):(Ge=LT(cd(de.y,0,1)),fn=Ge.getDay(),Ge=fn>4||fn===0?Rg.ceil(Ge):Rg(Ge),Ge=Eh.offset(Ge,(de.V-1)*7),de.y=Ge.getFullYear(),de.m=Ge.getMonth(),de.d=Ge.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),fn="Z"in de?VT(cd(de.y,0,1)).getUTCDay():LT(cd(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(fn+5)%7:de.w+de.U*7-(fn+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,VT(de)):LT(de)}}function D(oe,ke,ze,de){for(var Bt=0,Ge=ke.length,fn=ze.length,qt,vr;Bt<Ge;){if(de>=fn)return-1;if(qt=ke.charCodeAt(Bt++),qt===37){if(qt=ke.charAt(Bt++),vr=F[qt in qM?ke.charAt(Bt++):qt],!vr||(de=vr(oe,ze,de))<0)return-1}else if(qt!=ze.charCodeAt(de++))return-1}return de}function L(oe,ke,ze){var de=d.exec(ke.slice(ze));return de?(oe.p=h.get(de[0].toLowerCase()),ze+de[0].length):-1}function z(oe,ke,ze){var de=A.exec(ke.slice(ze));return de?(oe.w=S.get(de[0].toLowerCase()),ze+de[0].length):-1}function U(oe,ke,ze){var de=m.exec(ke.slice(ze));return de?(oe.w=y.get(de[0].toLowerCase()),ze+de[0].length):-1}function $(oe,ke,ze){var de=N.exec(ke.slice(ze));return de?(oe.m=B.get(de[0].toLowerCase()),ze+de[0].length):-1}function q(oe,ke,ze){var de=b.exec(ke.slice(ze));return de?(oe.m=x.get(de[0].toLowerCase()),ze+de[0].length):-1}function Ce(oe,ke,ze){return D(oe,e,ke,ze)}function qe(oe,ke,ze){return D(oe,n,ke,ze)}function ee(oe,ke,ze){return D(oe,r,ke,ze)}function ce(oe){return a[oe.getDay()]}function he(oe){return o[oe.getDay()]}function Ee(oe){return c[oe.getMonth()]}function Ve(oe){return u[oe.getMonth()]}function j(oe){return i[+(oe.getHours()>=12)]}function ae(oe){return 1+~~(oe.getMonth()/3)}function me(oe){return a[oe.getUTCDay()]}function ve(oe){return o[oe.getUTCDay()]}function Ie(oe){return c[oe.getUTCMonth()]}function Ne(oe){return u[oe.getUTCMonth()]}function He(oe){return i[+(oe.getUTCHours()>=12)]}function Mt(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ke=G(oe+="",k);return ke.toString=function(){return oe},ke},parse:function(oe){var ke=P(oe+="",!1);return ke.toString=function(){return oe},ke},utcFormat:function(oe){var ke=G(oe+="",H);return ke.toString=function(){return oe},ke},utcParse:function(oe){var ke=P(oe+="",!0);return ke.toString=function(){return oe},ke}}}var qM={"-":"",_:" ",0:"0"},Cn=/^\s*\d+/,gW=/^%/,yW=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function vW(t){return t.replace(yW,"\\$&")}function fd(t){return new RegExp("^(?:"+t.map(vW).join("|")+")","i")}function dd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _W(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function TW(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function EW(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function AW(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function SW(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zM(t,e,n){var r=Cn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function HM(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wW(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bW(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function CW(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function GM(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xW(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $M(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function IW(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function RW(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function PW(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function MW(t,e,n){var r=Cn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NW(t,e,n){var r=gW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function DW(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function kW(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function KM(t,e){return it(t.getDate(),e,2)}function OW(t,e){return it(t.getHours(),e,2)}function LW(t,e){return it(t.getHours()%12||12,e,2)}function VW(t,e){return it(1+Eh.count(es(t),t),e,3)}function vU(t,e){return it(t.getMilliseconds(),e,3)}function UW(t,e){return vU(t,e)+"000"}function FW(t,e){return it(t.getMonth()+1,e,2)}function BW(t,e){return it(t.getMinutes(),e,2)}function qW(t,e){return it(t.getSeconds(),e,2)}function zW(t){var e=t.getDay();return e===0?7:e}function HW(t,e){return it(Ly.count(es(t)-1,t),e,2)}function _U(t){var e=t.getDay();return e>=4||e===0?wc(t):wc.ceil(t)}function GW(t,e){return t=_U(t),it(wc.count(es(t),t)+(es(t).getDay()===4),e,2)}function $W(t){return t.getDay()}function KW(t,e){return it(Rg.count(es(t)-1,t),e,2)}function jW(t,e){return it(t.getFullYear()%100,e,2)}function YW(t,e){return t=_U(t),it(t.getFullYear()%100,e,2)}function WW(t,e){return it(t.getFullYear()%1e4,e,4)}function JW(t,e){var n=t.getDay();return t=n>=4||n===0?wc(t):wc.ceil(t),it(t.getFullYear()%1e4,e,4)}function XW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function jM(t,e){return it(t.getUTCDate(),e,2)}function QW(t,e){return it(t.getUTCHours(),e,2)}function ZW(t,e){return it(t.getUTCHours()%12||12,e,2)}function eJ(t,e){return it(1+Oy.count(ts(t),t),e,3)}function TU(t,e){return it(t.getUTCMilliseconds(),e,3)}function tJ(t,e){return TU(t,e)+"000"}function nJ(t,e){return it(t.getUTCMonth()+1,e,2)}function rJ(t,e){return it(t.getUTCMinutes(),e,2)}function iJ(t,e){return it(t.getUTCSeconds(),e,2)}function oJ(t){var e=t.getUTCDay();return e===0?7:e}function sJ(t,e){return it(Vy.count(ts(t)-1,t),e,2)}function EU(t){var e=t.getUTCDay();return e>=4||e===0?bc(t):bc.ceil(t)}function aJ(t,e){return t=EU(t),it(bc.count(ts(t),t)+(ts(t).getUTCDay()===4),e,2)}function lJ(t){return t.getUTCDay()}function uJ(t,e){return it(Pg.count(ts(t)-1,t),e,2)}function cJ(t,e){return it(t.getUTCFullYear()%100,e,2)}function fJ(t,e){return t=EU(t),it(t.getUTCFullYear()%100,e,2)}function dJ(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function hJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?bc(t):bc.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function pJ(){return"+0000"}function YM(){return"%"}function WM(t){return+t}function JM(t){return Math.floor(+t/1e3)}var $u,AU,SU;mJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mJ(t){return $u=mW(t),AU=$u.format,$u.parse,SU=$u.utcFormat,$u.utcParse,$u}function gJ(t){return new Date(t)}function yJ(t){return t instanceof Date?+t:+new Date(+t)}function cw(t,e,n,r,i,o,a,u,c,d){var h=JS(),m=h.invert,y=h.domain,A=d(".%L"),S=d(":%S"),b=d("%I:%M"),x=d("%I %p"),N=d("%a %d"),B=d("%b %d"),k=d("%B"),H=d("%Y");function F(G){return(c(G)<G?A:u(G)<G?S:a(G)<G?b:o(G)<G?x:r(G)<G?i(G)<G?N:B:n(G)<G?k:H)(G)}return h.invert=function(G){return new Date(m(G))},h.domain=function(G){return arguments.length?y(Array.from(G,yJ)):y().map(gJ)},h.ticks=function(G){var P=y();return t(P[0],P[P.length-1],G??10)},h.tickFormat=function(G,P){return P==null?F:d(P)},h.nice=function(G){var P=y();return(!G||typeof G.range!="function")&&(G=e(P[0],P[P.length-1],G??10)),G?y(uU(P,G)):h},h.copy=function(){return Th(h,cw(t,e,n,r,i,o,a,u,c,d))},h}function vJ(){return ai.apply(cw(hW,pW,es,lw,Ly,Eh,sw,iw,bl,AU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _J(){return ai.apply(cw(fW,dW,ts,uw,Vy,Oy,aw,ow,bl,SU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Uy(){var t=0,e=1,n,r,i,o,a=tr,u=!1,c;function d(m){return m==null||isNaN(m=+m)?c:a(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(a=m,d):a};function h(m){return function(y){var A,S;return arguments.length?([A,S]=y,a=m(A,S),d):[a(0),a(1)]}}return d.range=h(Fc),d.rangeRound=h(WS),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function Na(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function wU(){var t=Ma(Uy()(tr));return t.copy=function(){return Na(t,wU())},fs.apply(t,arguments)}function bU(){var t=ZS(Uy()).domain([1,10]);return t.copy=function(){return Na(t,bU()).base(t.base())},fs.apply(t,arguments)}function CU(){var t=ew(Uy());return t.copy=function(){return Na(t,CU()).constant(t.constant())},fs.apply(t,arguments)}function fw(){var t=tw(Uy());return t.copy=function(){return Na(t,fw()).exponent(t.exponent())},fs.apply(t,arguments)}function TJ(){return fw.apply(null,arguments).exponent(.5)}function xU(){var t=[],e=tr;function n(r){if(r!=null&&!isNaN(r=+r))return e((vh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(la),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>oY(t,o/r))},n.copy=function(){return xU(e).domain(t)},fs.apply(n,arguments)}function Fy(){var t=0,e=.5,n=1,r=1,i,o,a,u,c,d=tr,h,m=!1,y;function A(b){return isNaN(b=+b)?y:(b=.5+((b=+h(b))-o)*(r*b<r*o?u:c),d(m?Math.max(0,Math.min(1,b)):b))}A.domain=function(b){return arguments.length?([t,e,n]=b,i=h(t=+t),o=h(e=+e),a=h(n=+n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,A):[t,e,n]},A.clamp=function(b){return arguments.length?(m=!!b,A):m},A.interpolator=function(b){return arguments.length?(d=b,A):d};function S(b){return function(x){var N,B,k;return arguments.length?([N,B,k]=x,d=NY(b,[N,B,k]),A):[d(0),d(.5),d(1)]}}return A.range=S(Fc),A.rangeRound=S(WS),A.unknown=function(b){return arguments.length?(y=b,A):y},function(b){return h=b,i=b(t),o=b(e),a=b(n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,A}}function IU(){var t=Ma(Fy()(tr));return t.copy=function(){return Na(t,IU())},fs.apply(t,arguments)}function RU(){var t=ZS(Fy()).domain([.1,1,10]);return t.copy=function(){return Na(t,RU()).base(t.base())},fs.apply(t,arguments)}function PU(){var t=ew(Fy());return t.copy=function(){return Na(t,PU()).constant(t.constant())},fs.apply(t,arguments)}function dw(){var t=tw(Fy());return t.copy=function(){return Na(t,dw()).exponent(t.exponent())},fs.apply(t,arguments)}function EJ(){return dw.apply(null,arguments).exponent(.5)}const gd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:KS,scaleDiverging:IU,scaleDivergingLog:RU,scaleDivergingPow:dw,scaleDivergingSqrt:EJ,scaleDivergingSymlog:PU,scaleIdentity:lU,scaleImplicit:QE,scaleLinear:aU,scaleLog:cU,scaleOrdinal:$S,scalePoint:lY,scalePow:nw,scaleQuantile:hU,scaleQuantize:pU,scaleRadial:dU,scaleSequential:wU,scaleSequentialLog:bU,scaleSequentialPow:fw,scaleSequentialQuantile:xU,scaleSequentialSqrt:TJ,scaleSequentialSymlog:CU,scaleSqrt:tW,scaleSymlog:fU,scaleThreshold:mU,scaleTime:vJ,scaleUtc:_J,tickFormat:sU},Symbol.toStringTag,{value:"Module"}));var Da=t=>t.chartData,AJ=re([Da],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),hw=(t,e,n,r)=>r?AJ(t):Da(t);function Fl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ft(e)&&Ft(n))return!0}return!1}function XM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function MU(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Ft(n))i=n;else if(typeof n=="function")return;if(Ft(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(Fl(a))return a}}function SJ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Fl(r))return XM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,u;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Qe(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&FP.test(i)){var c=FP.exec(i);if(c==null||e==null)a=void 0;else{var d=+c[1];a=e[0]-d}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Qe(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&BP.test(o)){var h=BP.exec(o);if(h==null||e==null)u=void 0;else{var m=+h[1];u=e[1]+m}}else u=e==null?void 0:e[1];var y=[a,u];if(Fl(y))return e==null?y:XM(y,e,n)}}}var Bc=1e9,wJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mw,Pt=!0,oi="[DecimalError] ",Nl=oi+"Invalid argument: ",pw=oi+"Exponent out of range: ",qc=Math.floor,Tl=Math.pow,bJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr,wn=1e7,wt=7,NU=9007199254740991,Mg=qc(NU/wt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Ko(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return vt(Ko(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return cn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pr))throw Error(oi+"NaN");if(n.s<1)throw Error(oi+(n.s?"NaN":"-Infinity"));return n.eq(Pr)?new r(0):(Pt=!1,e=Ko(Xd(n,o),Xd(t,o),o),Pt=!0,vt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OU(e,t):DU(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(oi+"NaN");return n.s?(Pt=!1,e=Ko(n,t,0,1).times(t),Pt=!0,n.minus(e)):vt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return kU(this)};Te.naturalLogarithm=Te.ln=function(){return Xd(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DU(e,t):OU(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Nl+t);if(e=cn(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,o,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(oi+"NaN")}for(t=cn(u),Pt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Xi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(Ko(u,o,a+2)).times(.5),Xi(o.d).slice(0,a)===(e=Xi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(vt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return Pt=!0,vt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,o,a,u,c,d,h=this,m=h.constructor,y=h.d,A=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,d=A.length,c<d&&(o=y,y=A,A=o,a=c,c=d,d=a),o=[],a=c+d,r=a;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+A[r]*y[i-r-1]+e,o[i--]=u%wn|0,e=u/wn|0;o[i]=(o[i]+e)%wn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Pt?vt(t,m.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fo(t,0,Bc),e===void 0?e=r.rounding:fo(e,0,8),vt(n,t+cn(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Bl(r,!0):(fo(t,0,Bc),e===void 0?e=i.rounding:fo(e,0,8),r=vt(new i(r),t+1,e),n=Bl(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Bl(i):(fo(t,0,Bc),e===void 0?e=o.rounding:fo(e,0,8),r=vt(new o(i),t+cn(i)+1,e),n=Bl(r.abs(),!1,t+cn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return vt(new e(t),cn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,o,a,u=this,c=u.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(Pr);if(u=new c(u),!u.s){if(t.s<1)throw Error(oi+"Infinity");return u}if(u.eq(Pr))return u;if(r=c.precision,t.eq(Pr))return vt(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=h<0?-h:h)<=NU){for(i=new c(Pr),e=Math.ceil(r/wt+4),Pt=!1;n%2&&(i=i.times(u),ZM(i.d,e)),n=qc(n/2),n!==0;)u=u.times(u),ZM(u.d,e);return Pt=!0,t.s<0?new c(Pr).div(i):vt(i,r)}}else if(o<0)throw Error(oi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Pt=!1,i=t.times(Xd(u,r+d)),Pt=!0,i=kU(i),i.s=o,i};Te.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=cn(i),r=Bl(i,n<=o.toExpNeg||n>=o.toExpPos)):(fo(t,1,Bc),e===void 0?e=o.rounding:fo(e,0,8),i=vt(new o(i),t,e),n=cn(i),r=Bl(i,t<=n||n<=o.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fo(t,1,Bc),e===void 0?e=r.rounding:fo(e,0,8)),vt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),n=t.constructor;return Bl(t,e<=n.toExpNeg||e>=n.toExpPos)};function DU(t,e){var n,r,i,o,a,u,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Pt?vt(e,m):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,u=d.length):(r=d,i=a,u=c.length),a=Math.ceil(m/wt),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=d.length,u-o<0&&(o=u,r=d,d=c,c=r),n=0;o;)n=(c[--o]=c[o]+d[o]+n)/wn|0,c[o]%=wn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Pt?vt(e,m):e}function fo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Nl+t)}function Xi(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=wt-r.length,n&&(o+=Zs(n)),o+=r;a=t[e],r=a+"",n=wt-r.length,n&&(o+=Zs(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ko=(function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%wn|0,a=o/wn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,c;if(o!=a)c=o>a?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*wn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,c,d,h,m,y,A,S,b,x,N,B,k,H,F,G,P,D,L=r.constructor,z=r.s==i.s?1:-1,U=r.d,$=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(oi+"Division by zero");for(c=r.e-i.e,P=$.length,F=U.length,A=new L(z),S=A.d=[],d=0;$[d]==(U[d]||0);)++d;if($[d]>(U[d]||0)&&--c,o==null?B=o=L.precision:a?B=o+(cn(r)-cn(i))+1:B=o,B<0)return new L(0);if(B=B/wt+2|0,d=0,P==1)for(h=0,$=$[0],B++;(d<F||h)&&B--;d++)k=h*wn+(U[d]||0),S[d]=k/$|0,h=k%$|0;else{for(h=wn/($[0]+1)|0,h>1&&($=t($,h),U=t(U,h),P=$.length,F=U.length),H=P,b=U.slice(0,P),x=b.length;x<P;)b[x++]=0;D=$.slice(),D.unshift(0),G=$[0],$[1]>=wn/2&&++G;do h=0,u=e($,b,P,x),u<0?(N=b[0],P!=x&&(N=N*wn+(b[1]||0)),h=N/G|0,h>1?(h>=wn&&(h=wn-1),m=t($,h),y=m.length,x=b.length,u=e(m,b,y,x),u==1&&(h--,n(m,P<y?D:$,y))):(h==0&&(u=h=1),m=$.slice()),y=m.length,y<x&&m.unshift(0),n(b,m,x),u==-1&&(x=b.length,u=e($,b,P,x),u<1&&(h++,n(b,P<x?D:$,x))),x=b.length):u===0&&(h++,b=[0]),S[d++]=h,u&&b[0]?b[x++]=U[H]||0:(b=[U[H]],x=1);while((H++<F||b[0]!==void 0)&&B--)}return S[0]||S.shift(),A.e=c,vt(A,a?o+cn(A)+1:o)}})();function kU(t,e){var n,r,i,o,a,u,c=0,d=0,h=t.constructor,m=h.precision;if(cn(t)>16)throw Error(pw+cn(t));if(!t.s)return new h(Pr);for(Pt=!1,u=m,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(Tl(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Pr),h.precision=u;;){if(i=vt(i.times(t),u),n=n.times(++c),a=o.plus(Ko(i,n,u)),Xi(a.d).slice(0,u)===Xi(o.d).slice(0,u)){for(;d--;)o=vt(o.times(o),u);return h.precision=m,e==null?(Pt=!0,vt(o,m)):o}o=a}}function cn(t){for(var e=t.e*wt,n=t.d[0];n>=10;n/=10)e++;return e}function UT(t,e,n){if(e>t.LN10.sd())throw Pt=!0,n&&(t.precision=n),Error(oi+"LN10 precision limit exceeded");return vt(new t(t.LN10),e)}function Zs(t){for(var e="";t--;)e+="0";return e}function Xd(t,e){var n,r,i,o,a,u,c,d,h,m=1,y=10,A=t,S=A.d,b=A.constructor,x=b.precision;if(A.s<1)throw Error(oi+(A.s?"NaN":"-Infinity"));if(A.eq(Pr))return new b(0);if(e==null?(Pt=!1,d=x):d=e,A.eq(10))return e==null&&(Pt=!0),UT(b,d);if(d+=y,b.precision=d,n=Xi(S),r=n.charAt(0),o=cn(A),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(t),n=Xi(A.d),r=n.charAt(0),m++;o=cn(A),r>1?(A=new b("0."+n),o++):A=new b(r+"."+n.slice(1))}else return c=UT(b,d+2,x).times(o+""),A=Xd(new b(r+"."+n.slice(1)),d-y).plus(c),b.precision=x,e==null?(Pt=!0,vt(A,x)):A;for(u=a=A=Ko(A.minus(Pr),A.plus(Pr),d),h=vt(A.times(A),d),i=3;;){if(a=vt(a.times(h),d),c=u.plus(Ko(a,new b(i),d)),Xi(c.d).slice(0,d)===Xi(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(UT(b,d+2,x).times(o+""))),u=Ko(u,new b(m),d),b.precision=x,e==null?(Pt=!0,vt(u,x)):u;u=c,i+=2}}function QM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=qc(n/wt),t.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=wt;r<i;)t.d.push(+e.slice(r,r+=wt));e=e.slice(r),r=wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Pt&&(t.e>Mg||t.e<-Mg))throw Error(pw+n)}else t.s=0,t.e=0,t.d=[0];return t}function vt(t,e,n){var r,i,o,a,u,c,d,h,m=t.d;for(a=1,o=m[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=wt,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/wt),o=m.length,h>=o)return t;for(d=o=m[h],a=1;o>=10;o/=10)a++;r%=wt,i=r-wt+a}if(n!==void 0&&(o=Tl(10,a-i-1),u=d/o%10|0,c=e<0||m[h+1]!==void 0||d%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/Tl(10,a-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(o=cn(t),m.length=1,e=e-o-1,m[0]=Tl(10,(wt-e%wt)%wt),t.e=qc(-e/wt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Tl(10,wt-r),m[h]=i>0?(d/Tl(10,a-i)%Tl(10,i)|0)*o:0),c)for(;;)if(h==0){(m[0]+=o)==wn&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=wn)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Pt&&(t.e>Mg||t.e<-Mg))throw Error(pw+cn(t));return t}function OU(t,e){var n,r,i,o,a,u,c,d,h,m,y=t.constructor,A=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Pt?vt(e,A):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(h=a<0,h?(n=c,a=-a,u=m.length):(n=m,r=d,u=c.length),i=Math.max(Math.ceil(A/wt),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}a=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>a;){if(c[--i]<m[i]){for(o=i;o&&c[--o]===0;)c[o]=wn-1;--c[o],c[i]+=wn}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Pt?vt(e,A):e):new y(0)}function Bl(t,e,n){var r,i=cn(t),o=Xi(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Zs(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Zs(-i-1)+o,n&&(r=n-a)>0&&(o+=Zs(r))):i>=a?(o+=Zs(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Zs(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Zs(r))),t.s<0?"-"+o:o}function ZM(t,e){if(t.length>e)return t.length=e,!0}function LU(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Nl+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return QM(a,o.toString())}else if(typeof o!="string")throw Error(Nl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,bJ.test(o))QM(a,o);else throw Error(Nl+o)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=LU,i.config=i.set=CJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function CJ(t){if(!t||typeof t!="object")throw Error(oi+"Object expected");var e,n,r,i=["precision",1,Bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(qc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Nl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Nl+n+": "+r);return this}var mw=LU(wJ);Pr=new mw(1);const dt=mw;var xJ=t=>t,VU={},UU=t=>t===VU,eN=t=>function e(){return arguments.length===0||arguments.length===1&&UU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},FU=(t,e)=>t===1?e:eN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==VU).length;return o>=t?e(...r):FU(t-o,eN(function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var d=r.map(h=>UU(h)?u.shift():h);return e(...d,...u)}))}),By=t=>FU(t.length,t),nA=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},IJ=By((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),RJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return xJ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((u,c)=>c(u),o(...arguments))}},rA=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),BU=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((a,u)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[u])})||(e=i,n=t(...i)),n}};function qU(t){var e;return t===0?e=1:e=Math.floor(new dt(t).abs().log(10).toNumber())+1,e}function zU(t,e,n){for(var r=new dt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}By((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});By((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});By((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var HU=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},GU=(t,e,n)=>{if(t.lte(0))return new dt(0);var r=qU(t.toNumber()),i=new dt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new dt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=u.mul(i);return e?new dt(c.toNumber()):new dt(Math.ceil(c.toNumber()))},PJ=(t,e,n)=>{var r=new dt(1),i=new dt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new dt(10).pow(qU(t)-1),i=new dt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new dt(Math.floor(t)))}else t===0?i=new dt(Math.floor((e-1)/2)):n||(i=new dt(Math.floor(t)));var a=Math.floor((e-1)/2),u=RJ(IJ(c=>i.add(new dt(c-a).mul(r)).toNumber()),nA);return u(0,e)},$U=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var a=GU(new dt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new dt(0):(u=new dt(e).add(n).div(2),u=u.sub(new dt(u).mod(a)));var c=Math.ceil(u.sub(e).div(a).toNumber()),d=Math.ceil(new dt(n).sub(u).div(a).toNumber()),h=c+d+1;return h>r?$U(e,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:a,tickMin:u.sub(new dt(c).mul(a)),tickMax:u.add(new dt(d).mul(a))})};function MJ(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[a,u]=HU([e,n]);if(a===-1/0||u===1/0){var c=u===1/0?[a,...nA(0,r-1).map(()=>1/0)]:[...nA(0,r-1).map(()=>-1/0),u];return e>n?rA(c):c}if(a===u)return PJ(a,r,i);var{step:d,tickMin:h,tickMax:m}=$U(a,u,o,i,0),y=zU(h,m.add(new dt(.1).mul(d)),d);return e>n?rA(y):y}function NJ(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=HU([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var u=Math.max(e,2),c=GU(new dt(a).sub(o).div(u-1),i,0),d=[...zU(new dt(o),new dt(a),c),a];return i===!1&&(d=d.map(h=>Math.round(h))),n>r?rA(d):d}var DJ=BU(MJ),kJ=BU(NJ),OJ=t=>t.rootProps.barCategoryGap,qy=t=>t.rootProps.stackOffset,gw=t=>t.options.chartName,KU=t=>t.rootProps.syncId,LJ=t=>t.rootProps.syncMethod,jU=t=>t.options.eventEmitter,VJ=t=>t.rootProps.baseValue,go={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Uo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},zy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},UJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Uo.angleAxisId,includeHidden:!1,name:void 0,reversed:Uo.reversed,scale:Uo.scale,tick:Uo.tick,tickCount:void 0,ticks:void 0,type:Uo.type,unit:void 0},FJ={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,ticks:void 0,type:Rr.type,unit:void 0},BJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Uo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Uo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Uo.scale,tick:Uo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},qJ={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,ticks:void 0,type:"category",unit:void 0},yw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?BJ:UJ,vw=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?qJ:FJ,Hy=t=>t.polarOptions,_w=re([us,cs,Jn],Vj),YU=re([Hy,_w],(t,e)=>{if(t!=null)return Ll(t.innerRadius,e,0)}),WU=re([Hy,_w],(t,e)=>{if(t!=null)return Ll(t.outerRadius,e,e*.8)}),zJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},JU=re([Hy],zJ);re([yw,JU],zy);var XU=re([_w,YU,WU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([vw,XU],zy);var QU=re([Tt,Hy,YU,WU,us,cs],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:u,startAngle:c,endAngle:d}=e;return{cx:Ll(a,i,i/2),cy:Ll(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),_n=(t,e)=>e,Gy=(t,e,n)=>n;function Tw(t){return t==null?void 0:t.id}function ZU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return t.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=Tw(u);d.forEach((m,y)=>{var A=o==null||i?y:String(nr(m,o,null)),S=nr(m,u.dataKey,0),b;a.has(A)?b=a.get(A):b={},Object.assign(b,{[h]:S}),a.set(A,b)})}}),Array.from(a.values())}function Ew(t){return t.stackId!=null&&t.dataKey!=null}var $y=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Ky(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function HJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Tn=t=>{var e=Tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},zc=t=>t.tooltip.settings.axisId;function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){GJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GJ(t,e,n){return(e=$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=KJ(t,"string");return typeof e=="symbol"?e:e+""}function KJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iA=[0,"auto"],e5={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jJ=(t,e)=>t.cartesianAxis.xAxis[e],ds=(t,e)=>{var n=jJ(t,e);return n??e5},Ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gh},t5=(t,e)=>t.cartesianAxis.yAxis[e],hs=(t,e)=>{var n=t5(t,e);return n??Ir},YJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Aw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??YJ},rr=(t,e,n)=>{switch(e){case"xAxis":return ds(t,n);case"yAxis":return hs(t,n);case"zAxis":return Aw(t,n);case"angleAxis":return yw(t,n);case"radiusAxis":return vw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},WJ=(t,e,n)=>{switch(e){case"xAxis":return ds(t,n);case"yAxis":return hs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ah=(t,e,n)=>{switch(e){case"xAxis":return ds(t,n);case"yAxis":return hs(t,n);case"angleAxis":return yw(t,n);case"radiusAxis":return vw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},n5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function r5(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var i5=t=>t.graphicalItems.cartesianItems,JJ=re([_n,Gy],r5),o5=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Sh=re([i5,rr,JJ],o5,{memoizeOptions:{resultEqualityCheck:Ky}}),s5=re([Sh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Ew)),a5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),XJ=re([Sh],a5),l5=t=>t.map(e=>e.data).filter(Boolean).flat(1),QJ=re([Sh],l5,{memoizeOptions:{resultEqualityCheck:Ky}}),u5=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Sw=re([QJ,hw],u5),c5=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:nr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:nr(i,r)}))):t.map(r=>({value:r})),jy=re([Sw,rr,Sh],c5);function f5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Gm(t){if(Ec(t)||t instanceof Date){var e=Number(t);if(Ft(e))return e}}function nN(t){if(Array.isArray(t)){var e=[Gm(t[0]),Gm(t[1])];return Fl(e)?e:void 0}var n=Gm(t);if(n!=null)return[n,n]}function ns(t){return t.map(Gm).filter(S7)}function ZJ(t,e,n){return!n||typeof e!="number"||co(e)?[]:n.length?ns(n.flatMap(r=>{var i=nr(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!Ft(o)||!Ft(a)))return[e-o,e+a]})):[]}var xn=t=>{var e=Tn(t),n=zc(t);return Ah(t,e,n)},d5=re([xn],t=>t==null?void 0:t.dataKey),eX=re([s5,hw,xn],ZU),h5=(t,e,n)=>{var r={},i=e.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[a,u]=o,c=u.map(Tw);return[a,{stackedData:fK(t,c,n),graphicalItems:u}]}))},oA=re([eX,s5,qy],h5),p5=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var a=mK(t,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},tX=re([rr],t=>t.allowDataOverflow),ww=t=>{var e;if(t==null||!("domain"in t))return iA;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ns(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:iA},m5=re([rr],ww),g5=re([m5,tX],MU),nX=re([oA,Da,_n,g5],p5,{memoizeOptions:{resultEqualityCheck:$y}}),bw=t=>t.errorBars,rX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>f5(n,r)),Dg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),u=Math.max(...o);return[a,u]}},y5=(t,e,n,r,i)=>{var o,a;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var d,h,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(N=>f5(i,N)),y=nr(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),A=ZJ(u,y,m);if(A.length>=2){var S=Math.min(...A),b=Math.max(...A);(o==null||S<o)&&(o=S),(a==null||b>a)&&(a=b)}var x=nN(y);x!=null&&(o=o==null?x[0]:Math.min(o,x[0]),a=a==null?x[1]:Math.max(a,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=nN(nr(u,e.dataKey));c!=null&&(o=o==null?c[0]:Math.min(o,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Ft(o)&&Ft(a))return[o,a]},iX=re([Sw,rr,XJ,bw,_n],y5,{memoizeOptions:{resultEqualityCheck:$y}});function oX(t){var{value:e}=t;if(Ec(e)||e instanceof Date)return e}var sX=(t,e,n)=>{var r=t.map(oX).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&oV(r))?JV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},v5=t=>t.referenceElements.dots,Hc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),aX=re([v5,_n,Gy],Hc),_5=t=>t.referenceElements.areas,lX=re([_5,_n,Gy],Hc),T5=t=>t.referenceElements.lines,uX=re([T5,_n,Gy],Hc),E5=(t,e)=>{var n=ns(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cX=re(aX,_n,E5),A5=(t,e)=>{var n=ns(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fX=re([lX,_n],A5);function dX(t){var e;if(t.x!=null)return ns([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ns(n)}function hX(t){var e;if(t.y!=null)return ns([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ns(n)}var S5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?dX(r):hX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},pX=re([uX,_n],S5),mX=re(cX,pX,fX,(t,e,n)=>Dg(t,n,e)),w5=(t,e,n,r,i,o,a,u)=>{if(n!=null)return n;var c=a==="vertical"&&u==="xAxis"||a==="horizontal"&&u==="yAxis",d=c?Dg(r,o,i):Dg(o,i);return SJ(e,d,t.allowDataOverflow)},gX=re([rr,m5,g5,nX,iX,mX,Tt,_n],w5,{memoizeOptions:{resultEqualityCheck:$y}}),yX=[0,1],b5=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:u,type:c}=t,d=ls(e,o);if(d&&u==null){var h;return JV(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?sX(r,t,d):i==="expand"?yX:a}},Cw=re([rr,Tt,Sw,jy,qy,_n,gX],b5),C5=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(DS(o));return u in gd?u:"point"}}},wh=re([rr,Tt,n5,gw,_n],C5);function vX(t){if(t!=null){if(t in gd)return gd[t]();var e="scale".concat(DS(t));if(e in gd)return gd[e]()}}function xw(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=vX(e);if(i!=null){var o=i.domain(n).range(r);return aK(o),o}}}var x5=(t,e,n)=>{var r=ww(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Fl(t))return DJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Fl(t))return kJ(t,e.tickCount,e.allowDecimals)}},Iw=re([Cw,Ah,wh],x5),I5=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Fl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(a,u)]}return e},_X=re([rr,Cw,Iw,_n],I5),TX=re(jy,rr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ns(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),R5=re(TX,Tt,OJ,Jn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Ft(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=Ll(n,t*o),u=t*o/2;return u-a-(u-a)/o*a}return 0}),EX=(t,e)=>{var n=ds(t,e);return n==null||typeof n.padding!="string"?0:R5(t,"xAxis",e,n.padding)},AX=(t,e)=>{var n=hs(t,e);return n==null||typeof n.padding!="string"?0:R5(t,"yAxis",e,n.padding)},SX=re(ds,EX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),wX=re(hs,AX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),bX=re([Jn,SX,Ny,My,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),CX=re([Jn,Tt,wX,Ny,My,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),bh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return bX(t,n,r);case"yAxis":return CX(t,n,r);case"zAxis":return(i=Aw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return JU(t);case"radiusAxis":return XU(t,n);default:return}},P5=re([rr,bh],zy),Ch=re([rr,wh,_X,P5],xw);re([Sh,bw,_n],rX);function M5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Yy=(t,e)=>e,Wy=(t,e,n)=>n,xX=re(Ry,Yy,Wy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(M5)),IX=re(Py,Yy,Wy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(M5)),N5=(t,e)=>({width:t.width,height:e.height}),RX=(t,e)=>{var n=typeof e.width=="number"?e.width:gh;return{width:n,height:t.height}};re(Jn,ds,N5);var PX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},MX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},NX=re(cs,Jn,xX,Yy,Wy,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=N5(e,u);a==null&&(a=PX(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),o}),DX=re(us,Jn,IX,Yy,Wy,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=RX(e,u);a==null&&(a=MX(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),o}),kX=(t,e)=>{var n=ds(t,e);if(n!=null)return NX(t,n.orientation,n.mirror)};re([Jn,ds,kX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var OX=(t,e)=>{var n=hs(t,e);if(n!=null)return DX(t,n.orientation,n.mirror)},LX=re([Jn,hs,OX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),VX=re(Jn,hs,(t,e)=>{var n=typeof e.width=="number"?e.width:gh;return{width:n,height:t.height}}),D5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,u=ls(t,r),c=e.map(d=>d.value);if(a&&u&&o==="category"&&i&&oV(c))return c}},Rw=re([Tt,jy,rr,_n],D5),k5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=ls(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},Pw=re([Tt,jy,Ah,_n],k5);re([Tt,WJ,wh,Ch,Rw,Pw,bh,Iw,_n],(t,e,n,r,i,o,a,u,c)=>{if(e!=null){var d=ls(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:a,realScaleType:n,scale:r}}});var UX=(t,e,n,r,i,o,a,u,c)=>{if(!(e==null||r==null)){var d=ls(t,c),{type:h,ticks:m,tickCount:y}=e,A=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/A:0;S=c==="angleAxis"&&o!=null&&o.length>=2?Bo(o[0]-o[1])*2*S:S;var b=m||i;if(b){var x=b.map((N,B)=>{var k=a?a.indexOf(N):N;return{index:B,coordinate:r(k)+S,value:N,offset:S}});return x.filter(N=>Ft(N.coordinate))}return d&&u?u.map((N,B)=>({coordinate:r(N)+S,value:N,index:B,offset:S})).filter(N=>Ft(N.coordinate)):r.ticks?r.ticks(y).map(N=>({coordinate:r(N)+S,value:N,offset:S})):r.domain().map((N,B)=>({coordinate:r(N)+S,value:a?a[N]:N,index:B,offset:S}))}},FX=re([Tt,Ah,wh,Ch,Iw,bh,Rw,Pw,_n],UX),BX=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=ls(t,a),{tickCount:c}=e,d=0;return d=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Bo(r[0]-r[1])*2*d:d,u&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},O5=re([Tt,Ah,Ch,bh,Rw,Pw,_n],BX),L5=re(rr,Ch,(t,e)=>{if(!(t==null||e==null))return Ng(Ng({},t),{},{scale:e})}),qX=re([rr,wh,Cw,P5],xw);re((t,e,n)=>Aw(t,n),qX,(t,e)=>{if(!(t==null||e==null))return Ng(Ng({},t),{},{scale:e})});var zX=re([Tt,Ry,Py],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),V5=t=>t.options.defaultTooltipEventType,U5=t=>t.options.validateTooltipEventTypes;function F5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function B5(t,e){var n=V5(t),r=U5(t);return F5(e,n,r)}var q5=(t,e)=>{var n,r=Number(e);if(!(co(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},HX=t=>t.tooltip.settings,ta={active:!1,index:null,dataKey:void 0,coordinate:void 0},GX={itemInteraction:{click:ta,hover:ta},axisInteraction:{click:ta,hover:ta},keyboardInteraction:ta,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},z5=yr({name:"tooltip",initialState:GX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:mn()},removeTooltipEntrySettings:{reducer(t,e){var n=$o(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:mn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:$X,removeTooltipEntrySettings:KX,setTooltipSettingsState:Ove,setActiveMouseOverItemIndex:jX,mouseLeaveItem:Lve,mouseLeaveChart:H5,setActiveClickItemIndex:Vve,setMouseOverAxisIndex:G5,setMouseClickAxisIndex:YX,setSyncInteraction:rN,setKeyboardInteraction:sA}=z5.actions,WX=z5.reducer;function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){JX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JX(t,e,n){return(e=XX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XX(t){var e=QX(t,"string");return typeof e=="symbol"?e:e+""}function QX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZX(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function eQ(t){return t.index!=null}var $5=(t,e,n,r)=>{if(e==null)return ta;var i=ZX(t,e,n);if(i==null)return ta;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(eQ(i)){if(o)return Mm(Mm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Mm(Mm({},ta),{},{coordinate:i.coordinate})},Mw=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Ft(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},K5=(t,e,n,r,i,o,a,u)=>{if(!(o==null||u==null)){var c=a[0],d=c==null?void 0:u(c.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},j5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},xh=t=>t.options.tooltipPayloadSearcher,Ih=t=>t.tooltip;function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){tQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tQ(t,e,n){return(e=nQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nQ(t){var e=rQ(t,"string");return typeof e=="symbol"?e:e+""}function rQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iQ(t,e){return t??e}var Y5=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,m=[];return t.reduce((y,A)=>{var S,{dataDefinedOnItem:b,settings:x}=A,N=iQ(b,u),B=Array.isArray(N)?UV(N,d,h):N,k=(S=x==null?void 0:x.dataKey)!==null&&S!==void 0?S:r,H=x==null?void 0:x.nameKey,F;if(r&&Array.isArray(B)&&!Array.isArray(B[0])&&a==="axis"?F=sV(B,r,i):F=o(B,e,c,H),Array.isArray(F))F.forEach(P=>{var D=sN(sN({},x),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});y.push(zP({tooltipEntrySettings:D,dataKey:P.dataKey,payload:P.payload,value:nr(P.payload,P.dataKey),name:P.name}))});else{var G;y.push(zP({tooltipEntrySettings:x,dataKey:k,payload:F,value:nr(F,k),name:(G=nr(F,H))!==null&&G!==void 0?G:x==null?void 0:x.name}))}return y},m)}},Nw=re([xn,Tt,n5,gw,Tn],C5),oQ=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),sQ=re([Tn,zc],r5),Rh=re([oQ,xn,sQ],o5,{memoizeOptions:{resultEqualityCheck:Ky}}),aQ=re([Rh],t=>t.filter(Ew)),lQ=re([Rh],l5,{memoizeOptions:{resultEqualityCheck:Ky}}),Gc=re([lQ,Da],u5),uQ=re([aQ,Da,xn],ZU),Dw=re([Gc,xn,Rh],c5),W5=re([xn],ww),cQ=re([xn],t=>t.allowDataOverflow),J5=re([W5,cQ],MU),fQ=re([Rh],t=>t.filter(Ew)),dQ=re([uQ,fQ,qy],h5),hQ=re([dQ,Da,Tn,J5],p5),pQ=re([Rh],a5),mQ=re([Gc,xn,pQ,bw,Tn],y5,{memoizeOptions:{resultEqualityCheck:$y}}),gQ=re([v5,Tn,zc],Hc),yQ=re([gQ,Tn],E5),vQ=re([_5,Tn,zc],Hc),_Q=re([vQ,Tn],A5),TQ=re([T5,Tn,zc],Hc),EQ=re([TQ,Tn],S5),AQ=re([yQ,EQ,_Q],Dg),SQ=re([xn,W5,J5,hQ,mQ,AQ,Tt,Tn],w5),X5=re([xn,Tt,Gc,Dw,qy,Tn,SQ],b5),wQ=re([X5,xn,Nw],x5),bQ=re([xn,X5,wQ,Tn],I5),Q5=t=>{var e=Tn(t),n=zc(t),r=!1;return bh(t,e,n,r)},Z5=re([xn,Q5],zy),CQ=re([xn,Nw,bQ,Z5],xw),xQ=re([Tt,Dw,xn,Tn],D5),IQ=re([Tt,Dw,xn,Tn],k5),RQ=(t,e,n,r,i,o,a,u)=>{if(e){var{type:c}=e,d=ls(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Bo(i[0]-i[1])*2*m:m,d&&a?a.map((y,A)=>({coordinate:r(y)+m,value:y,index:A,offset:m})):r.domain().map((y,A)=>({coordinate:r(y)+m,value:o?o[y]:y,index:A,offset:m}))}}},ka=re([Tt,xn,Nw,CQ,Q5,xQ,IQ,Tn],RQ),kw=re([V5,U5,HX],(t,e,n)=>F5(n.shared,t,e)),e4=t=>t.tooltip.settings.trigger,Ow=t=>t.tooltip.settings.defaultIndex,Jy=re([Ih,kw,e4,Ow],$5),Qd=re([Jy,Gc],Mw),t4=re([ka,Qd],q5),PQ=re([Jy],t=>{if(t)return t.dataKey}),n4=re([Ih,kw,e4,Ow],j5),MQ=re([us,cs,Tt,Jn,ka,Ow,n4,xh],K5),NQ=re([Jy,MQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),DQ=re([Jy],t=>t.active),kQ=re([n4,Qd,Da,d5,t4,xh,kw],Y5),OQ=re([kQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){LQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LQ(t,e,n){return(e=VQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VQ(t){var e=UQ(t,"string");return typeof e=="symbol"?e:e+""}function UQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FQ=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},BQ=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:a}=r;return Ku(Ku(Ku({},r),Ac(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var u=i.coordinate,{angle:c}=r;return Ku(Ku(Ku({},r),Ac(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qQ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var r4=(t,e,n,r,i)=>{var o,a=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,m=c>=u-1?n[0].coordinate:n[c+1].coordinate,y=void 0;if(Bo(h-d)!==Bo(m-h)){var A=[];if(Bo(m-h)===Bo(i[1]-i[0])){y=m;var S=h+i[1]-i[0];A[0]=Math.min(S,(S+d)/2),A[1]=Math.max(S,(S+d)/2)}else{y=d;var b=m+i[1]-i[0];A[0]=Math.min(h,(b+h)/2),A[1]=Math.max(h,(b+h)/2)}var x=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>x[0]&&t<=x[1]||t>=A[0]&&t<=A[1]){({index:a}=n[c]);break}}else{var N=Math.min(d,m),B=Math.max(d,m);if(t>(N+h)/2&&t<=(B+h)/2){({index:a}=n[c]);break}}}else if(e){for(var k=0;k<u;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<u-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===u-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:a}=e[k]);break}}return a},zQ=()=>rt(gw),Lw=(t,e)=>e,i4=(t,e,n)=>n,Vw=(t,e,n,r)=>r,HQ=re(ka,t=>LS(t,e=>e.coordinate)),Uw=re([Ih,Lw,i4,Vw],$5),o4=re([Uw,Gc],Mw),s4=re([Ih,Lw,i4,Vw],j5),kg=re([us,cs,Tt,Jn,ka,Vw,s4,xh],K5);re([Uw,kg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e});var GQ=re([ka,o4],q5);re([s4,o4,Da,d5,GQ,xh,Lw],Y5);re([Uw],t=>({isActive:t.active,activeIndex:t.index}));var $Q=(t,e,n,r,i,o,a)=>{if(!(!t||!n||!r||!i)&&qQ(t,a)){var u=gK(t,e),c=r4(u,o,i,n,r),d=FQ(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},KQ=(t,e,n,r,i,o,a)=>{if(!(!t||!r||!i||!o||!n)){var u=zj(t,n);if(u){var c=yK(u,e),d=r4(c,a,o,r,i),h=BQ(e,o,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},jQ=(t,e,n,r,i,o,a,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?$Q(t,e,r,i,o,a,u):KQ(t,e,n,r,i,o,a)},YQ=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),WQ=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(go)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:HJ}});function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){JQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JQ(t,e,n){return(e=XQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XQ(t){var e=QQ(t,"string");return typeof e=="symbol"?e:e+""}function QQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZQ={},eZ={zIndexMap:Object.values(go).reduce((t,e)=>uN(uN({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),ZQ)},tZ=new Set(Object.values(go));function nZ(t){return tZ.has(t)}var a4=yr({name:"zIndex",initialState:eZ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:mn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!nZ(n)&&delete t.zIndexMap[n])},prepare:mn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:mn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:mn()}}}),{registerZIndexPortal:rZ,unregisterZIndexPortal:iZ,registerZIndexPortalId:oZ,unregisterZIndexPortalId:sZ}=a4.actions,aZ=a4.reducer;function Jl(t){var{zIndex:e,children:n}=t,r=QK(),i=r&&e!==void 0&&e!==0,o=si(),a=Wn();R.useLayoutEffect(()=>i?(a(rZ({zIndex:e})),()=>{a(iZ({zIndex:e}))}):Uc,[a,e,i]);var u=rt(d=>YQ(d,e,o));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?j8.createPortal(n,c):null}var lZ=R.createContext(null),FT={exports:{}},cN;function uZ(){return cN||(cN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function o(c,d,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var A=new i(h,m||c,y),S=n?n+d:d;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],A]:c._events[S].push(A):(c._events[S]=A,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,A=m.length,S=new Array(A);y<A;y++)S[y]=m[y].fn;return S},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,y,A,S){var b=n?n+d:d;if(!this._events[b])return!1;var x=this._events[b],N=arguments.length,B,k;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),N){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,m),!0;case 4:return x.fn.call(x.context,h,m,y),!0;case 5:return x.fn.call(x.context,h,m,y,A),!0;case 6:return x.fn.call(x.context,h,m,y,A,S),!0}for(k=1,B=new Array(N-1);k<N;k++)B[k-1]=arguments[k];x.fn.apply(x.context,B)}else{var H=x.length,F;for(k=0;k<H;k++)switch(x[k].once&&this.removeListener(d,x[k].fn,void 0,!0),N){case 1:x[k].fn.call(x[k].context);break;case 2:x[k].fn.call(x[k].context,h);break;case 3:x[k].fn.call(x[k].context,h,m);break;case 4:x[k].fn.call(x[k].context,h,m,y);break;default:if(!B)for(F=1,B=new Array(N-1);F<N;F++)B[F-1]=arguments[F];x[k].fn.apply(x[k].context,B)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,y){var A=n?n+d:d;if(!this._events[A])return this;if(!h)return a(this,A),this;var S=this._events[A];if(S.fn)S.fn===h&&(!y||S.once)&&(!m||S.context===m)&&a(this,A);else{for(var b=0,x=[],N=S.length;b<N;b++)(S[b].fn!==h||y&&!S[b].once||m&&S[b].context!==m)&&x.push(S[b]);x.length?this._events[A]=x.length===1?x[0]:x:a(this,A)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(FT)),FT.exports}var cZ=uZ();const fZ=Ia(cZ);var Og=new fZ,fN="recharts.syncEvent.tooltip",dN="recharts.syncEvent.brush";function dZ(t,e){if(e){var n=Number.parseInt(e,10);if(!co(n))return t==null?void 0:t[n]}}var hZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},l4=yr({name:"options",initialState:hZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pZ=l4.reducer,{createEventEmitter:mZ}=l4.actions,gZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},u4=yr({name:"chartData",initialState:gZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:hN,setDataStartEndIndexes:yZ,setComputedData:Uve}=u4.actions,vZ=u4.reducer,_Z=["x","y"];function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){TZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TZ(t,e,n){return(e=EZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EZ(t){var e=AZ(t,"string");return typeof e=="symbol"?e:e+""}function AZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SZ(t,e){if(t==null)return{};var n,r,i=wZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bZ(){var t=rt(KU),e=rt(jU),n=Wn(),r=rt(LJ),i=rt(ka),o=HS(),a=$V(),u=rt(c=>c.rootProps.className);R.useEffect(()=>{if(t==null)return Uc;var c=(d,h,m)=>{if(e!==m&&t===d){if(r==="index"){var y;if(a&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var A=h.payload.coordinate,{x:S,y:b}=A,x=SZ(A,_Z),{x:N,y:B,width:k,height:H}=h.payload.sourceViewBox,F=ju(ju({},x),{},{x:a.x+(k?(S-N)/k:0)*a.width,y:a.y+(H?(b-B)/H:0)*a.height});n(ju(ju({},h),{},{payload:ju(ju({},h.payload),{},{coordinate:F})}))}else n(h);return}if(i!=null){var G;if(typeof r=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},D=r(i,P);G=i[D]}else r==="value"&&(G=i.find(ee=>String(ee.value)===h.payload.label));var{coordinate:L}=h.payload;if(G==null||h.payload.active===!1||L==null||a==null){n(rN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:z,y:U}=L,$=Math.min(z,a.x+a.width),q=Math.min(U,a.y+a.height),Ce={x:o==="horizontal"?G.coordinate:$,y:o==="horizontal"?q:G.coordinate},qe=rN({active:h.payload.active,coordinate:Ce,dataKey:h.payload.dataKey,index:String(G.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(qe)}}};return Og.on(fN,c),()=>{Og.off(fN,c)}},[u,n,e,t,r,i,o,a])}function CZ(){var t=rt(KU),e=rt(jU),n=Wn();R.useEffect(()=>{if(t==null)return Uc;var r=(i,o,a)=>{e!==a&&t===i&&n(yZ(o))};return Og.on(dN,r),()=>{Og.off(dN,r)}},[n,e,t])}function xZ(){var t=Wn();R.useEffect(()=>{t(mZ())},[t]),bZ(),CZ()}function IZ(t,e,n){return(e=RZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZ(t){var e=PZ(t,"string");return typeof e=="symbol"?e:e+""}function PZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class MZ{constructor(e){IZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){DZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DZ(t,e,n){return(e=kZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t){var e=OZ(t,"string");return typeof e=="symbol"?e:e+""}function OZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LZ={cacheSize:2e3,enableCache:!0},c4=NZ({},LZ),gN=new MZ(c4.cacheSize),VZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yN="recharts_measurement_span";function UZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(u)}var vN=(t,e)=>{try{var n=document.getElementById(yN);n||(n=document.createElement("span"),n.setAttribute("id",yN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,VZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Id=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yh.isSsr)return{width:0,height:0};if(!c4.enableCache)return vN(e,n);var r=UZ(e,n),i=gN.get(r);if(i)return i;var o=vN(e,n);return gN.set(r,o),o},_N=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qZ=Object.keys(f4),ic="NaN";function zZ(t,e){return t*f4[e]}class fr{static parse(e){var n,[,r,i]=(n=BZ.exec(e))!==null&&n!==void 0?n:[];return new fr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,co(e)&&(this.unit=""),n!==""&&!FZ.test(n)&&(this.num=NaN,this.unit=""),qZ.includes(n)&&(this.num=zZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new fr(NaN,""):new fr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new fr(NaN,""):new fr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fr(NaN,""):new fr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fr(NaN,""):new fr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return co(this.num)}}function d4(t){if(t.includes(ic))return ic;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=_N.exec(e))!==null&&n!==void 0?n:[],a=fr.parse(r??""),u=fr.parse(o??""),c=i==="*"?a.multiply(u):a.divide(u);if(c.isNaN())return ic;e=e.replace(_N,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,m,y]=(d=TN.exec(e))!==null&&d!==void 0?d:[],A=fr.parse(h??""),S=fr.parse(y??""),b=m==="+"?A.add(S):A.subtract(S);if(b.isNaN())return ic;e=e.replace(TN,b.toString())}return e}var EN=/\(([^()]*)\)/;function HZ(t){for(var e=t,n;(n=EN.exec(e))!=null;){var[,r]=n;e=e.replace(EN,d4(r))}return e}function GZ(t){var e=t.replace(/\s+/g,"");return e=HZ(e),e=d4(e),e}function $Z(t){try{return GZ(t)}catch{return ic}}function BT(t){var e=$Z(t.slice(5,-1));return e===ic?"":e}var KZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],jZ=["dx","dy","angle","className","breakAll"];function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aA.apply(null,arguments)}function AN(t,e){if(t==null)return{};var n,r,i=YZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var h4=/[ \f\n\r\t\v\u2028\u2029]+/,p4=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];jn(e)||(n?i=e.toString().split(""):i=e.toString().split(h4));var o=i.map(u=>({word:u,width:Id(u,r).width})),a=n?0:Id("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function WZ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var m4=(t,e,n,r)=>t.reduce((i,o)=>{var{word:a,width:u}=o,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(a),c.width+=u+n;else{var d={words:[a],width:u};i.push(d)}return i},[]),g4=t=>t.reduce((e,n)=>e.width>n.width?e:n),JZ="",SN=(t,e,n,r,i,o,a,u)=>{var c=t.slice(0,e),d=p4({breakAll:n,style:r,children:c+JZ});if(!d)return[!1,[]];var h=m4(d.wordsWithComputedWidth,o,a,u),m=h.length>i||g4(h).width>Number(o);return[m,h]},XZ=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:u,breakAll:c}=t,d=Qe(o),h=String(a),m=m4(e,r,n,i);if(!d||i)return m;var y=m.length>o||g4(m).width>Number(r);if(!y)return m;for(var A=0,S=h.length-1,b=0,x;A<=S&&b<=h.length-1;){var N=Math.floor((A+S)/2),B=N-1,[k,H]=SN(h,B,c,u,o,r,n,i),[F]=SN(h,N,c,u,o,r,n,i);if(!k&&!F&&(A=N+1),k&&F&&(S=N-1),!k&&F){x=H;break}b++}return x||m},wN=t=>{var e=jn(t)?[]:t.toString().split(h4);return[{words:e,width:void 0}]},QZ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!yh.isSsr){var u,c,d=p4({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,c=m}else return wN(r);return XZ({breakAll:o,children:r,maxLines:a,style:i},u,c,e,!!n)}return wN(r)},y4="#808080",ZZ={breakAll:!1,capHeight:"0.71em",fill:y4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Fw=R.forwardRef((t,e)=>{var n=Pa(t,ZZ),{x:r,y:i,lineHeight:o,capHeight:a,fill:u,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,m=AN(n,KZ),y=R.useMemo(()=>QZ({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:A,dy:S,angle:b,className:x,breakAll:N}=m,B=AN(m,jZ);if(!Ec(r)||!Ec(i)||y.length===0)return null;var k=Number(r)+(Qe(A)?A:0),H=Number(i)+(Qe(S)?S:0);if(!Ft(k)||!Ft(H))return null;var F;switch(h){case"start":F=BT("calc(".concat(a,")"));break;case"middle":F=BT("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:F=BT("calc(".concat(y.length-1," * -").concat(o,")"));break}var G=[];if(c){var P=y[0].width,{width:D}=m;G.push("scale(".concat(Qe(D)&&Qe(P)?D/P:1,")"))}return b&&G.push("rotate(".concat(b,", ").concat(k,", ").concat(H,")")),G.length&&(B.transform=G.join(" ")),R.createElement("text",aA({},ya(B),{ref:e,x:k,y:H,className:Un("recharts-text",x),textAnchor:d,fill:u.includes("url")?y4:u}),y.map((L,z)=>{var U=L.words.join(N?"":" ");return R.createElement("tspan",{x:k,dy:z===0?F:o,key:"".concat(U,"-").concat(z)},U)}))});Fw.displayName="Text";var eee=["labelRef"];function tee(t,e){if(t==null)return{};var n,r,i=nee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ree(t,e,n){return(e=iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iee(t){var e=oee(t,"string");return typeof e=="symbol"?e:e+""}function oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fo.apply(null,arguments)}var v4=R.createContext(null),see=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:u}=t,c=R.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[e,n,r,i,o,a]);return R.createElement(v4.Provider,{value:c},u)},_4=()=>{var t=R.useContext(v4),e=$V();return t||GV(e)},aee=R.createContext(null),lee=()=>{var t=R.useContext(aee),e=rt(QU);return t||e},uee=t=>{var{value:e,formatter:n}=t,r=jn(t.children)?e:t.children;return typeof n=="function"?n(r):r},Bw=t=>t!=null&&typeof t=="function",cee=(t,e)=>{var n=Bo(e-t),r=Math.min(Math.abs(e-t),360);return n*r},fee=(t,e,n,r,i)=>{var{offset:o,className:a}=t,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:y,clockWise:A}=i,S=(d+h)/2,b=cee(m,y),x=b>=0?1:-1,N,B;switch(e){case"insideStart":N=m+x*o,B=A;break;case"insideEnd":N=y-x*o,B=!A;break;case"end":N=y+x*o,B=A;break;default:throw new Error("Unsupported position ".concat(e))}B=b<=0?B:!B;var k=Ac(u,c,S,N),H=Ac(u,c,S,N+(B?1:-1)*359),F="M".concat(k.x,",").concat(k.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(B?0:1,`,
    `).concat(H.x,",").concat(H.y),G=jn(t.id)?zd("recharts-radial-line-"):t.id;return R.createElement("text",Fo({},r,{dominantBaseline:"central",className:Un("recharts-radial-bar-label",a)}),R.createElement("defs",null,R.createElement("path",{id:G,d:F})),R.createElement("textPath",{xlinkHref:"#".concat(G)},n))},dee=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:c}=t,d=(u+c)/2;if(n==="outside"){var{x:h,y:m}=Ac(r,i,a+e,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+a)/2,{x:A,y:S}=Ac(r,i,y,d);return{x:A,y:S,textAnchor:"middle",verticalAnchor:"middle"}},lA=t=>"cx"in t&&Qe(t.cx),hee=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!lA(n)&&(o=n);var{x:a,y:u,upperWidth:c,lowerWidth:d,height:h}=e,m=a,y=a+(c-d)/2,A=(m+y)/2,S=(c+d)/2,b=m+c/2,x=h>=0?1:-1,N=x*r,B=x>0?"end":"start",k=x>0?"start":"end",H=c>=0?1:-1,F=H*r,G=H>0?"end":"start",P=H>0?"start":"end";if(i==="top"){var D={x:m+c/2,y:u-N,textAnchor:"middle",verticalAnchor:B};return Kt(Kt({},D),o?{height:Math.max(u-o.y,0),width:c}:{})}if(i==="bottom"){var L={x:y+d/2,y:u+h+N,textAnchor:"middle",verticalAnchor:k};return Kt(Kt({},L),o?{height:Math.max(o.y+o.height-(u+h),0),width:d}:{})}if(i==="left"){var z={x:A-F,y:u+h/2,textAnchor:G,verticalAnchor:"middle"};return Kt(Kt({},z),o?{width:Math.max(z.x-o.x,0),height:h}:{})}if(i==="right"){var U={x:A+S+F,y:u+h/2,textAnchor:P,verticalAnchor:"middle"};return Kt(Kt({},U),o?{width:Math.max(o.x+o.width-U.x,0),height:h}:{})}var $=o?{width:S,height:h}:{};return i==="insideLeft"?Kt({x:A+F,y:u+h/2,textAnchor:P,verticalAnchor:"middle"},$):i==="insideRight"?Kt({x:A+S-F,y:u+h/2,textAnchor:G,verticalAnchor:"middle"},$):i==="insideTop"?Kt({x:m+c/2,y:u+N,textAnchor:"middle",verticalAnchor:k},$):i==="insideBottom"?Kt({x:y+d/2,y:u+h-N,textAnchor:"middle",verticalAnchor:B},$):i==="insideTopLeft"?Kt({x:m+F,y:u+N,textAnchor:P,verticalAnchor:k},$):i==="insideTopRight"?Kt({x:m+c-F,y:u+N,textAnchor:G,verticalAnchor:k},$):i==="insideBottomLeft"?Kt({x:y+F,y:u+h-N,textAnchor:P,verticalAnchor:B},$):i==="insideBottomRight"?Kt({x:y+d-F,y:u+h-N,textAnchor:G,verticalAnchor:B},$):i&&typeof i=="object"&&(Qe(i.x)||Xo(i.x))&&(Qe(i.y)||Xo(i.y))?Kt({x:a+Ll(i.x,S),y:u+Ll(i.y,h),textAnchor:"end",verticalAnchor:"end"},$):Kt({x:b,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},$)},pee={offset:5,zIndex:go.label};function ea(t){var e=Pa(t,pee),{viewBox:n,position:r,value:i,children:o,content:a,className:u="",textBreakAll:c,labelRef:d}=e,h=lee(),m=_4(),y=r==="center"?m:h??m,A,S,b;if(n==null?A=y:lA(n)?A=n:A=GV(n),!A||jn(i)&&jn(o)&&!R.isValidElement(a)&&typeof a!="function")return null;var x=Kt(Kt({},e),{},{viewBox:A});if(R.isValidElement(a)){var{labelRef:N}=x,B=tee(x,eee);return R.cloneElement(a,B)}if(typeof a=="function"){if(S=R.createElement(a,x),R.isValidElement(S))return S}else S=uee(e);var k=ya(e);if(lA(A)){if(r==="insideStart"||r==="insideEnd"||r==="end")return fee(e,r,S,k,A);b=dee(A,e.offset,e.position)}else b=hee(e,A);return R.createElement(Jl,{zIndex:e.zIndex},R.createElement(Fw,Fo({ref:d,className:Un("recharts-label",u)},k,b,{textAnchor:WZ(k.textAnchor)?k.textAnchor:b.textAnchor,breakAll:c}),S))}ea.displayName="Label";var mee=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement(ea,Fo({key:"label-implicit"},r)):Ec(t)?R.createElement(ea,Fo({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===ea?R.cloneElement(t,Kt({key:"label-implicit"},r)):R.createElement(ea,Fo({key:"label-implicit",content:t},r)):Bw(t)?R.createElement(ea,Fo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement(ea,Fo({},t,{key:"label-implicit"},r)):null};function gee(t){var{label:e,labelRef:n}=t,r=_4();return mee(e,r,n)||null}var qT={},zT={},CN;function yee(){return CN||(CN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(zT)),zT}var HT={},xN;function vee(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(HT)),HT}var IN;function _ee(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yee(),n=vee(),r=aV();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(qT)),qT}var GT,RN;function Tee(){return RN||(RN=1,GT=_ee().last),GT}var Eee=Tee();const Aee=Ia(Eee);var See=["valueAccessor"],wee=["dataKey","clockWise","id","textBreakAll","zIndex"];function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(null,arguments)}function PN(t,e){if(t==null)return{};var n,r,i=bee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cee=t=>Array.isArray(t.value)?Aee(t.value):t.value,T4=R.createContext(void 0),xee=T4.Provider,E4=R.createContext(void 0);E4.Provider;function Iee(){return R.useContext(T4)}function Ree(){return R.useContext(E4)}function $m(t){var{valueAccessor:e=Cee}=t,n=PN(t,See),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:u}=n,c=PN(n,wee),d=Iee(),h=Ree(),m=d||h;return!m||!m.length?null:R.createElement(Jl,{zIndex:u??go.label},R.createElement(uo,{className:"recharts-label-list"},m.map((y,A)=>{var S,b=jn(r)?e(y,A):nr(y&&y.payload,r),x=jn(o)?{}:{id:"".concat(o,"-").concat(A)};return R.createElement(ea,Lg({key:"label-".concat(A)},ya(y),c,x,{fill:(S=n.fill)!==null&&S!==void 0?S:y.fill,parentViewBox:y.parentViewBox,value:b,textBreakAll:a,viewBox:y.viewBox,index:A,zIndex:0}))})))}$m.displayName="LabelList";function Pee(t){var{label:e}=t;return e?e===!0?R.createElement($m,{key:"labelList-implicit"}):R.isValidElement(e)||Bw(e)?R.createElement($m,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement($m,Lg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function uA(){return uA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uA.apply(null,arguments)}var A4=t=>{var{cx:e,cy:n,r,className:i}=t,o=Un("recharts-dot",i);return Qe(e)&&Qe(n)&&Qe(r)?R.createElement("circle",uA({},lo(t),kS(t),{className:o,cx:e,cy:n,r})):null},Mee={radiusAxis:{},angleAxis:{}},S4=yr({name:"polarAxis",initialState:Mee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Fve,removeRadiusAxis:Bve,addAngleAxis:qve,removeAngleAxis:zve}=S4.actions,Nee=S4.reducer,w4=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function Dee(t){var{fn:e,args:n}=t,r=Wn(),i=si();return R.useLayoutEffect(()=>{if(!i){var o=e(n);return r($X(o)),()=>{r(KX(o))}}},[e,n,r,i]),null}function kee(t){var{legendPayload:e}=t,n=Wn(),r=si();return R.useLayoutEffect(()=>r?Uc:(n(ej(e)),()=>{n(tj(e))}),[n,r,e]),null}var $T,Oee=()=>{var[t]=R.useState(()=>zd("uid-"));return t},Lee=($T=jq.useId)!==null&&$T!==void 0?$T:Oee;function b4(t,e){var n=Lee();return e||(t?"".concat(t,"-").concat(n):n)}var Vee=R.createContext(void 0),Uee=t=>{var{id:e,type:n,children:r}=t,i=b4("recharts-".concat(n),e);return R.createElement(Vee.Provider,{value:i},r(i))},Fee={cartesianItems:[],polarItems:[]},C4=yr({name:"graphicalItems",initialState:Fee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:mn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=$o(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:mn()},removeCartesianGraphicalItem:{reducer(t,e){var n=$o(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:mn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:mn()},removePolarGraphicalItem:{reducer(t,e){var n=$o(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:mn()}}}),{addCartesianGraphicalItem:Bee,replaceCartesianGraphicalItem:qee,removeCartesianGraphicalItem:zee,addPolarGraphicalItem:Hve,removePolarGraphicalItem:Gve}=C4.actions,Hee=C4.reducer;function Gee(t){var e=Wn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(Bee(t)):n.current!==t&&e(qee({prev:n.current,next:t})),n.current=t},[e,t]),R.useLayoutEffect(()=>()=>{n.current&&(e(zee(n.current)),n.current=null)},[e]),null}var $ee=["points"];function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){Kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kee(t,e,n){return(e=jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jee(t){var e=Yee(t,"string");return typeof e=="symbol"?e:e+""}function Yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(null,arguments)}function Wee(t,e){if(t==null)return{};var n,r,i=Jee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xee(t){var{option:e,dotProps:n,className:r}=t;if(R.isValidElement(e))return R.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Un(r,typeof e!="boolean"?e.className:""),o=n??{},{points:a}=o,u=Wee(o,$ee);return R.createElement(A4,Vg({},u,{className:i}))}function Qee(t,e){return t==null?!1:e?!0:t.length===1}function Zee(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:a,needClip:u,clipPathId:c,zIndex:d=go.scatter}=t;if(!Qee(e,n))return null;var h=w4(n),m=B8(n),y=e.map((S,b)=>{var x,N,B=KT(KT(KT({r:3},a),m),{},{index:b,cx:(x=S.x)!==null&&x!==void 0?x:void 0,cy:(N=S.y)!==null&&N!==void 0?N:void 0,dataKey:o,value:S.value,payload:S.payload,points:e});return R.createElement(Xee,{key:"dot-".concat(b),option:n,dotProps:B,className:i})}),A={};return u&&c!=null&&(A.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),R.createElement(Jl,{zIndex:d},R.createElement(uo,Vg({className:r},A),y))}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ete(t,e,n){return(e=tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=nte(t,"string");return typeof e=="symbol"?e:e+""}function nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rte={xAxis:{},yAxis:{},zAxis:{}},x4=yr({name:"cartesianAxis",initialState:rte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:mn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:mn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:mn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:mn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:mn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:mn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var a=[...o,r].slice(-3);t.yAxis[n]=DN(DN({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:$ve,removeXAxis:Kve,addYAxis:ite,removeYAxis:ote,addZAxis:jve,removeZAxis:Yve,updateYAxisWidth:ste}=x4.actions,ate=x4.reducer,lte=re([Jn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ute=re([lte,us,cs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),qw=()=>rt(ute),cte=()=>rt(OQ);function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fte(t,e,n){return(e=dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dte(t){var e=hte(t,"string");return typeof e=="symbol"?e:e+""}function hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pte=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=t;if(i===!1||e.x==null||e.y==null)return null;var a={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=jT(jT(jT({},a),MS(i)),kS(i)),c;return R.isValidElement(i)?c=R.cloneElement(i,u):typeof i=="function"?c=i(u):c=R.createElement(A4,u),R.createElement(uo,{className:"recharts-active-dot"},c)};function ON(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:o=go.activeDot}=t,a=rt(Qd),u=cte();if(e==null||u==null)return null;var c=e.find(d=>u.includes(d.payload));return jn(c)?null:R.createElement(Jl,{zIndex:o},R.createElement(pte,{point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r}))}var mte={},I4=yr({name:"errorBars",initialState:mte,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Wve,replaceErrorBar:Jve,removeErrorBar:Xve}=I4.actions,gte=I4.reducer;function R4(t,e){var n,r,i=rt(d=>ds(d,t)),o=rt(d=>hs(d,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:e5.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Ir.allowDataOverflow,c=a||u;return{needClip:c,needClipX:a,needClipY:u}}function yte(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=qw(),{needClipX:o,needClipY:a,needClip:u}=R4(e,n);if(!u||!i)return null;var{x:c,y:d,width:h,height:m}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:o?c:c-h/2,y:a?d:d-m/2,width:o?h:h*2,height:a?m:m*2}))}var vte=t=>{var{chartData:e}=t,n=Wn(),r=si();return R.useEffect(()=>r?()=>{}:(n(hN(e)),()=>{n(hN(void 0))}),[e,n,r]),null},LN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},P4=yr({name:"brush",initialState:LN,reducers:{setBrushSettings(t,e){return e.payload==null?LN:e.payload}}}),{setBrushSettings:Qve}=P4.actions,_te=P4.reducer;function Tte(t,e,n){return(e=Ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=Ate(t,"string");return typeof e=="symbol"?e:e+""}function Ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zw{static create(e){return new zw(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Tte(zw,"EPS",1e-4);function Ste(t){return(t%180+180)%180}var wte=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ste(i),a=o*Math.PI/180,u=Math.atan(r/n),c=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},bte={dots:[],areas:[],lines:[]},M4=yr({name:"referenceElements",initialState:bte,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=$o(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=$o(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=$o(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Zve,removeDot:e0e,addArea:t0e,removeArea:n0e,addLine:r0e,removeLine:i0e}=M4.actions,Cte=M4.reducer,xte=R.createContext(void 0),Ite=t=>{var{children:e}=t,[n]=R.useState("".concat(zd("recharts"),"-clip")),r=qw();if(r==null)return null;var{x:i,y:o,width:a,height:u}=r;return R.createElement(xte.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:o,height:u,width:a}))),e)};function Ug(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function N4(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Rte(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return wte(r,n)}function Pte(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:u}=t;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function Fg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Mte(t,e){return N4(t,e+1)}function Nte(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:u}=e,c=0,d=1,h=a,m=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:N4(r,d)};var b=c,x,N=()=>(x===void 0&&(x=n(S,b)),x),B=S.coordinate,k=c===0||Fg(t,B,N,h,u);k||(c=0,h=a,d+=1),k&&(h=B+t*(N()/2+i),c+=d)},y;d<=o.length;)if(y=m(),y)return y.v;return[]}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return(e=kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kte(t){var e=Ote(t,"string");return typeof e=="symbol"?e:e+""}function Ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lte(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:u}=e,{end:c}=e,d=function(y){var A=o[y],S,b=()=>(S===void 0&&(S=n(A,y)),S);if(y===a-1){var x=t*(A.coordinate+t*b()/2-c);o[y]=A=zn(zn({},A),{},{tickCoord:x>0?A.coordinate-x*t:A.coordinate})}else o[y]=A=zn(zn({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var N=Fg(t,A.tickCoord,b,u,c);N&&(c=A.tickCoord-t*(b()/2+i),o[y]=zn(zn({},A),{},{isShow:!0}))}},h=a-1;h>=0;h--)d(h);return o}function Vte(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,{start:c,end:d}=e;if(o){var h=r[u-1],m=n(h,u-1),y=t*(h.coordinate+t*m/2-d);if(a[u-1]=h=zn(zn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate}),h.tickCoord!=null){var A=Fg(t,h.tickCoord,()=>m,c,d);A&&(d=h.tickCoord-t*(m/2+i),a[u-1]=zn(zn({},h),{},{isShow:!0}))}}for(var S=o?u-1:u,b=function(B){var k=a[B],H,F=()=>(H===void 0&&(H=n(k,B)),H);if(B===0){var G=t*(k.coordinate-t*F()/2-c);a[B]=k=zn(zn({},k),{},{tickCoord:G<0?k.coordinate-G*t:k.coordinate})}else a[B]=k=zn(zn({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var P=Fg(t,k.tickCoord,F,c,d);P&&(c=k.tickCoord+t*(F()/2+i),a[B]=zn(zn({},k),{},{isShow:!0}))}},x=0;x<S;x++)b(x);return a}function Ute(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:u,interval:c,tickFormatter:d,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(Qe(c)||yh.isSsr){var y;return(y=Mte(i,Qe(c)?c:0))!==null&&y!==void 0?y:[]}var A=[],S=u==="top"||u==="bottom"?"width":"height",b=h&&S==="width"?Id(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(k,H)=>{var F=typeof d=="function"?d(k.value,H):k.value;return S==="width"?Rte(Id(F,{fontSize:e,letterSpacing:n}),b,m):Id(F,{fontSize:e,letterSpacing:n})[S]},N=i.length>=2?Bo(i[1].coordinate-i[0].coordinate):1,B=Pte(o,N,S);return c==="equidistantPreserveStart"?Nte(N,B,x,i,a):(c==="preserveStart"||c==="preserveStartEnd"?A=Vte(N,B,x,i,a,c==="preserveStartEnd"):A=Lte(N,B,x,i,a),A.filter(k=>k.isShow))}var Fte=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>a&&(a=m.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,d=a+c+u+(n?r:0);return Math.round(d)}return 0},Bte=["axisLine","width","height","className","hide","ticks","axisType"],qte=["viewBox"],zte=["viewBox"];function cA(t,e){if(t==null)return{};var n,r,i=Hte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(null,arguments)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=$te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $te(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jte={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:go.axis};function Yte(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var d=an(an(an({},c),lo(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!a||o==="bottom"&&a);d=an(an({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(o==="left"&&!a||o==="right"&&a);d=an(an({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return R.createElement("line",ql({},d,{className:Un("recharts-cartesian-axis-line",Sy(u,"className"))}))}function Wte(t,e,n,r,i,o,a,u,c){var d,h,m,y,A,S,b=u?-1:1,x=t.tickSize||a,N=Qe(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=h=t.coordinate,y=n+ +!u*i,m=y-b*x,S=m-b*c,A=N;break;case"left":m=y=t.coordinate,h=e+ +!u*r,d=h-b*x,A=d-b*c,S=N;break;case"right":m=y=t.coordinate,h=e+ +u*r,d=h+b*x,A=d+b*c,S=N;break;default:d=h=t.coordinate,y=n+ +u*i,m=y+b*x,S=m+b*c,A=N;break}return{line:{x1:d,y1:m,x2:h,y2:y},tick:{x:A,y:S}}}function Jte(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Xte(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Qte(t){var{option:e,tickProps:n,value:r}=t,i,o=Un(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,an(an({},n),{},{className:o}));else if(typeof e=="function")i=e(an(an({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Un(a,e==null?void 0:e.className)),i=R.createElement(Fw,ql({},n,{className:a}),r)}return i}var Zte=R.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:u,padding:c,tickTextProps:d,orientation:h,mirror:m,x:y,y:A,width:S,height:b,tickSize:x,tickMargin:N,fontSize:B,letterSpacing:k,getTicksConfig:H,events:F,axisType:G}=t,P=Ute(an(an({},H),{},{ticks:n}),B,k),D=Jte(h,m),L=Xte(h,m),z=lo(H),U=MS(r),$={};typeof i=="object"&&($=i);var q=an(an({},z),{},{fill:"none"},$),Ce=P.map(ce=>an({entry:ce},Wte(ce,y,A,S,b,h,x,m,N))),qe=Ce.map(ce=>{var{entry:he,line:Ee}=ce;return R.createElement(uo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&R.createElement("line",ql({},q,Ee,{className:Un("recharts-cartesian-axis-tick-line",Sy(i,"className"))})))}),ee=Ce.map((ce,he)=>{var{entry:Ee,tick:Ve}=ce,j=an(an(an(an({textAnchor:D,verticalAnchor:L},z),{},{stroke:"none",fill:o},U),Ve),{},{index:he,payload:Ee,visibleTicksCount:P.length,tickFormatter:a,padding:c},d);return R.createElement(uo,ql({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Ee.value,"-").concat(Ee.coordinate,"-").concat(Ee.tickCoord)},b7(F,Ee,he)),r&&R.createElement(Qte,{option:r,tickProps:j,value:"".concat(typeof a=="function"?a(Ee.value,he):Ee.value).concat(u||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(G,"-ticks")},ee.length>0&&R.createElement(Jl,{zIndex:go.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(G,"-tick-labels"),ref:e},ee)),qe.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(G,"-tick-lines")},qe))}),ene=R.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:u,axisType:c}=t,d=cA(t,Bte),[h,m]=R.useState(""),[y,A]=R.useState(""),S=R.useRef(null);R.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return Fte({ticks:S.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=R.useCallback(x=>{if(x){var N=x.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=N;var B=N[0];if(B){var k=window.getComputedStyle(B),H=k.fontSize,F=k.letterSpacing;(H!==h||F!==y)&&(m(H),A(F))}}},[h,y]);return a||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement(Jl,{zIndex:t.zIndex},R.createElement(uo,{className:Un("recharts-cartesian-axis",o)},R.createElement(Yte,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:lo(t)}),R.createElement(Zte,{ref:b,axisType:c,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),R.createElement(see,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},R.createElement(gee,{label:t.label,labelRef:t.labelRef}),t.children)))}),tne=R.memo(ene,(t,e)=>{var{viewBox:n}=t,r=cA(t,qte),{viewBox:i}=e,o=cA(e,zte);return Ug(n,i)&&Ug(r,o)}),D4=R.forwardRef((t,e)=>{var n=Pa(t,jte);return R.createElement(tne,ql({},n,{ref:e}))});D4.displayName="CartesianAxis";function nne(t){var e=MS(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,a=Number(i),u=Number(o);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(u)||u<0)&&(u=r),{r:a,strokeWidth:u}}return{r:n,strokeWidth:r}}var k4=(t,e,n,r)=>L5(t,"xAxis",e,r),O4=(t,e,n,r)=>O5(t,"xAxis",e,r),L4=(t,e,n,r)=>L5(t,"yAxis",n,r),V4=(t,e,n,r)=>O5(t,"yAxis",n,r),rne=re([Tt,k4,L4,O4,V4],(t,e,n,r,i)=>ls(t,"xAxis")?qP(e,r,!1):qP(n,i,!1)),ine=(t,e,n,r,i)=>i,U4=re([i5,ine],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),one=(t,e,n,r,i)=>{var o,a=U4(t,e,n,r,i);if(a!=null){var u=Tt(t),c=ls(u,"xAxis"),d;if(c?d=oA(t,"yAxis",n,r):d=oA(t,"xAxis",e,r),d!=null){var{stackId:h}=a,m=Tw(a);if(!(h==null||m==null)){var y=(o=d[h])===null||o===void 0?void 0:o.stackedData;return y==null?void 0:y.find(A=>A.key===m)}}}},sne=re([Tt,k4,L4,O4,V4,one,hw,rne,U4,VJ],(t,e,n,r,i,o,a,u,c,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:y}=a;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:A}=c,S;if(A&&A.length>0?S=A:S=h==null?void 0:h.slice(m,y+1),S!=null)return bne({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:c,stackedData:o,displayedData:S,chartBaseValue:d,bandSize:u})}}),ane=["id"],lne=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(null,arguments)}function F4(t,e){if(t==null)return{};var n,r,i=une(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function une(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cne(t,e,n){return(e=fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fne(t){var e=dne(t,"string");return typeof e=="symbol"?e:e+""}function dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bg(t,e){return t&&t!=="none"?t:e}var hne=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:a}=t;return[{inactive:a,dataKey:e,type:o,color:Bg(r,i),value:FV(n,e),payload:t}]};function pne(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:u,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:FV(a,e),hide:u,type:t.tooltipType,color:Bg(r,o),unit:c}}}function mne(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:a}=r,u=lo(r);return R.createElement(Zee,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:u,needClip:i,clipPathId:e})}function gne(t){var{showLabels:e,children:n,points:r}=t,i=r.map(o=>{var a,u,c={x:(a=o.x)!==null&&a!==void 0?a:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return oc(oc({},c),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return R.createElement(xee,{value:e?i:void 0},n)}function BN(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o}=t,{layout:a,type:u,stroke:c,connectNulls:d,isRange:h}=o,{id:m}=o,y=F4(o,ane),A=lo(y),S=ya(y);return R.createElement(R.Fragment,null,(e==null?void 0:e.length)>1&&R.createElement(uo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},R.createElement(bT,Dl({},S,{id:m,points:e,connectNulls:d,type:u,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&R.createElement(bT,Dl({},A,{className:"recharts-area-curve",layout:a,type:u,connectNulls:d,fill:"none",points:e})),c!=="none"&&h&&R.createElement(bT,Dl({},A,{className:"recharts-area-curve",layout:a,type:u,connectNulls:d,fill:"none",points:n}))),R.createElement(mne,{points:e,props:y,clipPathId:i}))}function yne(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].y,a=r[r.length-1].y;if(!Ft(o)||!Ft(a))return null;var u=e*Math.abs(o-a),c=Math.max(...r.map(d=>d.x||0));return Qe(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(d=>d.x||0),c)),Qe(c)?R.createElement("rect",{x:0,y:o<a?o:o-u,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(u)}):null}function vne(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].x,a=r[r.length-1].x;if(!Ft(o)||!Ft(a))return null;var u=e*Math.abs(o-a),c=Math.max(...r.map(d=>d.y||0));return Qe(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(d=>d.y||0),c)),Qe(c)?R.createElement("rect",{x:o<a?o:o-u,y:0,width:u,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function _ne(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?R.createElement(yne,{alpha:e,points:r,baseLine:i,strokeWidth:o}):R.createElement(vne,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function Tne(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:a,baseLine:u,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:y,onAnimationEnd:A}=r,S=Nj(r,"recharts-area-"),[b,x]=R.useState(!1),N=!b,B=R.useCallback(()=>{typeof A=="function"&&A(),x(!1)},[A]),k=R.useCallback(()=>{typeof y=="function"&&y(),x(!0)},[y]),H=i.current,F=o.current;return R.createElement(gne,{showLabels:N,points:a},r.children,R.createElement(Mj,{animationId:S,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:B,onAnimationStart:k,key:S},G=>{if(H){var P=H.length/a.length,D=G===1?a:a.map((z,U)=>{var $=Math.floor(U*P);if(H[$]){var q=H[$];return oc(oc({},z),{},{x:Gu(q.x,z.x,G),y:Gu(q.y,z.y,G)})}return z}),L;return Qe(u)?L=Gu(F,u,G):jn(u)||co(u)?L=Gu(F,0,G):L=u.map((z,U)=>{var $=Math.floor(U*P);if(Array.isArray(F)&&F[$]){var q=F[$];return oc(oc({},z),{},{x:Gu(q.x,z.x,G),y:Gu(q.y,z.y,G)})}return z}),G>0&&(i.current=D,o.current=L),R.createElement(BN,{points:D,baseLine:L,needClip:e,clipPathId:n,props:r})}return G>0&&(i.current=a,o.current=u),R.createElement(uo,null,c&&R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(n)},R.createElement(_ne,{alpha:G,points:a,baseLine:u,layout:r.layout,strokeWidth:r.strokeWidth}))),R.createElement(uo,{clipPath:"url(#animationClipPath-".concat(n,")")},R.createElement(BN,{points:a,baseLine:u,needClip:e,clipPathId:n,props:r})))}),R.createElement(Pee,{label:r.label}))}function Ene(t){var{needClip:e,clipPathId:n,props:r}=t,i=R.useRef(null),o=R.useRef();return R.createElement(Tne,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class Ane extends R.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:o,left:a,needClip:u,xAxisId:c,yAxisId:d,width:h,height:m,id:y,baseLine:A,zIndex:S}=this.props;if(e)return null;var b=Un("recharts-area",i),x=y,{r:N,strokeWidth:B}=nne(n),k=w4(n),H=N*2+B;return R.createElement(Jl,{zIndex:S},R.createElement(uo,{className:b},u&&R.createElement("defs",null,R.createElement(yte,{clipPathId:x,xAxisId:c,yAxisId:d}),!k&&R.createElement("clipPath",{id:"clipPath-dots-".concat(x)},R.createElement("rect",{x:a-H/2,y:o-H/2,width:h+H,height:m+H}))),R.createElement(Ene,{needClip:u,clipPathId:x,props:this.props})),R.createElement(ON,{points:r,mainColor:Bg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(A)&&R.createElement(ON,{points:A,mainColor:Bg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var B4={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!yh.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:go.area};function Sne(t){var e,n=Pa(t,B4),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:u,dot:c,fill:d,fillOpacity:h,hide:m,isAnimationActive:y,legendType:A,stroke:S,xAxisId:b,yAxisId:x}=n,N=F4(n,lne),B=HS(),k=zQ(),{needClip:H}=R4(b,x),F=si(),{points:G,isRange:P,baseLine:D}=(e=rt(Ce=>sne(Ce,b,x,F,t.id)))!==null&&e!==void 0?e:{},L=qw();if(B!=="horizontal"&&B!=="vertical"||L==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:z,width:U,x:$,y:q}=L;return!G||!G.length?null:R.createElement(Ane,Dl({},N,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:a,baseLine:D,connectNulls:u,dot:c,fill:d,fillOpacity:h,height:z,hide:m,layout:B,isAnimationActive:y,isRange:P,legendType:A,needClip:H,points:G,stroke:S,width:U,left:$,top:q,xAxisId:b,yAxisId:x}))}var wne=(t,e,n,r,i)=>{var o=n??e;if(Qe(o))return o;var a=t==="horizontal"?i:r,u=a.scale.domain();if(a.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return o==="dataMin"?d:o==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function bne(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:a,xAxis:u,yAxis:c,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:y,bandSize:A}=t,S=i&&i.length,b=wne(o,a,n,u,c),x=o==="horizontal",N=!1,B=d.map((H,F)=>{var G;S?G=i[h+F]:(G=nr(H,r),Array.isArray(G)?N=!0:G=[b,G]);var P=G[1]==null||S&&!e&&nr(H,r)==null;return x?{x:UP({axis:u,ticks:m,bandSize:A,entry:H,index:F}),y:P?null:c.scale(G[1]),value:G,payload:H}:{x:P?null:u.scale(G[1]),y:UP({axis:c,ticks:y,bandSize:A,entry:H,index:F}),value:G,payload:H}}),k;return S||N?k=B.map(H=>{var F=Array.isArray(H.value)?H.value[0]:null;return x?{x:H.x,y:F!=null&&H.y!=null?c.scale(F):null,payload:H.payload}:{x:F!=null?u.scale(F):null,y:H.y,payload:H.payload}}):k=x?c.scale(b):u.scale(b),{points:B,baseLine:k,isRange:N}}function Cne(t){var e=Pa(t,B4),n=si();return R.createElement(Uee,{id:e.id,type:"area"},r=>R.createElement(R.Fragment,null,R.createElement(kee,{legendPayload:hne(e)}),R.createElement(Dee,{fn:pne,args:e}),R.createElement(Gee,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:dK(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),R.createElement(Sne,Dl({},e,{id:r}))))}var q4=R.memo(Cne);q4.displayName="Area";var xne=["dangerouslySetInnerHTML","ticks"],Ine=["id"],Rne=["domain"],Pne=["domain"];function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fA.apply(null,arguments)}function qg(t,e){if(t==null)return{};var n,r,i=Mne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nne(t){var e=Wn();return R.useLayoutEffect(()=>(e(ite(t)),()=>{e(ote(t))}),[t,e]),null}var Dne=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=R.useRef(null),a=R.useRef(null),u=rt(PK),c=si(),d=Wn(),h="yAxis",m=rt(F=>Ch(F,h,e,c)),y=rt(F=>VX(F,e)),A=rt(F=>LX(F,e)),S=rt(F=>FX(F,h,e,c)),b=rt(F=>t5(F,e));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!y||Bw(i)||R.isValidElement(i)||b==null)){var F=o.current;if(F){var G=F.getCalculatedWidth();Math.round(y.width)!==Math.round(G)&&d(ste({id:e,width:G}))}}},[S,y,d,i,e,r,b]),y==null||A==null||b==null)return null;var{dangerouslySetInnerHTML:x,ticks:N}=t,B=qg(t,xne),{id:k}=b,H=qg(b,Ine);return R.createElement(D4,fA({},B,H,{ref:o,labelRef:a,scale:m,x:A.x,y:A.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Un("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:S,axisType:h}))},kne={allowDataOverflow:Ir.allowDataOverflow,allowDecimals:Ir.allowDecimals,allowDuplicatedCategory:Ir.allowDuplicatedCategory,hide:!1,mirror:Ir.mirror,orientation:Ir.orientation,padding:Ir.padding,reversed:Ir.reversed,scale:Ir.scale,tickCount:Ir.tickCount,type:Ir.type,width:Ir.width,yAxisId:0},One=t=>{var e,n,r,i,o,a=Pa(t,kne);return R.createElement(R.Fragment,null,R.createElement(Nne,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(o=a.tick)!==null&&o!==void 0?o:!0,tickFormatter:a.tickFormatter}),R.createElement(Dne,a))},Lne=(t,e)=>{var{domain:n}=t,r=qg(t,Rne),{domain:i}=e,o=qg(e,Pne);return Ug(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Ug({domain:n},{domain:i}):!1},z4=R.memo(One,Lne);z4.displayName="YAxis";var YT={exports:{}},WT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN;function Vne(){if(qN)return WT;qN=1;var t=kc();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return WT.useSyncExternalStoreWithSelector=function(c,d,h,m,y){var A=i(null);if(A.current===null){var S={hasValue:!1,value:null};A.current=S}else S=A.current;A=a(function(){function x(F){if(!N){if(N=!0,B=F,F=m(F),y!==void 0&&S.hasValue){var G=S.value;if(y(G,F))return k=G}return k=F}if(G=k,n(B,F))return G;var P=m(F);return y!==void 0&&y(G,P)?(B=F,G):(B=F,k=P)}var N=!1,B,k,H=h===void 0?null:h;return[function(){return x(d())},H===null?void 0:function(){return x(H())}]},[d,h,m,y]);var b=r(c,A[0],A[1]);return o(function(){S.hasValue=!0,S.value=b},[b]),u(b),b},WT}var zN;function Une(){return zN||(zN=1,YT.exports=Vne()),YT.exports}Une();function Fne(t){t()}function Bne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Fne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var HN={notify(){},get:()=>[]};function qne(t,e){let n,r=HN,i=0,o=!1;function a(b){h();const x=r.subscribe(b);let N=!1;return()=>{N||(N=!0,x(),m())}}function u(){r.notify()}function c(){S.onStateChange&&S.onStateChange()}function d(){return o}function h(){i++,n||(n=t.subscribe(c),r=Bne())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HN)}function y(){o||(o=!0,h())}function A(){o&&(o=!1,m())}const S={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:y,tryUnsubscribe:A,getListeners:()=>r};return S}var zne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hne=zne(),Gne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$ne=Gne(),Kne=()=>Hne||$ne?R.useLayoutEffect:R.useEffect,jne=Kne(),JT=Symbol.for("react-redux-context"),XT=typeof globalThis<"u"?globalThis:{};function Yne(){if(!R.createContext)return{};const t=XT[JT]??(XT[JT]=new Map);let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var Wne=Yne();function Jne(t){const{children:e,context:n,serverState:r,store:i}=t,o=R.useMemo(()=>{const c=qne(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=R.useMemo(()=>i.getState(),[i]);jne(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=n||Wne;return R.createElement(u.Provider,{value:o},e)}var Xne=Jne,Qne=(t,e)=>e,Hw=re([Qne,Tt,QU,Tn,Z5,ka,HQ,Jn],jQ),Gw=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},H4=ii("mouseClick"),G4=mh();G4.startListening({actionCreator:H4,effect:(t,e)=>{var n=t.payload,r=Hw(e.getState(),Gw(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(YX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var dA=ii("mouseMove"),$4=mh();$4.startListening({actionCreator:dA,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=B5(r,r.tooltip.settings.shared),o=Hw(r,Gw(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(G5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(H5()))}});var GN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},K4=yr({name:"rootProps",initialState:GN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:GN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),Zne=K4.reducer,{updateOptions:ere}=K4.actions,j4=yr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:o0e}=j4.actions,tre=j4.reducer,Y4=ii("keyDown"),W4=ii("focus"),$w=mh();$w.startListening({actionCreator:Y4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(Mw(i,Gc(n))),u=ka(n);if(o==="Enter"){var c=kg(n,"axis","hover",String(i.index));e.dispatch(sA({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var d=zX(n),h=d==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,y=a+m*h;if(!(u==null||y>=u.length||y<0)){var A=kg(n,"axis","hover",String(y));e.dispatch(sA({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:A}))}}}}});$w.startListening({actionCreator:W4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=kg(n,"axis","hover",String(o));e.dispatch(sA({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var Jr=ii("externalEvent"),J4=mh();J4.startListening({actionCreator:Jr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:NQ(n),activeDataKey:PQ(n),activeIndex:Qd(n),activeLabel:t4(n),activeTooltipIndex:Qd(n),isTooltipActive:DQ(n)};t.payload.handler(r,t.payload.reactEvent)}}});var nre=re([Ih],t=>t.tooltipItemPayloads),rre=re([nre,xh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),X4=ii("touchMove"),Q4=mh();Q4.startListening({actionCreator:X4,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=B5(r,r.tooltip.settings.shared);if(i==="axis"){var o=Hw(r,Gw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(G5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(_K),h=(a=c.getAttribute(TK))!==null&&a!==void 0?a:void 0,m=rre(e.getState(),d,h);e.dispatch(jX({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var ire=hV({brush:_te,cartesianAxis:ate,chartData:vZ,errorBars:gte,graphicalItems:Hee,layout:nK,legend:nj,options:pZ,polarAxis:Nee,polarOptions:tre,referenceElements:Cte,rootProps:Zne,tooltip:WX,zIndex:aZ}),ore=function(e){return x$({reducer:ire,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([G4.middleware,$4.middleware,$w.middleware,J4.middleware,Q4.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(bV({type:"raf"}))},devTools:yh.devToolsEnabled})};function sre(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=si(),o=R.useRef(null);if(i)return n;o.current==null&&(o.current=ore(e));var a=OS;return R.createElement(Xne,{context:a,store:o.current},n)}function are(t){var{layout:e,margin:n}=t,r=Wn(),i=si();return R.useEffect(()=>{i||(r(Z$(e)),r(Q$(n)))},[r,i,e,n]),null}function lre(t){var e=Wn();return R.useEffect(()=>{e(ere(t))},[e,t]),null}function $N(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=b4("".concat(r).concat(e)),o=Wn();return R.useLayoutEffect(()=>(o(oZ({zIndex:e,elementId:i,isPanorama:n})),()=>{o(sZ({zIndex:e,isPanorama:n}))}),[o,e,i,n]),R.createElement("g",{id:i})}function KN(t){var{children:e,isPanorama:n}=t,r=rt(WQ);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return R.createElement(R.Fragment,null,i.map(a=>R.createElement($N,{key:a,zIndex:a,isPanorama:n})),e,o.map(a=>R.createElement($N,{key:a,zIndex:a,isPanorama:n})))}var ure=["children"];function cre(t,e){if(t==null)return{};var n,r,i=fre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(null,arguments)}var dre={width:"100%",height:"100%",display:"block"},hre=R.forwardRef((t,e)=>{var n=JK(),r=XK(),i=ij();if(!va(n)||!va(r))return null;var{children:o,otherAttributes:a,title:u,desc:c}=t,d,h;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?h=a.role:h=i?"application":void 0),R.createElement(zL,zg({},a,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:dre,ref:e}),o)}),pre=t=>{var{children:e}=t,n=rt(Ny);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return R.createElement(zL,{width:r,height:i,x:a,y:o},e)},jN=R.forwardRef((t,e)=>{var{children:n}=t,r=cre(t,ure),i=si();return i?R.createElement(pre,null,R.createElement(KN,{isPanorama:!0},n)):R.createElement(hre,zg({ref:e},r),R.createElement(KN,{isPanorama:!1},n))});function mre(){var t=Wn(),[e,n]=R.useState(null),r=rt(vK);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Ft(o)&&o!==r&&t(tK(o))}},[e,t,r]),n}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yre(t,e,n){return(e=vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=_re(t,"string");return typeof e=="symbol"?e:e+""}function _re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(null,arguments)}var Tre=()=>(xZ(),null);function Hg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Ere=R.forwardRef((t,e)=>{var n,r,i=R.useRef(null),[o,a]=R.useState({containerWidth:Hg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Hg((r=t.style)===null||r===void 0?void 0:r.height)}),u=R.useCallback((d,h)=>{a(m=>{var y=Math.round(d),A=Math.round(h);return m.containerWidth===y&&m.containerHeight===A?m:{containerWidth:y,containerHeight:A}})},[]),c=R.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var y=S=>{var{width:b,height:x}=S[0].contentRect;u(b,x)},A=new ResizeObserver(y);A.observe(d),i.current=A}},[e,u]);return R.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),R.createElement(R.Fragment,null,R.createElement(Dy,{width:o.containerWidth,height:o.containerHeight}),R.createElement("div",zl({ref:c},t)))}),Are=R.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=R.useState({containerWidth:Hg(n),containerHeight:Hg(r)}),a=R.useCallback((c,d)=>{o(h=>{var m=Math.round(c),y=Math.round(d);return h.containerWidth===m&&h.containerHeight===y?h:{containerWidth:m,containerHeight:y}})},[]),u=R.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();a(d,h)}},[e,a]);return R.createElement(R.Fragment,null,R.createElement(Dy,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",zl({ref:u},t)))}),Sre=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return R.createElement(R.Fragment,null,R.createElement(Dy,{width:n,height:r}),R.createElement("div",zl({ref:e},t)))}),wre=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return Xo(n)||Xo(r)?R.createElement(Are,zl({},t,{ref:e})):R.createElement(Sre,zl({},t,{ref:e}))});function bre(t){return t===!0?Ere:wre}var Cre=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:y,onTouchEnd:A,onTouchMove:S,onTouchStart:b,style:x,width:N,responsive:B,dispatchTouchEvents:k=!0}=t,H=R.useRef(null),F=Wn(),[G,P]=R.useState(null),[D,L]=R.useState(null),z=mre(),U=zS(),$=(U==null?void 0:U.width)>0?U.width:N,q=(U==null?void 0:U.height)>0?U.height:i,Ce=R.useCallback(oe=>{z(oe),typeof e=="function"&&e(oe),P(oe),L(oe),oe!=null&&(H.current=oe)},[z,e,P,L]),qe=R.useCallback(oe=>{F(H4(oe)),F(Jr({handler:o,reactEvent:oe}))},[F,o]),ee=R.useCallback(oe=>{F(dA(oe)),F(Jr({handler:d,reactEvent:oe}))},[F,d]),ce=R.useCallback(oe=>{F(H5()),F(Jr({handler:h,reactEvent:oe}))},[F,h]),he=R.useCallback(oe=>{F(dA(oe)),F(Jr({handler:m,reactEvent:oe}))},[F,m]),Ee=R.useCallback(()=>{F(W4())},[F]),Ve=R.useCallback(oe=>{F(Y4(oe.key))},[F]),j=R.useCallback(oe=>{F(Jr({handler:a,reactEvent:oe}))},[F,a]),ae=R.useCallback(oe=>{F(Jr({handler:u,reactEvent:oe}))},[F,u]),me=R.useCallback(oe=>{F(Jr({handler:c,reactEvent:oe}))},[F,c]),ve=R.useCallback(oe=>{F(Jr({handler:y,reactEvent:oe}))},[F,y]),Ie=R.useCallback(oe=>{F(Jr({handler:b,reactEvent:oe}))},[F,b]),Ne=R.useCallback(oe=>{k&&F(X4(oe)),F(Jr({handler:S,reactEvent:oe}))},[F,k,S]),He=R.useCallback(oe=>{F(Jr({handler:A,reactEvent:oe}))},[F,A]),Mt=bre(B);return R.createElement(lZ.Provider,{value:G},R.createElement(Y8.Provider,{value:D},R.createElement(Mt,{width:$??(x==null?void 0:x.width),height:q??(x==null?void 0:x.height),className:Un("recharts-wrapper",r),style:gre({position:"relative",cursor:"default",width:$,height:q},x),onClick:qe,onContextMenu:j,onDoubleClick:ae,onFocus:Ee,onKeyDown:Ve,onMouseDown:me,onMouseEnter:ee,onMouseLeave:ce,onMouseMove:he,onMouseUp:ve,onTouchEnd:He,onTouchMove:Ne,onTouchStart:Ie,ref:Ce},R.createElement(Tre,null),n)))}),xre=["width","height","responsive","children","className","style","compact","title","desc"];function Ire(t,e){if(t==null)return{};var n,r,i=Rre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pre=R.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:u,compact:c,title:d,desc:h}=t,m=Ire(t,xre),y=lo(m);return c?R.createElement(R.Fragment,null,R.createElement(Dy,{width:n,height:r}),R.createElement(jN,{otherAttributes:y,title:d,desc:h},o)):R.createElement(Cre,{className:a,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(jN,{otherAttributes:y,title:d,desc:h,ref:e},R.createElement(Ite,null,o)))});function hA(){return hA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hA.apply(null,arguments)}var Mre={top:5,right:5,bottom:5,left:5},Nre={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mre,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Dre=R.forwardRef(function(e,n){var r,i=Pa(e.categoricalChartProps,Nre),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,h={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return R.createElement(sre,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},R.createElement(vte,{chartData:d.data}),R.createElement(are,{layout:i.layout,margin:i.margin}),R.createElement(lre,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(Pre,hA({},i,{ref:n})))}),kre=["axis"],Ore=R.forwardRef((t,e)=>R.createElement(Dre,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kre,tooltipPayloadSearcher:dZ,categoricalChartProps:t,ref:e}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Lre,Vre;function Ure(){return{geminiUrl:Lre,vertexUrl:Vre}}function Fre(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=Ure();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ps{}function ye(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];v(h,e.slice(o+1),n[d])}else for(const d of c)v(d,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];v(c[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Bre(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&o.length>u)for(let c=u;c<o.length;c++){const d=o[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&a.add(d)}pA(t,i,o,0,a)}}function pA(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),u=t;if(a in u&&Array.isArray(u[a]))for(const c of u[a])pA(c,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,u=Object.keys(a).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=a[d];for(const[d,h]of Object.entries(c)){const m=[];for(const y of n.slice(r))y==="*"?m.push(d):m.push(y);v(a,m,h)}for(const d of u)delete a[d]}}else{const a=t;o in a&&pA(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qre(t){const e={},n=g(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function zre(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const a=g(t,["response","generateVideoResponse"]);return a!=null&&v(e,["response"],Gre(a)),e}function Hre(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const a=g(t,["response"]);return a!=null&&v(e,["response"],$re(a)),e}function Gre(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Kre(a))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function $re(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jre(a))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function Kre(t){const e={},n=g(t,["video"]);return n!=null&&v(e,["video"],Zre(n)),e}function jre(t){const e={},n=g(t,["_self"]);return n!=null&&v(e,["video"],eie(n)),e}function Yre(t){const e={},n=g(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function Wre(t){const e={},n=g(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function Jre(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const a=g(t,["response"]);return a!=null&&v(e,["response"],Xre(a)),e}function Xre(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&v(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function Z4(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const a=g(t,["response"]);return a!=null&&v(e,["response"],Qre(a)),e}function Qre(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&v(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function Zre(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],Kw(r));const i=g(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function eie(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],Kw(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var WN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(WN||(WN={}));var JN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(JN||(JN={}));var XN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(XN||(XN={}));var sa;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(sa||(sa={}));var QN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(QN||(QN={}));var ZN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ZN||(ZN={}));var eD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(eD||(eD={}));var tD;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(tD||(tD={}));var nD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(nD||(nD={}));var rD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(rD||(rD={}));var iD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(iD||(iD={}));var oD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(oD||(oD={}));var sD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(sD||(sD={}));var aD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(aD||(aD={}));var lD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(lD||(lD={}));var uD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(uD||(uD={}));var cD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(cD||(cD={}));var fD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(fD||(fD={}));var dD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(dD||(dD={}));var Gg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Gg||(Gg={}));var hD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hD||(hD={}));var pD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(pD||(pD={}));var mD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(mD||(mD={}));var mA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mA||(mA={}));var gD;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(gD||(gD={}));var yD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yD||(yD={}));var vD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(vD||(vD={}));var _D;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(_D||(_D={}));var TD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(TD||(TD={}));var ED;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ED||(ED={}));var AD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(AD||(AD={}));var SD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(SD||(SD={}));var wD;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(wD||(wD={}));var bD;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bD||(bD={}));var CD;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(CD||(CD={}));var xD;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xD||(xD={}));var ID;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ID||(ID={}));var RD;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(RD||(RD={}));var PD;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(PD||(PD={}));var MD;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(MD||(MD={}));var ND;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ND||(ND={}));var DD;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(DD||(DD={}));var kD;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(kD||(kD={}));var OD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(OD||(OD={}));var LD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(LD||(LD={}));var VD;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(VD||(VD={}));var UD;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(UD||(UD={}));var FD;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(FD||(FD={}));var BD;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(BD||(BD={}));var qD;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qD||(qD={}));var zD;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(zD||(zD={}));var HD;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(HD||(HD={}));var GD;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(GD||(GD={}));var $D;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})($D||($D={}));var sc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(sc||(sc={}));class gA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class hd{get text(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const y of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[A,S]of Object.entries(y))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(A);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,d+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,A]of Object.entries(m))y!=="inlineData"&&(A!==null||A!==void 0)&&h.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,a,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,a,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class KD{}class jD{}class tie{}class nie{}class rie{}class iie{}class YD{}class WD{}class JD{}class oie{}class $g{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $g;let i;const o=e;return n?i=Hre(o):i=zre(o),Object.assign(r,i),r}}class XD{}class QD{}class ZD{}class sie{}class aie{}class lie{}class jw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new jw,o=Jre(e);return Object.assign(r,o),r}}class uie{}class cie{}class fie{}class ek{}class die{get text(){var e,n,r;let i="",o=!1;const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class hie{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Yw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Yw,o=Z4(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ot(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function e3(t,e){const n=ot(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function t3(t){return Array.isArray(t)?t.map(e=>Kg(e)):[Kg(t)]}function Kg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function n3(t){const e=Kg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function r3(t){const e=Kg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function i3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>tk(e)):[tk(t)]}function yA(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function nk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function rk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Kn(t){if(t==null)throw new Error("ContentUnion is required");return yA(t)?t:{role:"user",parts:i3(t)}}function Ww(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Kn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Kn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Kn(n)):[Kn(e)]}function ni(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(nk(t)||rk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Kn(t)]}const e=[],n=[],r=yA(t[0]);for(const i of t){const o=yA(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(nk(i)||rk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:i3(n)}),e}function pie(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(sa).includes(n[0].toUpperCase())?n[0].toUpperCase():sa.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(sa).includes(r.toUpperCase())?r.toUpperCase():sa.TYPE_UNSPECIFIED})}}function fc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&pie(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(sa).includes(u.toUpperCase())?u.toUpperCase():sa.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=fc(u);else if(r.includes(a)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(fc(d))}e[a]=c}else if(i.includes(a)){const c={};for(const[d,h]of Object.entries(u))c[d]=fc(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function Jw(t){return fc(t)}function Xw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Qw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function $c(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=fc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=fc(e.response));return t}function Kc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function mie(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ms(t,e){if(typeof e!="string")throw new Error("name must be a string");return mie(t,e,"cachedContents")}function o3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Oa(t){return Kw(t)}function gie(t){return t!=null&&typeof t=="object"&&"name"in t}function yie(t){return t!=null&&typeof t=="object"&&"video"in t}function vie(t){return t!=null&&typeof t=="object"&&"uri"in t}function s3(t){var e;let n;if(gie(t)&&(n=t.name),!(vie(t)&&(n=t.uri,n===void 0))&&!(yie(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function a3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function l3(t){for(const e of["models","tunedModels","publisherModels"])if(_ie(t,e))return t[e];return[]}function _ie(t,e){return t!==null&&typeof t=="object"&&e in t}function Tie(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Eie(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Tie(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function u3(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Aie(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function c3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function jc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function f3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sie(t){const e={},n=g(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>roe(a))),v(e,["inlinedResponses"],o)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["inlinedEmbedContentResponses"],o)}return e}function wie(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function bie(t){const e={},n=g(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&v(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Km(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&v(e,["state"],f3(i));const o=g(t,["metadata","createTime"]);o!=null&&v(e,["createTime"],o);const a=g(t,["metadata","endTime"]);a!=null&&v(e,["endTime"],a);const u=g(t,["metadata","updateTime"]);u!=null&&v(e,["updateTime"],u);const c=g(t,["metadata","model"]);c!=null&&v(e,["model"],c);const d=g(t,["metadata","output"]);return d!=null&&v(e,["dest"],Sie(c3(d))),e}function vA(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["state"]);i!=null&&v(e,["state"],f3(i));const o=g(t,["error"]);o!=null&&v(e,["error"],o);const a=g(t,["createTime"]);a!=null&&v(e,["createTime"],a);const u=g(t,["startTime"]);u!=null&&v(e,["startTime"],u);const c=g(t,["endTime"]);c!=null&&v(e,["endTime"],c);const d=g(t,["updateTime"]);d!=null&&v(e,["updateTime"],d);const h=g(t,["model"]);h!=null&&v(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&v(e,["src"],Cie(m));const y=g(t,["outputConfig"]);y!=null&&v(e,["dest"],wie(c3(y)));const A=g(t,["completionStats"]);return A!=null&&v(e,["completionStats"],A),e}function Cie(t){const e={},n=g(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function xie(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&v(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>noe(t,a))),v(n,["requests","requests"],o)}return n}function Iie(t){const e={},n=g(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&v(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Rie(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Pie(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],jc(t,r)),n}function Mie(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],jc(t,r)),n}function Nie(t){const e={},n=g(t,["content"]);n!=null&&v(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],Die(r));const i=g(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const a=g(t,["avgLogprobs"]);a!=null&&v(e,["avgLogprobs"],a);const u=g(t,["groundingMetadata"]);u!=null&&v(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&v(e,["index"],c);const d=g(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(A=>A)),v(e,["safetyRatings"],y)}const m=g(t,["urlContextMetadata"]);return m!=null&&v(e,["urlContextMetadata"],m),e}function Die(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function d3(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>coe(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function kie(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Oie(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&v(e,["outputConfig"],bie(Aie(i))),n}function ik(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["src"]);i!=null&&v(n,["batch","inputConfig"],xie(t,u3(t,i)));const o=g(e,["config"]);return o!=null&&kie(o,n),n}function Lie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],ot(t,r));const i=g(e,["src"]);i!=null&&v(n,["inputConfig"],Iie(u3(t,i)));const o=g(e,["config"]);return o!=null&&Oie(o,n),n}function Vie(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function Uie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["src"]);i!=null&&v(n,["batch","inputConfig"],$ie(t,i));const o=g(e,["config"]);return o!=null&&Vie(o,n),n}function Fie(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],jc(t,r)),n}function Bie(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],jc(t,r)),n}function qie(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);return o!=null&&v(e,["error"],o),e}function zie(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);return o!=null&&v(e,["error"],o),e}function Hie(t,e){const n={},r=g(e,["contents"]);if(r!=null){let o=Ww(t,r);Array.isArray(o)&&(o=o.map(a=>a)),v(n,["requests[]","request","content"],o)}const i=g(e,["config"]);return i!=null&&(v(n,["_self"],Gie(i,n)),Bre(n,{"requests[].*":"requests[].request.*"})),n}function Gie(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $ie(t,e){const n={},r=g(e,["fileName"]);r!=null&&v(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&v(n,["requests"],Hie(t,i)),n}function Kie(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function jie(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yie(t){const e={},n=g(t,["mode"]);n!=null&&v(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&v(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Wie(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],d3(Kn(i)));const o=g(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=g(e,["topP"]);a!=null&&v(r,["topP"],a);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=g(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const A=g(e,["presencePenalty"]);A!=null&&v(r,["presencePenalty"],A);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const b=g(e,["seed"]);b!=null&&v(r,["seed"],b);const x=g(e,["responseMimeType"]);x!=null&&v(r,["responseMimeType"],x);const N=g(e,["responseSchema"]);N!=null&&v(r,["responseSchema"],Jw(N));const B=g(e,["responseJsonSchema"]);if(B!=null&&v(r,["responseJsonSchema"],B),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=g(e,["safetySettings"]);if(n!==void 0&&k!=null){let $=k;Array.isArray($)&&($=$.map(q=>foe(q))),v(n,["safetySettings"],$)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let $=Kc(H);Array.isArray($)&&($=$.map(q=>hoe($c(q)))),v(n,["tools"],$)}const F=g(e,["toolConfig"]);if(n!==void 0&&F!=null&&v(n,["toolConfig"],doe(F)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&v(n,["cachedContent"],ms(t,G));const P=g(e,["responseModalities"]);P!=null&&v(r,["responseModalities"],P);const D=g(e,["mediaResolution"]);D!=null&&v(r,["mediaResolution"],D);const L=g(e,["speechConfig"]);if(L!=null&&v(r,["speechConfig"],Xw(L)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=g(e,["thinkingConfig"]);z!=null&&v(r,["thinkingConfig"],z);const U=g(e,["imageConfig"]);return U!=null&&v(r,["imageConfig"],toe(U)),r}function Jie(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Nie(d))),v(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const a=g(t,["responseId"]);a!=null&&v(e,["responseId"],a);const u=g(t,["usageMetadata"]);return u!=null&&v(e,["usageMetadata"],u),e}function Xie(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],jc(t,r)),n}function Qie(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],jc(t,r)),n}function Zie(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function eoe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function toe(t){const e={},n=g(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function noe(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["request","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let u=ni(i);Array.isArray(u)&&(u=u.map(c=>d3(c))),v(n,["request","contents"],u)}const o=g(e,["metadata"]);o!=null&&v(n,["metadata"],o);const a=g(e,["config"]);return a!=null&&v(n,["request","generationConfig"],Wie(t,a,g(n,["request"],{}))),n}function roe(t){const e={},n=g(t,["response"]);n!=null&&v(e,["response"],Jie(n));const r=g(t,["error"]);return r!=null&&v(e,["error"],r),e}function ioe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ooe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const o=g(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function soe(t){const e={},n=g(t,["config"]);return n!=null&&ioe(n,e),e}function aoe(t){const e={},n=g(t,["config"]);return n!=null&&ooe(n,e),e}function loe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Km(a))),v(e,["batchJobs"],o)}return e}function uoe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>vA(a))),v(e,["batchJobs"],o)}return e}function coe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],Kie(o));const a=g(t,["functionCall"]);a!=null&&v(e,["functionCall"],jie(a));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&v(e,["inlineData"],Rie(c));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function foe(t){const e={},n=g(t,["category"]);if(n!=null&&v(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function doe(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],Yie(n));const r=g(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],r),e}function hoe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=g(t,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],Zie(u));const c=g(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],eoe(c));const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(rs||(rs={}));class Xl{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class poe extends ps{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Xl(rs.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=ik(this.apiClient,e),r=n._url,i=ye("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const y=m.systemInstruction;delete m.systemInstruction;const A=m.request;A.systemInstruction=y,m.request=A}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Lie(this.apiClient,e);return u=ye("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>vA(h))}else{const d=ik(this.apiClient,e);return u=ye("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Km(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Uie(this.apiClient,e);return o=ye("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Km(c))}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Qie(this.apiClient,e);return u=ye("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>vA(h))}else{const d=Xie(this.apiClient,e);return u=ye("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Km(h))}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const c=Mie(this.apiClient,e);a=ye("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Pie(this.apiClient,e);a=ye("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=aoe(e);return u=ye("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=uoe(h),y=new ek;return Object.assign(y,m),y})}else{const d=soe(e);return u=ye("batches",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=loe(h),y=new ek;return Object.assign(y,m),y})}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Bie(this.apiClient,e);return u=ye("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>zie(h))}else{const d=Fie(this.apiClient,e);return u=ye("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>qie(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function moe(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function ok(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Uoe(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function goe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=g(t,["contents"]);if(e!==void 0&&a!=null){let h=ni(a);Array.isArray(h)&&(h=h.map(m=>ok(m))),v(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],ok(Kn(u)));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>Boe(m))),v(e,["tools"],h)}const d=g(t,["toolConfig"]);if(e!==void 0&&d!=null&&v(e,["toolConfig"],Foe(d)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function yoe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=g(t,["contents"]);if(e!==void 0&&a!=null){let m=ni(a);Array.isArray(m)&&(m=m.map(y=>y)),v(e,["contents"],m)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],Kn(u));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>qoe(y))),v(e,["tools"],m)}const d=g(t,["toolConfig"]);e!==void 0&&d!=null&&v(e,["toolConfig"],d);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&v(e,["encryption_spec","kmsKeyName"],h),n}function voe(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],e3(t,r));const i=g(e,["config"]);return i!=null&&goe(i,n),n}function _oe(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],e3(t,r));const i=g(e,["config"]);return i!=null&&yoe(i,n),n}function Toe(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ms(t,r)),n}function Eoe(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ms(t,r)),n}function Aoe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Soe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function woe(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function boe(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Coe(t){const e={},n=g(t,["mode"]);n!=null&&v(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&v(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xoe(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&v(e,["description"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=g(t,["response"]);a!=null&&v(e,["response"],a);const u=g(t,["responseJsonSchema"]);return u!=null&&v(e,["responseJsonSchema"],u),e}function Ioe(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ms(t,r)),n}function Roe(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ms(t,r)),n}function Poe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function Moe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function Noe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function Doe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function koe(t){const e={},n=g(t,["config"]);return n!=null&&Noe(n,e),e}function Ooe(t){const e={},n=g(t,["config"]);return n!=null&&Doe(n,e),e}function Loe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["cachedContents"],o)}return e}function Voe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["cachedContents"],o)}return e}function Uoe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],woe(o));const a=g(t,["functionCall"]);a!=null&&v(e,["functionCall"],boe(a));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&v(e,["inlineData"],moe(c));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function Foe(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],Coe(n));const r=g(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],r),e}function Boe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=g(t,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],Poe(u));const c=g(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],Moe(c));const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function qoe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>xoe(y))),v(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=g(t,["codeExecution"]);a!=null&&v(e,["codeExecution"],a);const u=g(t,["enterpriseWebSearch"]);u!=null&&v(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const d=g(t,["googleSearch"]);d!=null&&v(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function zoe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function Hoe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function Goe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],ms(t,r));const i=g(e,["config"]);return i!=null&&zoe(i,n),n}function $oe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],ms(t,r));const i=g(e,["config"]);return i!=null&&Hoe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Koe extends ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xl(rs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=_oe(this.apiClient,e);return u=ye("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const d=voe(this.apiClient,e);return u=ye("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Roe(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const d=Ioe(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Eoe(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Soe(h),y=new QD;return Object.assign(y,m),y})}else{const d=Toe(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Aoe(h),y=new QD;return Object.assign(y,m),y})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=$oe(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const d=Goe(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Ooe(e);return u=ye("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Voe(h),y=new ZD;return Object.assign(y,m),y})}else{const d=koe(e);return u=ye("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Loe(h),y=new ZD;return Object.assign(y,m),y})}}}function sk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function St(t){return this instanceof St?(this.v=t,this):new St(t)}function dc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(A){return function(S){return Promise.resolve(S).then(A,m)}}function u(A,S){r[A]&&(i[A]=function(b){return new Promise(function(x,N){o.push([A,b,x,N])>1||c(A,b)})},S&&(i[A]=S(i[A])))}function c(A,S){try{d(r[A](S))}catch(b){y(o[0][3],b)}}function d(A){A.value instanceof St?Promise.resolve(A.value.v).then(h,m):y(o[0][2],A)}function h(A){c("next",A)}function m(A){c("throw",A)}function y(A,S){A(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Rd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sk=="function"?sk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(u,c){a=t[o](a),i(u,c,a.done,a.value)})}}function i(o,a,u,c){Promise.resolve(c).then(function(d){o({value:d,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function joe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:h3(n)}function h3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Yoe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ak(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!h3(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Woe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Joe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Joe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Yoe(o)}async sendMessage(e){var n;await this.sendPromise;const r=Kn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,u;const c=await i,d=(a=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(m))!==null&&u!==void 0?u:[]);const A=d?[d]:[];this.recordHistory(r,A,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Kn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?ak(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return dc(this,arguments,function*(){var a,u,c,d;const h=[];try{for(var m=!0,y=Rd(e),A;A=yield St(y.next()),a=A.done,!a;m=!0){d=A.value,m=!1;const S=d;if(joe(S)){const b=(i=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&h.push(b)}yield yield St(S)}}catch(S){u={error:S}}finally{try{!m&&!a&&(c=y.return)&&(yield St(c.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...ak(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xy extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Xy.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xoe(t){const e={},n=g(t,["file"]);return n!=null&&v(e,["file"],n),e}function Qoe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Zoe(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","file"],s3(n)),e}function ese(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function tse(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","file"],s3(n)),e}function nse(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function rse(t){const e={},n=g(t,["config"]);return n!=null&&nse(n,e),e}function ise(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ose extends ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xl(rs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rse(e);return o=ye("files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=ise(c),h=new uie;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xoe(e);return o=ye("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Qoe(c),h=new cie;return Object.assign(h,d),h})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tse(e);return o=ye("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zoe(e);return o=ye("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=ese(c),h=new fie;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jm(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function sse(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ase(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function ase(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function lse(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function use(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&v(e,["description"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=g(t,["response"]);a!=null&&v(e,["response"],a);const u=g(t,["responseJsonSchema"]);return u!=null&&v(e,["responseJsonSchema"],u),e}function cse(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const a=g(t,["enableAffectiveDialog"]);a!=null&&v(e,["enableAffectiveDialog"],a);const u=g(t,["frequencyPenalty"]);u!=null&&v(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&v(e,["logprobs"],c);const d=g(t,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&v(e,["presencePenalty"],m);const y=g(t,["responseLogprobs"]);y!=null&&v(e,["responseLogprobs"],y);const A=g(t,["responseMimeType"]);A!=null&&v(e,["responseMimeType"],A);const S=g(t,["responseModalities"]);S!=null&&v(e,["responseModalities"],S);const b=g(t,["responseSchema"]);b!=null&&v(e,["responseSchema"],b);const x=g(t,["routingConfig"]);x!=null&&v(e,["routingConfig"],x);const N=g(t,["seed"]);N!=null&&v(e,["seed"],N);const B=g(t,["speechConfig"]);B!=null&&v(e,["speechConfig"],p3(B));const k=g(t,["stopSequences"]);k!=null&&v(e,["stopSequences"],k);const H=g(t,["temperature"]);H!=null&&v(e,["temperature"],H);const F=g(t,["thinkingConfig"]);F!=null&&v(e,["thinkingConfig"],F);const G=g(t,["topK"]);G!=null&&v(e,["topK"],G);const P=g(t,["topP"]);if(P!=null&&v(e,["topP"],P),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function fse(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function dse(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function hse(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=g(t,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const u=g(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","speechConfig"],Qw(m));const y=g(t,["thinkingConfig"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","thinkingConfig"],y);const A=g(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],A);const S=g(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],sse(Kn(S)));const b=g(t,["tools"]);if(e!==void 0&&b!=null){let G=Kc(b);Array.isArray(G)&&(G=G.map(P=>wse($c(P)))),v(e,["setup","tools"],G)}const x=g(t,["sessionResumption"]);e!==void 0&&x!=null&&v(e,["setup","sessionResumption"],Sse(x));const N=g(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&v(e,["setup","inputAudioTranscription"],N);const B=g(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&v(e,["setup","outputAudioTranscription"],B);const k=g(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&v(e,["setup","realtimeInputConfig"],k);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const F=g(t,["proactivity"]);return e!==void 0&&F!=null&&v(e,["setup","proactivity"],F),n}function pse(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],cse(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=g(t,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const u=g(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","speechConfig"],p3(Qw(m)));const y=g(t,["thinkingConfig"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","thinkingConfig"],y);const A=g(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],A);const S=g(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],Kn(S));const b=g(t,["tools"]);if(e!==void 0&&b!=null){let G=Kc(b);Array.isArray(G)&&(G=G.map(P=>bse($c(P)))),v(e,["setup","tools"],G)}const x=g(t,["sessionResumption"]);e!==void 0&&x!=null&&v(e,["setup","sessionResumption"],x);const N=g(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&v(e,["setup","inputAudioTranscription"],N);const B=g(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&v(e,["setup","outputAudioTranscription"],B);const k=g(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&v(e,["setup","realtimeInputConfig"],k);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const F=g(t,["proactivity"]);return e!==void 0&&F!=null&&v(e,["setup","proactivity"],F),n}function mse(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&v(n,["config"],hse(i,n)),n}function gse(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&v(n,["config"],pse(i,n)),n}function yse(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function vse(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["weightedPrompts"],r)}return e}function _se(t){const e={},n=g(t,["media"]);if(n!=null){let d=t3(n);Array.isArray(d)&&(d=d.map(h=>jm(h))),v(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&v(e,["audio"],jm(r3(r)));const i=g(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&v(e,["video"],jm(n3(o)));const a=g(t,["text"]);a!=null&&v(e,["text"],a);const u=g(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function Tse(t){const e={},n=g(t,["media"]);if(n!=null){let d=t3(n);Array.isArray(d)&&(d=d.map(h=>h)),v(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&v(e,["audio"],r3(r));const i=g(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&v(e,["video"],n3(o));const a=g(t,["text"]);a!=null&&v(e,["text"],a);const u=g(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function Ese(t){const e={},n=g(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&v(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&v(e,["toolCall"],i);const o=g(t,["toolCallCancellation"]);o!=null&&v(e,["toolCallCancellation"],o);const a=g(t,["usageMetadata"]);a!=null&&v(e,["usageMetadata"],Cse(a));const u=g(t,["goAway"]);u!=null&&v(e,["goAway"],u);const c=g(t,["sessionResumptionUpdate"]);return c!=null&&v(e,["sessionResumptionUpdate"],c),e}function Ase(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],ase(o));const a=g(t,["functionCall"]);a!=null&&v(e,["functionCall"],lse(a));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&v(e,["inlineData"],jm(c));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function Sse(t){const e={},n=g(t,["handle"]);if(n!=null&&v(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function p3(t){const e={},n=g(t,["languageCode"]);n!=null&&v(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&v(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function wse(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=g(t,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],fse(u));const c=g(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],dse(c));const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function bse(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>use(y))),v(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=g(t,["codeExecution"]);a!=null&&v(e,["codeExecution"],a);const u=g(t,["enterpriseWebSearch"]);u!=null&&v(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const d=g(t,["googleSearch"]);d!=null&&v(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function Cse(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&v(e,["responseTokenCount"],i);const o=g(t,["toolUsePromptTokenCount"]);o!=null&&v(e,["toolUsePromptTokenCount"],o);const a=g(t,["thoughtsTokenCount"]);a!=null&&v(e,["thoughtsTokenCount"],a);const u=g(t,["totalTokenCount"]);u!=null&&v(e,["totalTokenCount"],u);const c=g(t,["promptTokensDetails"]);if(c!=null){let A=c;Array.isArray(A)&&(A=A.map(S=>S)),v(e,["promptTokensDetails"],A)}const d=g(t,["cacheTokensDetails"]);if(d!=null){let A=d;Array.isArray(A)&&(A=A.map(S=>S)),v(e,["cacheTokensDetails"],A)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(S=>S)),v(e,["responseTokensDetails"],A)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(S=>S)),v(e,["toolUsePromptTokensDetails"],A)}const y=g(t,["trafficType"]);return y!=null&&v(e,["trafficType"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xse(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Ise(t){const e={},n=g(t,["content"]);n!=null&&v(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],Rse(r));const i=g(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const a=g(t,["avgLogprobs"]);a!=null&&v(e,["avgLogprobs"],a);const u=g(t,["groundingMetadata"]);u!=null&&v(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&v(e,["index"],c);const d=g(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(A=>A)),v(e,["safetyRatings"],y)}const m=g(t,["urlContextMetadata"]);return m!=null&&v(e,["urlContextMetadata"],m),e}function Rse(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function Pse(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let o=ni(i);Array.isArray(o)&&(o=o.map(a=>a)),v(n,["contents"],o)}return n}function Mse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["tokensInfo"],i)}return e}function Nse(t){const e={},n=g(t,["values"]);n!=null&&v(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&v(e,["statistics"],Dse(r)),e}function Dse(t){const e={},n=g(t,["truncated"]);n!=null&&v(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&v(e,["tokenCount"],r),e}function Qy(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zae(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function kse(t){const e={},n=g(t,["controlType"]);n!=null&&v(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&v(e,["computeControl"],r),e}function Ose(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Lse(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&v(e,["systemInstruction"],Kn(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>_3(u))),v(e,["tools"],a)}const o=g(t,["generationConfig"]);return e!==void 0&&o!=null&&v(e,["generationConfig"],xae(o)),n}function Vse(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>Qy(u))),v(n,["contents"],a)}const o=g(e,["config"]);return o!=null&&Ose(o),n}function Use(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>u)),v(n,["contents"],a)}const o=g(e,["config"]);return o!=null&&Lse(o,n),n}function Fse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&v(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&v(e,["cachedContentTokenCount"],i),e}function Bse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&v(e,["totalTokens"],r),e}function qse(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],ot(t,r)),n}function zse(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],ot(t,r)),n}function Hse(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Gse(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function $se(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&v(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const a=g(t,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&v(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&v(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&v(e,["parameters","includeSafetyAttributes"],m);const y=g(t,["includeRaiReason"]);e!==void 0&&y!=null&&v(e,["parameters","includeRaiReason"],y);const A=g(t,["language"]);e!==void 0&&A!=null&&v(e,["parameters","language"],A);const S=g(t,["outputMimeType"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","mimeType"],S);const b=g(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&v(e,["parameters","outputOptions","compressionQuality"],b);const x=g(t,["addWatermark"]);e!==void 0&&x!=null&&v(e,["parameters","addWatermark"],x);const N=g(t,["labels"]);e!==void 0&&N!=null&&v(e,["labels"],N);const B=g(t,["editMode"]);e!==void 0&&B!=null&&v(e,["parameters","editMode"],B);const k=g(t,["baseSteps"]);return e!==void 0&&k!=null&&v(e,["parameters","editConfig","baseSteps"],k),n}function Kse(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Yae(c))),v(n,["instances[0]","referenceImages"],u)}const a=g(e,["config"]);return a!=null&&$se(a,n),n}function jse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Zy(o))),v(e,["generatedImages"],i)}return e}function Yse(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Wse(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&v(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&v(e,["instances[]","title"],i);const o=g(t,["outputDimensionality"]);e!==void 0&&o!=null&&v(e,["parameters","outputDimensionality"],o);const a=g(t,["mimeType"]);e!==void 0&&a!=null&&v(e,["instances[]","mimeType"],a);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&v(e,["parameters","autoTruncate"],u),n}function Jse(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let u=Ww(t,i);Array.isArray(u)&&(u=u.map(c=>c)),v(n,["requests[]","content"],u)}const o=g(e,["config"]);o!=null&&Yse(o,n);const a=g(e,["model"]);return a!==void 0&&v(n,["requests[]","model"],ot(t,a)),n}function Xse(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let a=Ww(t,i);Array.isArray(a)&&(a=a.map(u=>u)),v(n,["instances[]","content"],a)}const o=g(e,["config"]);return o!=null&&Wse(o,n),n}function Qse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&v(e,["metadata"],i),e}function Zse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Nse(a))),v(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&v(e,["metadata"],i),e}function eae(t){const e={},n=g(t,["endpoint"]);n!=null&&v(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&v(e,["deployedModelId"],r),e}function tae(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function nae(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rae(t){const e={},n=g(t,["mode"]);n!=null&&v(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&v(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iae(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&v(e,["description"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=g(t,["response"]);a!=null&&v(e,["response"],a);const u=g(t,["responseJsonSchema"]);return u!=null&&v(e,["responseJsonSchema"],u),e}function oae(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],Qy(Kn(i)));const o=g(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=g(e,["topP"]);a!=null&&v(r,["topP"],a);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=g(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const A=g(e,["presencePenalty"]);A!=null&&v(r,["presencePenalty"],A);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const b=g(e,["seed"]);b!=null&&v(r,["seed"],b);const x=g(e,["responseMimeType"]);x!=null&&v(r,["responseMimeType"],x);const N=g(e,["responseSchema"]);N!=null&&v(r,["responseSchema"],Jw(N));const B=g(e,["responseJsonSchema"]);if(B!=null&&v(r,["responseJsonSchema"],B),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=g(e,["safetySettings"]);if(n!==void 0&&k!=null){let $=k;Array.isArray($)&&($=$.map(q=>Wae(q))),v(n,["safetySettings"],$)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let $=Kc(H);Array.isArray($)&&($=$.map(q=>nle($c(q)))),v(n,["tools"],$)}const F=g(e,["toolConfig"]);if(n!==void 0&&F!=null&&v(n,["toolConfig"],tle(F)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&v(n,["cachedContent"],ms(t,G));const P=g(e,["responseModalities"]);P!=null&&v(r,["responseModalities"],P);const D=g(e,["mediaResolution"]);D!=null&&v(r,["mediaResolution"],D);const L=g(e,["speechConfig"]);if(L!=null&&v(r,["speechConfig"],Xw(L)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=g(e,["thinkingConfig"]);z!=null&&v(r,["thinkingConfig"],z);const U=g(e,["imageConfig"]);return U!=null&&v(r,["imageConfig"],Nae(U)),r}function sae(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],Kn(i));const o=g(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=g(e,["topP"]);a!=null&&v(r,["topP"],a);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=g(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const A=g(e,["presencePenalty"]);A!=null&&v(r,["presencePenalty"],A);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const b=g(e,["seed"]);b!=null&&v(r,["seed"],b);const x=g(e,["responseMimeType"]);x!=null&&v(r,["responseMimeType"],x);const N=g(e,["responseSchema"]);N!=null&&v(r,["responseSchema"],Jw(N));const B=g(e,["responseJsonSchema"]);B!=null&&v(r,["responseJsonSchema"],B);const k=g(e,["routingConfig"]);k!=null&&v(r,["routingConfig"],k);const H=g(e,["modelSelectionConfig"]);H!=null&&v(r,["modelConfig"],H);const F=g(e,["safetySettings"]);if(n!==void 0&&F!=null){let ee=F;Array.isArray(ee)&&(ee=ee.map(ce=>ce)),v(n,["safetySettings"],ee)}const G=g(e,["tools"]);if(n!==void 0&&G!=null){let ee=Kc(G);Array.isArray(ee)&&(ee=ee.map(ce=>_3($c(ce)))),v(n,["tools"],ee)}const P=g(e,["toolConfig"]);n!==void 0&&P!=null&&v(n,["toolConfig"],P);const D=g(e,["labels"]);n!==void 0&&D!=null&&v(n,["labels"],D);const L=g(e,["cachedContent"]);n!==void 0&&L!=null&&v(n,["cachedContent"],ms(t,L));const z=g(e,["responseModalities"]);z!=null&&v(r,["responseModalities"],z);const U=g(e,["mediaResolution"]);U!=null&&v(r,["mediaResolution"],U);const $=g(e,["speechConfig"]);$!=null&&v(r,["speechConfig"],v3(Xw($)));const q=g(e,["audioTimestamp"]);q!=null&&v(r,["audioTimestamp"],q);const Ce=g(e,["thinkingConfig"]);Ce!=null&&v(r,["thinkingConfig"],Ce);const qe=g(e,["imageConfig"]);return qe!=null&&v(r,["imageConfig"],Dae(qe)),r}function lk(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>Qy(u))),v(n,["contents"],a)}const o=g(e,["config"]);return o!=null&&v(n,["generationConfig"],oae(t,o,n)),n}function uk(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>u)),v(n,["contents"],a)}const o=g(e,["config"]);return o!=null&&v(n,["generationConfig"],sae(t,o,n)),n}function ck(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ise(d))),v(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const a=g(t,["responseId"]);a!=null&&v(e,["responseId"],a);const u=g(t,["usageMetadata"]);return u!=null&&v(e,["usageMetadata"],u),e}function fk(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),v(e,["candidates"],d)}const i=g(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=g(t,["modelVersion"]);o!=null&&v(e,["modelVersion"],o);const a=g(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const u=g(t,["responseId"]);u!=null&&v(e,["responseId"],u);const c=g(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function aae(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&v(e,["parameters","aspectRatio"],i);const o=g(t,["guidanceScale"]);if(e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&v(e,["parameters","safetySetting"],a);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&v(e,["parameters","personGeneration"],u);const c=g(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&v(e,["parameters","includeSafetyAttributes"],c);const d=g(t,["includeRaiReason"]);e!==void 0&&d!=null&&v(e,["parameters","includeRaiReason"],d);const h=g(t,["language"]);e!==void 0&&h!=null&&v(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&v(e,["parameters","outputOptions","mimeType"],m);const y=g(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&v(e,["parameters","outputOptions","compressionQuality"],y),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=g(t,["imageSize"]);if(e!==void 0&&A!=null&&v(e,["parameters","sampleImageSize"],A),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function lae(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&v(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const a=g(t,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&v(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&v(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&v(e,["parameters","includeSafetyAttributes"],m);const y=g(t,["includeRaiReason"]);e!==void 0&&y!=null&&v(e,["parameters","includeRaiReason"],y);const A=g(t,["language"]);e!==void 0&&A!=null&&v(e,["parameters","language"],A);const S=g(t,["outputMimeType"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","mimeType"],S);const b=g(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&v(e,["parameters","outputOptions","compressionQuality"],b);const x=g(t,["addWatermark"]);e!==void 0&&x!=null&&v(e,["parameters","addWatermark"],x);const N=g(t,["labels"]);e!==void 0&&N!=null&&v(e,["labels"],N);const B=g(t,["imageSize"]);e!==void 0&&B!=null&&v(e,["parameters","sampleImageSize"],B);const k=g(t,["enhancePrompt"]);return e!==void 0&&k!=null&&v(e,["parameters","enhancePrompt"],k),n}function uae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&aae(o,n),n}function cae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&lae(o,n),n}function fae(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Sae(a))),v(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&v(e,["positivePromptSafetyAttributes"],g3(i)),e}function dae(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Zy(a))),v(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&v(e,["positivePromptSafetyAttributes"],y3(i)),e}function hae(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&v(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const a=g(t,["resolution"]);e!==void 0&&a!=null&&v(e,["parameters","resolution"],a);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&v(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(t,["negativePrompt"]);e!==void 0&&c!=null&&v(e,["parameters","negativePrompt"],c);const d=g(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&v(e,["parameters","enhancePrompt"],d),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&v(e,["instances[0]","lastFrame"],ev(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(A=>mle(A))),v(e,["instances[0]","referenceImages"],y)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function pae(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=g(t,["fps"]);e!==void 0&&o!=null&&v(e,["parameters","fps"],o);const a=g(t,["durationSeconds"]);e!==void 0&&a!=null&&v(e,["parameters","durationSeconds"],a);const u=g(t,["seed"]);e!==void 0&&u!=null&&v(e,["parameters","seed"],u);const c=g(t,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const d=g(t,["resolution"]);e!==void 0&&d!=null&&v(e,["parameters","resolution"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&v(e,["parameters","pubsubTopic"],m);const y=g(t,["negativePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","negativePrompt"],y);const A=g(t,["enhancePrompt"]);e!==void 0&&A!=null&&v(e,["parameters","enhancePrompt"],A);const S=g(t,["generateAudio"]);e!==void 0&&S!=null&&v(e,["parameters","generateAudio"],S);const b=g(t,["lastFrame"]);e!==void 0&&b!=null&&v(e,["instances[0]","lastFrame"],Ii(b));const x=g(t,["referenceImages"]);if(e!==void 0&&x!=null){let k=x;Array.isArray(k)&&(k=k.map(H=>gle(H))),v(e,["instances[0]","referenceImages"],k)}const N=g(t,["mask"]);e!==void 0&&N!=null&&v(e,["instances[0]","mask"],ple(N));const B=g(t,["compressionQuality"]);return e!==void 0&&B!=null&&v(e,["parameters","compressionQuality"],B),n}function mae(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const a=g(t,["response","generateVideoResponse"]);return a!=null&&v(e,["response"],_ae(a)),e}function gae(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const a=g(t,["response"]);return a!=null&&v(e,["response"],Tae(a)),e}function yae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&v(n,["instances[0]","image"],ev(o));const a=g(e,["video"]);a!=null&&v(n,["instances[0]","video"],T3(a));const u=g(e,["source"]);u!=null&&Eae(u,n);const c=g(e,["config"]);return c!=null&&hae(c,n),n}function vae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&v(n,["instances[0]","image"],Ii(o));const a=g(e,["video"]);a!=null&&v(n,["instances[0]","video"],E3(a));const u=g(e,["source"]);u!=null&&Aae(u,n);const c=g(e,["config"]);return c!=null&&pae(c,n),n}function _ae(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>bae(a))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function Tae(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Cae(a))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function Eae(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],ev(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],T3(o)),n}function Aae(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],Ii(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],E3(o)),n}function Sae(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["image"],kae(n));const r=g(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&v(e,["safetyAttributes"],g3(i)),e}function Zy(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["image"],m3(n));const r=g(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&v(e,["safetyAttributes"],y3(i));const o=g(t,["prompt"]);return o!=null&&v(e,["enhancedPrompt"],o),e}function wae(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["mask"],m3(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["labels"],i)}return e}function bae(t){const e={},n=g(t,["video"]);return n!=null&&v(e,["video"],dle(n)),e}function Cae(t){const e={},n=g(t,["_self"]);return n!=null&&v(e,["video"],hle(n)),e}function xae(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const a=g(t,["enableAffectiveDialog"]);a!=null&&v(e,["enableAffectiveDialog"],a);const u=g(t,["frequencyPenalty"]);u!=null&&v(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&v(e,["logprobs"],c);const d=g(t,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&v(e,["presencePenalty"],m);const y=g(t,["responseLogprobs"]);y!=null&&v(e,["responseLogprobs"],y);const A=g(t,["responseMimeType"]);A!=null&&v(e,["responseMimeType"],A);const S=g(t,["responseModalities"]);S!=null&&v(e,["responseModalities"],S);const b=g(t,["responseSchema"]);b!=null&&v(e,["responseSchema"],b);const x=g(t,["routingConfig"]);x!=null&&v(e,["routingConfig"],x);const N=g(t,["seed"]);N!=null&&v(e,["seed"],N);const B=g(t,["speechConfig"]);B!=null&&v(e,["speechConfig"],v3(B));const k=g(t,["stopSequences"]);k!=null&&v(e,["stopSequences"],k);const H=g(t,["temperature"]);H!=null&&v(e,["temperature"],H);const F=g(t,["thinkingConfig"]);F!=null&&v(e,["thinkingConfig"],F);const G=g(t,["topK"]);G!=null&&v(e,["topK"],G);const P=g(t,["topP"]);if(P!=null&&v(e,["topP"],P),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Iae(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],ot(t,r)),n}function Rae(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],ot(t,r)),n}function Pae(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function Mae(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function Nae(t){const e={},n=g(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Dae(t){const e={},n=g(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&v(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&v(e,["imageOutputOptions","mimeType"],i);const o=g(t,["outputCompressionQuality"]);return o!=null&&v(e,["imageOutputOptions","compressionQuality"],o),e}function kae(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],Oa(n));const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function m3(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&v(e,["imageBytes"],Oa(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function ev(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],Oa(n));const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Ii(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&v(e,["bytesBase64Encoded"],Oa(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function Oae(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const a=g(e,["filter"]);n!==void 0&&a!=null&&v(n,["_query","filter"],a);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],a3(t,u)),r}function Lae(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const a=g(e,["filter"]);n!==void 0&&a!=null&&v(n,["_query","filter"],a);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],a3(t,u)),r}function Vae(t,e){const n={},r=g(e,["config"]);return r!=null&&Oae(t,r,n),n}function Uae(t,e){const n={},r=g(e,["config"]);return r!=null&&Lae(t,r,n),n}function Fae(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=l3(i);Array.isArray(o)&&(o=o.map(a=>_A(a))),v(e,["models"],o)}return e}function Bae(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=l3(i);Array.isArray(o)&&(o=o.map(a=>TA(a))),v(e,["models"],o)}return e}function qae(t){const e={},n=g(t,["maskMode"]);n!=null&&v(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&v(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&v(e,["dilation"],i),e}function _A(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);i!=null&&v(e,["description"],i);const o=g(t,["version"]);o!=null&&v(e,["version"],o);const a=g(t,["_self"]);a!=null&&v(e,["tunedModelInfo"],rle(a));const u=g(t,["inputTokenLimit"]);u!=null&&v(e,["inputTokenLimit"],u);const c=g(t,["outputTokenLimit"]);c!=null&&v(e,["outputTokenLimit"],c);const d=g(t,["supportedGenerationMethods"]);d!=null&&v(e,["supportedActions"],d);const h=g(t,["temperature"]);h!=null&&v(e,["temperature"],h);const m=g(t,["maxTemperature"]);m!=null&&v(e,["maxTemperature"],m);const y=g(t,["topP"]);y!=null&&v(e,["topP"],y);const A=g(t,["topK"]);A!=null&&v(e,["topK"],A);const S=g(t,["thinking"]);return S!=null&&v(e,["thinking"],S),e}function TA(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);i!=null&&v(e,["description"],i);const o=g(t,["versionId"]);o!=null&&v(e,["version"],o);const a=g(t,["deployedModels"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(y=>eae(y))),v(e,["endpoints"],m)}const u=g(t,["labels"]);u!=null&&v(e,["labels"],u);const c=g(t,["_self"]);c!=null&&v(e,["tunedModelInfo"],ile(c));const d=g(t,["defaultCheckpointId"]);d!=null&&v(e,["defaultCheckpointId"],d);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>y)),v(e,["checkpoints"],m)}return e}function zae(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],tae(o));const a=g(t,["functionCall"]);a!=null&&v(e,["functionCall"],nae(a));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&v(e,["inlineData"],xse(c));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function Hae(t){const e={},n=g(t,["productImage"]);return n!=null&&v(e,["image"],Ii(n)),e}function Gae(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&v(e,["parameters","baseSteps"],i);const o=g(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const a=g(t,["seed"]);e!==void 0&&a!=null&&v(e,["parameters","seed"],a);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const c=g(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const d=g(t,["addWatermark"]);e!==void 0&&d!=null&&v(e,["parameters","addWatermark"],d);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&v(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&v(e,["parameters","outputOptions","compressionQuality"],m);const y=g(t,["enhancePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","enhancePrompt"],y);const A=g(t,["labels"]);return e!==void 0&&A!=null&&v(e,["labels"],A),n}function $ae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["source"]);i!=null&&jae(i,n);const o=g(e,["config"]);return o!=null&&Gae(o,n),n}function Kae(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Zy(i))),v(e,["generatedImages"],r)}return e}function jae(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&v(e,["instances[0]","personImage","image"],Ii(i));const o=g(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Hae(u))),v(e,["instances[0]","productImages"],a)}return n}function Yae(t){const e={},n=g(t,["referenceImage"]);n!=null&&v(e,["referenceImage"],Ii(n));const r=g(t,["referenceId"]);r!=null&&v(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&v(e,["referenceType"],i);const o=g(t,["maskImageConfig"]);o!=null&&v(e,["maskImageConfig"],qae(o));const a=g(t,["controlImageConfig"]);a!=null&&v(e,["controlImageConfig"],kse(a));const u=g(t,["styleImageConfig"]);u!=null&&v(e,["styleImageConfig"],u);const c=g(t,["subjectImageConfig"]);return c!=null&&v(e,["subjectImageConfig"],c),e}function g3(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&v(e,["contentType"],i),e}function y3(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&v(e,["contentType"],i),e}function Wae(t){const e={},n=g(t,["category"]);if(n!=null&&v(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function Jae(t){const e={},n=g(t,["image"]);return n!=null&&v(e,["image"],Ii(n)),e}function Xae(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&v(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&v(e,["parameters","maxPredictions"],i);const o=g(t,["confidenceThreshold"]);e!==void 0&&o!=null&&v(e,["parameters","confidenceThreshold"],o);const a=g(t,["maskDilation"]);e!==void 0&&a!=null&&v(e,["parameters","maskDilation"],a);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&v(e,["parameters","binaryColorThreshold"],u);const c=g(t,["labels"]);return e!==void 0&&c!=null&&v(e,["labels"],c),n}function Qae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["source"]);i!=null&&ele(i,n);const o=g(e,["config"]);return o!=null&&Xae(o,n),n}function Zae(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wae(i))),v(e,["generatedMasks"],r)}return e}function ele(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],Ii(i));const o=g(t,["scribbleImage"]);return e!==void 0&&o!=null&&v(e,["instances[0]","scribble"],Jae(o)),n}function v3(t){const e={},n=g(t,["languageCode"]);n!=null&&v(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&v(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function tle(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],rae(n));const r=g(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],r),e}function nle(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=g(t,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],Pae(u));const c=g(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],Mae(c));const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function _3(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>iae(y))),v(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=g(t,["codeExecution"]);a!=null&&v(e,["codeExecution"],a);const u=g(t,["enterpriseWebSearch"]);u!=null&&v(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const d=g(t,["googleSearch"]);d!=null&&v(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function rle(t){const e={},n=g(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&v(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&v(e,["updateTime"],i),e}function ile(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&v(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&v(e,["updateTime"],i),e}function ole(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&v(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function sle(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&v(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function ale(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],ot(t,r));const i=g(e,["config"]);return i!=null&&ole(i,n),n}function lle(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&sle(i,n),n}function ule(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&v(e,["parameters","safetySetting"],i);const o=g(t,["personGeneration"]);e!==void 0&&o!=null&&v(e,["parameters","personGeneration"],o);const a=g(t,["includeRaiReason"]);e!==void 0&&a!=null&&v(e,["parameters","includeRaiReason"],a);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&v(e,["parameters","outputOptions","mimeType"],u);const c=g(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&v(e,["parameters","outputOptions","compressionQuality"],c);const d=g(t,["enhanceInputImage"]);e!==void 0&&d!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(t,["labels"]);e!==void 0&&m!=null&&v(e,["labels"],m);const y=g(t,["numberOfImages"]);e!==void 0&&y!=null&&v(e,["parameters","sampleCount"],y);const A=g(t,["mode"]);return e!==void 0&&A!=null&&v(e,["parameters","mode"],A),n}function cle(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["image"]);i!=null&&v(n,["instances[0]","image"],Ii(i));const o=g(e,["upscaleFactor"]);o!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=g(e,["config"]);return a!=null&&ule(a,n),n}function fle(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Zy(o))),v(e,["generatedImages"],i)}return e}function dle(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],Oa(r));const i=g(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function hle(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],Oa(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function ple(t){const e={},n=g(t,["image"]);n!=null&&v(e,["_self"],Ii(n));const r=g(t,["maskMode"]);return r!=null&&v(e,["maskMode"],r),e}function mle(t){const e={},n=g(t,["image"]);n!=null&&v(e,["image"],ev(n));const r=g(t,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function gle(t){const e={},n=g(t,["image"]);n!=null&&v(e,["image"],Ii(n));const r=g(t,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function T3(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&v(e,["encodedVideo"],Oa(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["encoding"],i),e}function E3(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&v(e,["bytesBase64Encoded"],Oa(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yle="Content-Type",vle="X-Server-Timeout",_le="User-Agent",EA="x-goog-api-client",Tle="1.30.0",Ele=`google-genai-sdk/${Tle}`,Ale="v1beta1",Sle="v1beta",dk=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class wle{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Ale,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Sle,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&ble(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await hk(i),new gA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await hk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return dc(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield St(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const y=JSON.parse(JSON.stringify(m.error)),A=y.status,S=y.code,b=`got status: ${A}. ${JSON.stringify(m)}`;if(S>=400&&S<600)throw new Xy({message:b,status:S})}}catch(m){if(m.name==="ApiError")throw m}a+=d;let h=a.match(dk);for(;h;){const m=h[1];try{const y=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield St(new gA(y)),a=a.slice(h[0].length),h=a.match(dk)}catch(y){throw new Error(`exception parsing stream chunk ${m}. ${y}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Ele+" "+this.clientOptions.userAgentExtra;return e[_le]=n,e[EA]=n,e[yle]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(vle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(e),h=ye("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n==null?void 0:n.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),u=String(a.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const y=await this.fetchUploadUrl(d,u,c,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var u;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function hk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Xy({message:i,status:n}):new Error(i)}}function ble(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const u=Object.assign({},o);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=a[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cle="mcp_used/unknown";let xle=!1;function A3(t){for(const e of t)if(Ile(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xle}function S3(t){var e;const n=(e=t[EA])!==null&&e!==void 0?e:"";t[EA]=(n+` ${Cle}`).trimStart()}function Ile(t){return t!==null&&typeof t=="object"&&t instanceof Zw}function Rle(t,e=100){return dc(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield St(t.listTools({cursor:r}));for(const a of o.tools)yield yield St(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Zw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Zw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Rd(Rle(h))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;a.push(m);const y=m.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Eie(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ple(t,e,n){const r=new hie;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Mle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=kle(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(k=>{d=k}),m=e.callbacks,y=function(){d({})},A=this.apiClient,S={onopen:y,onmessage:k=>{Ple(A,m.onmessage,k)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(k){}},b=this.webSocketFactory.create(c,Dle(a),S);b.connect(),await h;const B={setup:{model:ot(this.apiClient,e.model)}};return b.send(JSON.stringify(B)),new Nle(b,this.apiClient)}}class Nle{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=vse(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=yse(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(sc.PLAY)}pause(){this.sendPlaybackControl(sc.PAUSE)}stop(){this.sendPlaybackControl(sc.STOP)}resetContext(){this.sendPlaybackControl(sc.RESET_CONTEXT)}close(){this.conn.close()}}function Dle(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function kle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ole="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Lle(t,e,n){const r=new die;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Ese(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Vle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Mle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&A3(e.config.tools)&&S3(m);const y=qle(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,h);else{const L=this.apiClient.getApiKey();let z="BidiGenerateContent",U="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",U="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${z}?${U}=${L}`}let A=()=>{};const S=new Promise(L=>{A=L}),b=e.callbacks,x=function(){var L;(L=b==null?void 0:b.onopen)===null||L===void 0||L.call(b),A({})},N=this.apiClient,B={onopen:x,onmessage:L=>{Lle(N,b.onmessage,L)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(L){}},k=this.webSocketFactory.create(h,Ble(y),B);k.connect(),await S;let H=ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const L=this.apiClient.getProject(),z=this.apiClient.getLocation();H=`projects/${L}/locations/${z}/`+H}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Gg.AUDIO]}:e.config.responseModalities=[Gg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],P=[];for(const L of G)if(this.isCallableTool(L)){const z=L;P.push(await z.tool())}else P.push(L);P.length>0&&(e.config.tools=P);const D={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=gse(this.apiClient,D):F=mse(this.apiClient,D),delete F.config,k.send(JSON.stringify(F)),new Fle(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Ule={turnComplete:!0};class Fle{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ni(n.turns),e.isVertexAI()||(r=r.map(i=>Qy(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Ole)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Ule),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Tse(e)}:n={realtimeInput:_se(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Ble(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function qle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pk=10;function mk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(hc(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function hc(t){return"callTool"in t&&typeof t.callTool=="function"}function zle(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>hc(i)))!==null&&r!==void 0?r:!1}function gk(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(hc(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function yk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hle extends ps{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!zle(n)||mk(n.config))return await this.generateContentInternal(c);const d=gk(n);if(d.length>0){const b=d.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let h,m;const y=ni(c.contents),A=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:pk;let S=0;for(;S<A&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const b=h.candidates[0].content,x=[];for(const N of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(hc(N)){const k=await N.callTool(h.functionCalls);x.push(...k)}S++,m={role:"user",parts:x},c.contents=ni(c.contents),c.contents.push(b),c.contents.push(m),yk(c.config)&&(y.push(b),y.push(m))}return yk(c.config)&&(h.automaticFunctionCallingHistory=y),h},this.generateContentStream=async n=>{var r,i,o,a,u;if(this.maybeMoveToResponseJsonSchem(n),mk(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=gk(n);if(c.length>0){const m=c.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:a.push(c);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Xl(rs.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async c=>hc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&A3(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),S3(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(hc(a)){const u=a,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:pk;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(d,h,m){var y,A;return dc(this,arguments,function*(){for(var S,b,x,N;u<o;){a&&(u++,a=!1);const F=yield St(d.processParamsMaybeAddMcpUsage(m)),G=yield St(d.generateContentStreamInternal(F)),P=[],D=[];try{for(var B=!0,k=(b=void 0,Rd(G)),H;H=yield St(k.next()),S=H.done,!S;B=!0){N=H.value,B=!1;const L=N;if(yield yield St(L),L.candidates&&(!((y=L.candidates[0])===null||y===void 0)&&y.content)){D.push(L.candidates[0].content);for(const z of(A=L.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(u<o&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(z.functionCall.name)){const U=yield St(h.get(z.functionCall.name).callTool([z.functionCall]));P.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(L){b={error:L}}finally{try{!B&&!S&&(x=k.return)&&(yield St(x.call(k)))}finally{if(b)throw b.error}}if(P.length>0){a=!0;const L=new hd;L.candidates=[{content:{role:"user",parts:P}}],yield yield St(L);const z=[];z.push(...D),z.push({role:"user",parts:P});const U=ni(m.contents).concat(z);m.contents=U}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=uk(this.apiClient,e);return u=ye("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=fk(h),y=new hd;return Object.assign(y,m),y})}else{const d=lk(this.apiClient,e);return u=ye("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=ck(h),y=new hd;return Object.assign(y,m),y})}}async generateContentStreamInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=uk(this.apiClient,e);return u=ye("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(m){return dc(this,arguments,function*(){var y,A,S,b;try{for(var x=!0,N=Rd(m),B;B=yield St(N.next()),y=B.done,!y;x=!0){b=B.value,x=!1;const k=b,H=fk(yield St(k.json()));H.sdkHttpResponse={headers:k.headers};const F=new hd;Object.assign(F,H),yield yield St(F)}}catch(k){A={error:k}}finally{try{!x&&!y&&(S=N.return)&&(yield St(S.call(N)))}finally{if(A)throw A.error}}})})}else{const d=lk(this.apiClient,e);return u=ye("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(m){return dc(this,arguments,function*(){var y,A,S,b;try{for(var x=!0,N=Rd(m),B;B=yield St(N.next()),y=B.done,!y;x=!0){b=B.value,x=!1;const k=b,H=ck(yield St(k.json()));H.sdkHttpResponse={headers:k.headers};const F=new hd;Object.assign(F,H),yield yield St(F)}}catch(k){A={error:k}}finally{try{!x&&!y&&(S=N.return)&&(yield St(S.call(N)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Xse(this.apiClient,e);return u=ye("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Zse(h),y=new KD;return Object.assign(y,m),y})}else{const d=Jse(this.apiClient,e);return u=ye("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Qse(h),y=new KD;return Object.assign(y,m),y})}}async generateImagesInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=cae(this.apiClient,e);return u=ye("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=dae(h),y=new jD;return Object.assign(y,m),y})}else{const d=uae(this.apiClient,e);return u=ye("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=fae(h),y=new jD;return Object.assign(y,m),y})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Kse(this.apiClient,e);return o=ye("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=jse(c),h=new tie;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=cle(this.apiClient,e);return o=ye("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=fle(c),h=new nie;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=$ae(this.apiClient,e);return o=ye("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Kae(c),h=new rie;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Qae(this.apiClient,e);return o=ye("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Zae(c),h=new iie;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Rae(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>TA(h))}else{const d=Iae(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>_A(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Uae(this.apiClient,e);return u=ye("{models_url}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Bae(h),y=new YD;return Object.assign(y,m),y})}else{const d=Vae(this.apiClient,e);return u=ye("{models_url}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Fae(h),y=new YD;return Object.assign(y,m),y})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=lle(this.apiClient,e);return u=ye("{model}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>TA(h))}else{const d=ale(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>_A(h))}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=zse(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Gse(h),y=new WD;return Object.assign(y,m),y})}else{const d=qse(this.apiClient,e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Hse(h),y=new WD;return Object.assign(y,m),y})}}async countTokens(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Use(this.apiClient,e);return u=ye("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Bse(h),y=new JD;return Object.assign(y,m),y})}else{const d=Vse(this.apiClient,e);return u=ye("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Fse(h),y=new JD;return Object.assign(y,m),y})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Pse(this.apiClient,e);return o=ye("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Mse(c),h=new oie;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=vae(this.apiClient,e);return u=ye("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const m=gae(h),y=new $g;return Object.assign(y,m),y})}else{const d=yae(this.apiClient,e);return u=ye("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const m=mae(h),y=new $g;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gle extends ps{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Wre(e);return u=ye("{operationName}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const d=Yre(e);return u=ye("{operationName}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=qre(e);return o=ye("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $le(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Kle(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tue(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function jle(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const o=g(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const a=g(e,["uses"]);n!==void 0&&a!=null&&v(n,["uses"],a);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],eue(t,u));const c=g(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&v(n,["fieldMask"],c),r}function Yle(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],jle(t,r,n)),n}function Wle(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Jle(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xle(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function Qle(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function Zle(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=g(t,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const u=g(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","speechConfig"],Qw(m));const y=g(t,["thinkingConfig"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","thinkingConfig"],y);const A=g(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],A);const S=g(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],Kle(Kn(S)));const b=g(t,["tools"]);if(e!==void 0&&b!=null){let G=Kc(b);Array.isArray(G)&&(G=G.map(P=>rue($c(P)))),v(e,["setup","tools"],G)}const x=g(t,["sessionResumption"]);e!==void 0&&x!=null&&v(e,["setup","sessionResumption"],nue(x));const N=g(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&v(e,["setup","inputAudioTranscription"],N);const B=g(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&v(e,["setup","outputAudioTranscription"],B);const k=g(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&v(e,["setup","realtimeInputConfig"],k);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const F=g(t,["proactivity"]);return e!==void 0&&F!=null&&v(e,["setup","proactivity"],F),n}function eue(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&v(n,["config"],Zle(i,n)),n}function tue(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],Wle(o));const a=g(t,["functionCall"]);a!=null&&v(e,["functionCall"],Jle(a));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&v(e,["inlineData"],$le(c));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function nue(t){const e={},n=g(t,["handle"]);if(n!=null&&v(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rue(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=g(t,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],Xle(u));const c=g(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],Qle(c));const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iue(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function oue(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=iue(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class sue extends ps{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Yle(this.apiClient,e);o=ye("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=oue(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aue(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["displayName"],r),n}function lue(t){const e={},n=g(t,["config"]);return n!=null&&aue(n,e),e}function uue(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function cue(t){const e={},n=g(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&uue(r,e),e}function fue(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function due(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["customMetadata"],o)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&v(e,["chunkingConfig"],i),n}function hue(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const a=g(t,["response"]);return a!=null&&v(e,["response"],mue(a)),e}function pue(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&v(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&due(i,e),e}function mue(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&v(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function gue(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function yue(t){const e={},n=g(t,["config"]);return n!=null&&gue(n,e),e}function vue(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["fileSearchStores"],o)}return e}function _ue(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&v(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=g(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),v(e,["customMetadata"],u)}const a=g(t,["chunkingConfig"]);return e!==void 0&&a!=null&&v(e,["chunkingConfig"],a),n}function Tue(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&_ue(r,e),e}function Eue(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aue(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function Sue(t){const e={},n=g(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&Aue(r,e),e}function wue(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function bue(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function Cue(t){const e={},n=g(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&bue(r,e),e}function xue(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iue extends ps{constructor(e){super(),this.apiClient=e,this.list=async n=>new Xl(rs.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wue(e);return o=ye("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Sue(e);i=ye("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Cue(e);return o=ye("{parent}/documents",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=xue(c),h=new sie;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rue extends ps{constructor(e,n=new Iue(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Xl(rs.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lue(e);return o=ye("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fue(e);return o=ye("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=cue(e);i=ye("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yue(e);return o=ye("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=vue(c),h=new aie;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tue(e);return o=ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Eue(c),h=new lie;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pue(e);return o=ye("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=hue(c),h=new jw;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pue(t,e){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Mue(t,e){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Nue(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&v(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=g(t,["epochCount"]);e!==void 0&&o!=null&&v(e,["tuningTask","hyperparameters","epochCount"],o);const a=g(t,["learningRateMultiplier"]);if(a!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&v(e,["tuningTask","hyperparameters","batchSize"],u);const c=g(t,["learningRate"]);if(e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","learningRate"],c),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Due(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const A=g(t,["validationDataset"]);e!==void 0&&A!=null&&v(e,["supervisedTuningSpec"],vk(A))}else if(i==="PREFERENCE_TUNING"){const A=g(t,["validationDataset"]);e!==void 0&&A!=null&&v(e,["preferenceOptimizationSpec"],vk(A))}const o=g(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&v(e,["tunedModelDisplayName"],o);const a=g(t,["description"]);e!==void 0&&a!=null&&v(e,["description"],a);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const A=g(t,["epochCount"]);e!==void 0&&A!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(u==="PREFERENCE_TUNING"){const A=g(t,["epochCount"]);e!==void 0&&A!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const A=g(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(c==="PREFERENCE_TUNING"){const A=g(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const A=g(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(d==="PREFERENCE_TUNING"){const A=g(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=g(t,["adapterSize"]);e!==void 0&&A!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(h==="PREFERENCE_TUNING"){const A=g(t,["adapterSize"]);e!==void 0&&A!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&v(e,["labels"],m);const y=g(t,["beta"]);return e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function kue(t,e){const n={},r=g(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&$ue(o);const a=g(t,["config"]);return a!=null&&Nue(a,n),n}function Oue(t,e){const n={},r=g(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&Kue(o,n,e);const a=g(t,["config"]);return a!=null&&Due(a,n,e),n}function Lue(t,e){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Vue(t,e){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Uue(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const a=g(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),r}function Fue(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const a=g(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),r}function Bue(t,e){const n={},r=g(t,["config"]);return r!=null&&Uue(r,n),n}function que(t,e){const n={},r=g(t,["config"]);return r!=null&&Fue(r,n),n}function zue(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=g(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>w3(u))),v(n,["tuningJobs"],a)}return n}function Hue(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=g(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>AA(u))),v(n,["tuningJobs"],a)}return n}function Gue(t,e){const n={},r=g(t,["name"]);r!=null&&v(n,["model"],r);const i=g(t,["name"]);return i!=null&&v(n,["endpoint"],i),n}function $ue(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["examples","examples"],i)}return n}function Kue(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=g(t,["gcsUri"]);e!==void 0&&a!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=g(t,["gcsUri"]);e!==void 0&&a!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=g(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=g(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=g(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function w3(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&v(n,["name"],i);const o=g(t,["state"]);o!=null&&v(n,["state"],o3(o));const a=g(t,["createTime"]);a!=null&&v(n,["createTime"],a);const u=g(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const c=g(t,["tuningTask","completeTime"]);c!=null&&v(n,["endTime"],c);const d=g(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(t,["description"]);h!=null&&v(n,["description"],h);const m=g(t,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=g(t,["_self"]);return y!=null&&v(n,["tunedModel"],Gue(y)),n}function AA(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&v(n,["name"],i);const o=g(t,["state"]);o!=null&&v(n,["state"],o3(o));const a=g(t,["createTime"]);a!=null&&v(n,["createTime"],a);const u=g(t,["startTime"]);u!=null&&v(n,["startTime"],u);const c=g(t,["endTime"]);c!=null&&v(n,["endTime"],c);const d=g(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(t,["error"]);h!=null&&v(n,["error"],h);const m=g(t,["description"]);m!=null&&v(n,["description"],m);const y=g(t,["baseModel"]);y!=null&&v(n,["baseModel"],y);const A=g(t,["tunedModel"]);A!=null&&v(n,["tunedModel"],A);const S=g(t,["preTunedModel"]);S!=null&&v(n,["preTunedModel"],S);const b=g(t,["supervisedTuningSpec"]);b!=null&&v(n,["supervisedTuningSpec"],b);const x=g(t,["preferenceOptimizationSpec"]);x!=null&&v(n,["preferenceOptimizationSpec"],x);const N=g(t,["tuningDataStats"]);N!=null&&v(n,["tuningDataStats"],N);const B=g(t,["encryptionSpec"]);B!=null&&v(n,["encryptionSpec"],B);const k=g(t,["partnerModelTuningSpec"]);k!=null&&v(n,["partnerModelTuningSpec"],k);const H=g(t,["customBaseModel"]);H!=null&&v(n,["customBaseModel"],H);const F=g(t,["experiment"]);F!=null&&v(n,["experiment"],F);const G=g(t,["labels"]);G!=null&&v(n,["labels"],G);const P=g(t,["outputUri"]);P!=null&&v(n,["outputUri"],P);const D=g(t,["pipelineJob"]);D!=null&&v(n,["pipelineJob"],D);const L=g(t,["serviceAccount"]);L!=null&&v(n,["serviceAccount"],L);const z=g(t,["tunedModelDisplayName"]);z!=null&&v(n,["tunedModelDisplayName"],z);const U=g(t,["veoTuningSpec"]);return U!=null&&v(n,["veoTuningSpec"],U),n}function jue(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&v(n,["name"],i);const o=g(t,["metadata"]);o!=null&&v(n,["metadata"],o);const a=g(t,["done"]);a!=null&&v(n,["done"],a);const u=g(t,["error"]);return u!=null&&v(n,["error"],u),n}function vk(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yue extends ps{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Xl(rs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:mA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Vue(e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>AA(h))}else{const d=Lue(e);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>w3(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=que(e);return u=ye("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=Hue(h),y=new XD;return Object.assign(y,m),y})}else{const d=Bue(e);return u=ye("tunedModels",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=zue(h),y=new XD;return Object.assign(y,m),y})}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const c=Mue(e);a=ye("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Pue(e);a=ye("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Oue(e,e);return o=ye("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>AA(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kue(e);return o=ye("tunedModels",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>jue(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wue{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Jue=1024*1024*8,Xue=3,Que=1e3,Zue=2,jg="x-goog-upload-status";async function ece(t,e,n){var r;const i=await b3(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[jg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function tce(t,e,n){var r;const i=await b3(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[jg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=Z4(o),u=new Yw;return Object.assign(u,a),u}async function b3(t,e,n){var r,i;let o=0,a=0,u=new gA(new Response),c="upload";for(o=t.size;a<o;){const d=Math.min(Jue,o-a),h=t.slice(a,a+d);a+d>=o&&(c+=", finalize");let m=0,y=Que;for(;m<Xue&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[jg]));)m++,await rce(y),y=y*Zue;if(a+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[jg])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function nce(t){return{size:t.size,type:t.type}}function rce(t){return new Promise(e=>setTimeout(e,t))}class ice{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ece(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tce(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nce(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oce{create(e,n,r){return new sce(e,n,r)}}class sce{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _k="x-goog-api-key";class ace{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(_k)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_k,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lce="gl-node/";class uce{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Fre(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new ace(this.apiKey);this.apiClient=new wle({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:lce+"web",uploader:new ice,downloader:new Wue}),this.models=new Hle(this.apiClient),this.live=new Vle(this.apiClient,i,new oce),this.batches=new poe(this.apiClient),this.chats=new Woe(this.models,this.apiClient),this.caches=new Koe(this.apiClient),this.files=new ose(this.apiClient),this.operations=new Gle(this.apiClient),this.authTokens=new sue(this.apiClient),this.tunings=new Yue(this.apiClient),this.fileSearchStores=new Rue(this.apiClient)}}const cce="AIzaSyA9mnh564U4hN3iaAzU9PSvvLakYcjObhw",eb=new uce({apiKey:cce}),C3="gemini-2.5-flash",fce="gemini-2.5-flash",tb=`
IMPORTANT:
- Output PLAIN TEXT only.
- NO Markdown characters (no *, no #, no bold).
- Max 6 lines total.
- STRICT FORMAT:
Trend: / [UP/DOWN/SIDEWAYS]
Key Levels: [Support] / [Resistance]
Buy Zone: [Range] 
Sell Zone: [Range] 
Risk Note:  [Short caution]
`,x3=async t=>{const e=`Analyze Stock/Forex/Crypto: ${t}.
    ${tb}
    Language: English.`;try{return(await eb.models.generateContent({model:C3,contents:e})).text.replace(/\*/g,"")}catch{return"Analysis failed."}},dce=async(t,e,n)=>{const r=`Analyze this chart. Timeframe: ${n}.
    ${tb}
    Language: English.`;try{const i={inlineData:{data:t,mimeType:e}};return(await eb.models.generateContent({model:fce,contents:{parts:[i,{text:r}]}})).text.replace(/\*/g,"")}catch{return"Chart analysis error."}},hce=async t=>{const e=`Explain trading concept: "${t}".
    ${tb}
    But adapt the fields slightly to explain the concept clearly.
    Keep the Risk Note.
    Language: English.`;try{return(await eb.models.generateContent({model:C3,contents:e})).text.replace(/\*/g,"")}catch{return"Concept data unavailable."}},pce=["https://feeds.finance.yahoo.com/rss/2.0/headline?s=AAPL","https://feeds.finance.yahoo.com/rss/2.0/headline?s=RELIANCE.NS","https://feeds.finance.yahoo.com/rss/2.0/headline?s=TSLA","https://feeds.finance.yahoo.com/rss/2.0/headline?s=BTC-USD","https://feeds.finance.yahoo.com/rss/2.0/headline?s=NVDA","https://feeds.finance.yahoo.com/rss/2.0/headline?s=GOOG","https://rss.app/feeds/wLIIQ02sL24qolMK.xml","https://rss.app/feeds/3LvxN4HpzJSy2fVw.xml"],mce=t=>{const e=t.toLowerCase();return["btc","bitcoin","crypto","eth","binance","coinbase"].some(n=>e.includes(n))?"crypto":["fed","inflation","rates","banking","finance","stocks","market"].some(n=>e.includes(n))?"finance":"default"};async function gce(){try{const t=pce.map(async i=>{try{const o=await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(i)}`);if(!o.ok)return[];const a=await o.json();return a.status!=="ok"?[]:a.items}catch(o){return console.warn(`Error fetching RSS feed ${i}:`,o),[]}}),e=(await Promise.all(t)).flat();return Array.from(new Map(e.map(i=>[i.link,i])).values()).map(i=>{const o=new URL(i.link).hostname.replace("www.",""),a=mce(i.title);return{title:i.title,link:i.link,publishedAt:i.isoDate||i.pubDate,description:i.contentSnippet,image:`https://image.thum.io/get/width/600/${encodeURIComponent(i.link)}`,source:o,category:a}}).sort((i,o)=>new Date(o.publishedAt).getTime()-new Date(i.publishedAt).getTime())}catch(t){return console.error("Failed to fetch or process news feeds:",t),[]}}const SA={"trader-1":"https://api.dicebear.com/7.x/avataaars/svg?seed=Felix","trader-2":"https://api.dicebear.com/7.x/avataaars/svg?seed=Aneka","trader-3":"https://api.dicebear.com/7.x/avataaars/svg?seed=Zack","trader-4":"https://api.dicebear.com/7.x/avataaars/svg?seed=Trouble","trader-5":"https://api.dicebear.com/7.x/avataaars/svg?seed=Molly","trader-6":"https://api.dicebear.com/7.x/avataaars/svg?seed=Bear","trader-7":"https://api.dicebear.com/7.x/avataaars/svg?seed=Lilith","trader-8":"https://api.dicebear.com/7.x/avataaars/svg?seed=Bandit","trader-9":"https://api.dicebear.com/7.x/avataaars/svg?seed=Abby","trader-10":"https://api.dicebear.com/7.x/avataaars/svg?seed=Gizmo","trader-11":"https://api.dicebear.com/7.x/avataaars/svg?seed=Midnight","trader-12":"https://api.dicebear.com/7.x/avataaars/svg?seed=Kitty"},It=({name:t,className:e})=>{const n={home:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),market:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}),news:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3h2m-4 3h2m-4 3h2"}),analyzer:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}),lab:M.jsxs(M.Fragment,{children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547a2 2 0 00-.547 1.806l.477 2.387a6 6 0 00.517 3.86l.158.318a6 6 0 003.86.517l2.387.477a2 2 0 001.806-.547a2 2 0 00.547-1.806l-.477-2.387a6 6 0 00-.517-3.86l-.158-.318a6 6 0 01-.517-3.86l.477-2.387a2 2 0 00.547-1.806z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8.25a4.5 4.5 0 100 9 4.5 4.5 0 000-9z"})]}),community:M.jsxs(M.Fragment,{children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5.423c1.522 0 2.686-1.564 2.14-2.986l-1.428-3.929a2 2 0 00-3.714 0l-1.428 3.929A2.996 2.996 0 0117 20z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 20h5.423c1.522 0 2.686-1.564 2.14-2.986l-1.428-3.929a2 2 0 00-3.714 0l-1.428 3.929A2.996 2.996 0 017 20z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20v-5m0 0l-2-2m2 2l2-2"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 8.5a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.5a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})]}),profile:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}),spark:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"}),send:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"}),close:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}),plus:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}),upload:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"}),globe:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S12 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S12 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"}),menu:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}),trend:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),search:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),chart:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"}),badge:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),lock:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"}),copy:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"}),arrowDown:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}),arrowRight:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}),arrowUp:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"}),logout:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"}),"trending-up":M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),mail:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})};return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,className:e||"h-6 w-6",children:n[t]})},yce=({page:t,setPage:e,theme:n,setTheme:r,themeColor:i})=>{const[o,a]=R.useState(!1),u=[{name:"Home",icon:"home",label:"Home"},{name:"Market",icon:"market",label:"Market"},{name:"News",icon:"news",label:"News"},{name:"Analyzer",icon:"analyzer",label:"Analyzer"},{name:"TraderLab",icon:"lab",label:"TraderLab"},{name:"Community",icon:"community",label:"Community"}];return M.jsxs(mr.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-white/95 dark:bg-[#0a0e1a]/95 backdrop-blur-xl border-b border-gray-200 dark:border-gray-800 shadow-sm transition-colors",style:{borderBottomColor:i?`${i}20`:void 0},children:[M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex items-center justify-between h-16",children:[M.jsxs("div",{className:"flex items-center cursor-pointer gap-3",onClick:()=>e("Home"),children:[M.jsx("div",{className:"h-9 w-9 bg-gradient-to-br from-sky-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-sky-500/20",style:i?{background:i}:void 0,children:M.jsx(It,{name:"spark",className:"text-white h-5 w-5"})}),M.jsx("span",{className:"font-bold text-xl tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-400",children:"Tradesnap"})]}),M.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[u.map(c=>M.jsxs("button",{onClick:()=>e(c.name),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${t===c.name?"bg-gray-100 dark:bg-gray-800 text-sky-600 dark:text-cyan-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-900"}`,style:t===c.name&&i?{color:i,backgroundColor:`${i}10`}:void 0,children:[M.jsx(It,{name:c.icon,className:"h-4 w-4"}),c.label]},c.name)),M.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-800 mx-3"}),M.jsx("button",{onClick:()=>e("Profile"),className:"ml-3 p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:M.jsx(It,{name:"profile",className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]}),M.jsx("div",{className:"lg:hidden flex items-center gap-4",children:M.jsx("button",{onClick:()=>a(!o),className:"text-gray-600 dark:text-gray-300",children:M.jsx(It,{name:o?"close":"menu"})})})]})}),M.jsx(XO,{children:o&&M.jsx(mr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"lg:hidden bg-white dark:bg-[#0a0e1a] border-t border-gray-200 dark:border-gray-800 overflow-hidden shadow-xl",children:M.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[u.map(c=>M.jsxs("button",{onClick:()=>{e(c.name),a(!1)},className:`flex items-center gap-3 w-full px-3 py-3 rounded-md text-base font-medium ${t===c.name?"bg-sky-50 dark:bg-cyan-900/20 text-sky-600 dark:text-cyan-400":"text-gray-600 dark:text-gray-400"}`,children:[M.jsx(It,{name:c.icon}),c.label]},c.name)),M.jsxs("button",{onClick:()=>{e("Profile"),a(!1)},className:"flex items-center gap-3 w-full px-3 py-3 rounded-md text-base font-medium text-gray-600 dark:text-gray-400",children:[M.jsx(It,{name:"profile"}),"Profile"]})]})})})]})},vce=({tabs:t,active:e,onChange:n})=>M.jsx("div",{className:"flex p-1 space-x-1 bg-gray-100 dark:bg-gray-800/50 rounded-xl mb-6",children:t.map(r=>M.jsx("button",{onClick:()=>n(r.id),className:`w-full py-2.5 text-sm font-medium leading-5 rounded-lg transition-all duration-200 ${e===r.id?"bg-white dark:bg-gray-800 text-sky-600 dark:text-cyan-400 shadow":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:r.label},r.id))}),Zd=({children:t,className:e,onClick:n})=>M.jsx(mr.div,{onClick:n,className:`bg-white dark:bg-[#111625] border border-gray-200 dark:border-gray-800 rounded-xl p-6 shadow-sm hover:shadow-lg transition-all duration-300 ${e}`,children:t}),ho=({children:t,onClick:e,className:n,disabled:r,variant:i="primary"})=>{const o={primary:"bg-gradient-to-r from-gray-900 to-black dark:from-white dark:to-gray-200 text-white dark:text-black hover:opacity-90 shadow-lg",secondary:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700",outline:"border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",danger:"bg-red-600 text-white hover:bg-red-700 shadow-lg"};return M.jsx(mr.button,{whileTap:{scale:.98},onClick:e,disabled:r,className:`px-5 py-2.5 rounded-lg font-medium text-sm transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed ${o[i]} ${n}`,children:t})},Cc=({text:t,size:e="md"})=>{const n={sm:"w-4 h-4 border-2",md:"w-6 h-6 border-2",lg:"w-10 h-10 border-3"};return M.jsxs("div",{className:`flex flex-col items-center justify-center ${e==="sm"?"py-0":"py-12"}`,children:[M.jsx("div",{className:`${n[e]} border-sky-600 dark:border-cyan-400 border-t-transparent rounded-full animate-spin ${t?"mb-4":""}`}),t&&M.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t})]})},_ce=({article:t,onReadMore:e})=>{const[n,r]=R.useState(t.image),i=()=>{r("https://images.unsplash.com/photo-1611974765270-ca1258634369?auto=format&fit=crop&w=600&q=80")};return R.useEffect(()=>{t.image?r(t.image):i()},[t.image]),M.jsxs("div",{className:"group cursor-pointer flex flex-col h-full",onClick:()=>e(t.link,t.title),children:[M.jsxs("div",{className:"aspect-video rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800 mb-3 relative",children:[M.jsx("img",{src:n,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:i}),M.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-md text-white text-[10px] font-bold px-2 py-1 rounded",children:t.source.toUpperCase()})]}),M.jsx("h3",{className:"font-bold text-lg leading-snug text-gray-900 dark:text-white group-hover:text-sky-600 dark:group-hover:text-cyan-400 transition-colors line-clamp-2 mb-2",children:t.title}),M.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-auto line-clamp-2",children:t.description}),M.jsx("div",{className:"mt-3 flex items-center text-xs text-gray-400 font-medium",children:new Date(t.publishedAt).toLocaleDateString()})]})},I3=({avatar:t,className:e="h-10 w-10"})=>{const[n,r]=R.useState(!1),o=t.startsWith("data:")?t:SA[t]||t;return n||!o?M.jsx("div",{className:`bg-gray-200 dark:bg-gray-800 rounded-full flex items-center justify-center ${e}`,children:M.jsx(It,{name:"profile",className:"opacity-50"})}):M.jsx("img",{src:o,alt:"Avatar",className:`rounded-full object-cover bg-gray-100 dark:bg-gray-800 ${e}`,onError:()=>r(!0)})},nb=({children:t,onClose:e})=>M.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:e,children:M.jsx(mr.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},onClick:n=>n.stopPropagation(),className:"bg-white dark:bg-[#111625] w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden border border-gray-200 dark:border-gray-800 max-h-[90vh] overflow-y-auto",children:M.jsxs("div",{className:"p-6 relative",children:[M.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:M.jsx(It,{name:"close"})}),t]})})}),Tce=({onClose:t,onCreate:e})=>{const[n,r]=R.useState(""),[i,o]=R.useState("General"),[a,u]=R.useState("Public"),[c,d]=R.useState(""),h=()=>{if(n){if(a==="Private"&&!c){alert("Password required for private groups");return}e({name:n,topic:i,type:a,isPrivate:a==="Private",password:c})}};return M.jsxs(nb,{onClose:t,children:[M.jsx("h2",{className:"text-xl font-bold mb-6",children:"Create New Group"}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"NAME"}),M.jsx("input",{className:"w-full bg-gray-100 dark:bg-gray-800 p-3 rounded-lg outline-none",value:n,onChange:m=>r(m.target.value),placeholder:"e.g. Bitcoin Bulls"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"TOPIC"}),M.jsxs("select",{className:"w-full bg-gray-100 dark:bg-gray-800 p-3 rounded-lg outline-none",value:i,onChange:m=>o(m.target.value),children:[M.jsx("option",{children:"General"}),M.jsx("option",{children:"Market Structure"}),M.jsx("option",{children:"Liquidity"}),M.jsx("option",{children:"Psychology"}),M.jsx("option",{children:"Crypto"}),M.jsx("option",{children:"Forex"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"TYPE"}),M.jsx("div",{className:"flex gap-4",children:["Public","Private"].map(m=>M.jsx("button",{onClick:()=>u(m),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${a===m?"bg-sky-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:m},m))})]}),a==="Private"&&M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"PASSWORD"}),M.jsx("input",{type:"password",className:"w-full bg-gray-100 dark:bg-gray-800 p-3 rounded-lg outline-none border border-sky-500/50",placeholder:"Set Group Password",value:c,onChange:m=>d(m.target.value)})]}),M.jsx(ho,{className:"w-full mt-4",onClick:h,children:"Create Group"})]})]})},Ece=({current:t,onChange:e})=>{const n=["#0ea5e9","#10b981","#8b5cf6","#f59e0b","#ef4444","#ec4899"];return M.jsx("div",{className:"flex gap-3 flex-wrap",children:n.map(r=>M.jsx("button",{onClick:()=>e(r),className:`w-8 h-8 rounded-full shadow-md transition-transform hover:scale-110 ${t===r?"ring-2 ring-offset-2 ring-offset-white dark:ring-offset-gray-900 ring-gray-400":""}`,style:{backgroundColor:r}},r))})},Ace=()=>{};var Tk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sce=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},P3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=o>>2,m=(o&3)<<4|u>>4;let y=(u&15)<<2|d>>6,A=d&63;c||(A=64,a||(y=64)),r.push(n[h],n[m],n[y],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sce(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||m==null)throw new wce;const y=o<<2|u>>4;if(r.push(y),d!==64){const A=u<<4&240|d>>2;if(r.push(A),m!==64){const S=d<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bce=function(t){const e=R3(t);return P3.encodeByteArray(e,!0)},Yg=function(t){return bce(t).replace(/\./g,"")},M3=function(t){try{return P3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=()=>Cce().__FIREBASE_DEFAULTS__,Ice=()=>{if(typeof process>"u"||typeof Tk>"u")return;const t=Tk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rce=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M3(t[1]);return e&&JSON.parse(e)},tv=()=>{try{return Ace()||xce()||Ice()||Rce()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N3=t=>{var e,n;return(n=(e=tv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},D3=t=>{const e=N3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},k3=()=>{var t;return(t=tv())==null?void 0:t.config},O3=t=>{var e;return(e=tv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yg(JSON.stringify(n)),Yg(JSON.stringify(a)),""].join(".")}const Pd={};function Mce(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pd))Pd[e]?t.emulator.push(e):t.prod.push(e);return t}function Nce(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ek=!1;function ib(t,e){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||Pd[t]===e||Pd[t]||Ek)return;Pd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=Mce().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,A){y.setAttribute("width","24"),y.setAttribute("id",A),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Ek=!0,a()},y}function h(y,A){y.setAttribute("id",A),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=Nce(r),A=n("text"),S=document.getElementById(A)||document.createElement("span"),b=n("learnmore"),x=document.getElementById(b)||document.createElement("a"),N=n("preprendIcon"),B=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const k=y.element;u(k),h(x,b);const H=d();c(B,N),k.append(B,S,x,H),document.body.appendChild(k)}o?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function kce(){var e;const t=(e=tv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Oce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lce(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uce(){const t=Yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fce(){return!kce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bce(){try{return typeof indexedDB=="object"}catch{return!1}}function qce(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce="FirebaseError";class yo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zce,Object.setPrototypeOf(this,yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ph.prototype.create)}}class Ph{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Hce(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new yo(i,u,r)}}function Hce(t,e){return t.replace(Gce,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Gce=/\{\$([^}]+)}/g;function $ce(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _a(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(Ak(o)&&Ak(a)){if(!_a(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ak(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Kce(t,e){const n=new jce(t,e);return n.subscribe.bind(n)}class jce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yce(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=QT),i.error===void 0&&(i.error=QT),i.complete===void 0&&(i.complete=QT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yce(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function QT(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t){return t&&t._delegate?t._delegate:t}class Ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pce;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xce(e))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=El){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=El){return this.instances.has(e)}getOptions(e=El){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jce(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=El){return this.component?this.component.multipleInstances?e:El:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jce(t){return t===El?void 0:t}function Xce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const Zce={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},efe=We.INFO,tfe={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},nfe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tfe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ob{constructor(e){this.name=e,this._logLevel=efe,this._logHandler=nfe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const rfe=(t,e)=>e.some(n=>t instanceof n);let Sk,wk;function ife(){return Sk||(Sk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ofe(){return wk||(wk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V3=new WeakMap,wA=new WeakMap,U3=new WeakMap,ZT=new WeakMap,sb=new WeakMap;function sfe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ua(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&V3.set(n,t)}).catch(()=>{}),sb.set(e,t),e}function afe(t){if(wA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});wA.set(t,e)}let bA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||U3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lfe(t){bA=t(bA)}function ufe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(eE(this),e,...n);return U3.set(r,e.sort?e.sort():[e]),ua(r)}:ofe().includes(t)?function(...e){return t.apply(eE(this),e),ua(V3.get(this))}:function(...e){return ua(t.apply(eE(this),e))}}function cfe(t){return typeof t=="function"?ufe(t):(t instanceof IDBTransaction&&afe(t),rfe(t,ife())?new Proxy(t,bA):t)}function ua(t){if(t instanceof IDBRequest)return sfe(t);if(ZT.has(t))return ZT.get(t);const e=cfe(t);return e!==t&&(ZT.set(t,e),sb.set(e,t)),e}const eE=t=>sb.get(t);function ffe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=ua(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ua(a.result),c.oldVersion,c.newVersion,ua(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const dfe=["get","getKey","getAll","getAllKeys","count"],hfe=["put","add","delete","clear"],tE=new Map;function bk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tE.get(e))return tE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dfe.includes(n)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return tE.set(e,o),o}lfe(t=>({...t,get:(e,n,r)=>bk(e,n)||t.get(e,n,r),has:(e,n)=>!!bk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mfe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mfe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const CA="@firebase/app",Ck="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new ob("@firebase/app"),gfe="@firebase/app-compat",yfe="@firebase/analytics-compat",vfe="@firebase/analytics",_fe="@firebase/app-check-compat",Tfe="@firebase/app-check",Efe="@firebase/auth",Afe="@firebase/auth-compat",Sfe="@firebase/database",wfe="@firebase/data-connect",bfe="@firebase/database-compat",Cfe="@firebase/functions",xfe="@firebase/functions-compat",Ife="@firebase/installations",Rfe="@firebase/installations-compat",Pfe="@firebase/messaging",Mfe="@firebase/messaging-compat",Nfe="@firebase/performance",Dfe="@firebase/performance-compat",kfe="@firebase/remote-config",Ofe="@firebase/remote-config-compat",Lfe="@firebase/storage",Vfe="@firebase/storage-compat",Ufe="@firebase/firestore",Ffe="@firebase/ai",Bfe="@firebase/firestore-compat",qfe="firebase",zfe="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="[DEFAULT]",Hfe={[CA]:"fire-core",[gfe]:"fire-core-compat",[vfe]:"fire-analytics",[yfe]:"fire-analytics-compat",[Tfe]:"fire-app-check",[_fe]:"fire-app-check-compat",[Efe]:"fire-auth",[Afe]:"fire-auth-compat",[Sfe]:"fire-rtdb",[wfe]:"fire-data-connect",[bfe]:"fire-rtdb-compat",[Cfe]:"fire-fn",[xfe]:"fire-fn-compat",[Ife]:"fire-iid",[Rfe]:"fire-iid-compat",[Pfe]:"fire-fcm",[Mfe]:"fire-fcm-compat",[Nfe]:"fire-perf",[Dfe]:"fire-perf-compat",[kfe]:"fire-rc",[Ofe]:"fire-rc-compat",[Lfe]:"fire-gcs",[Vfe]:"fire-gcs-compat",[Ufe]:"fire-fst",[Bfe]:"fire-fst-compat",[Ffe]:"fire-vertex","fire-js":"fire-js",[qfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map,Gfe=new Map,IA=new Map;function xk(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hl(t){const e=t.name;if(IA.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;IA.set(e,t);for(const n of Wg.values())xk(n,t);for(const n of Gfe.values())xk(n,t);return!0}function nv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Ph("app","Firebase",$fe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kfe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=zfe;function F3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xA,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ca.create("bad-app-name",{appName:String(i)});if(n||(n=k3()),!n)throw ca.create("no-options");const o=Wg.get(i);if(o){if(_a(n,o.options)&&_a(r,o.config))return o;throw ca.create("duplicate-app",{appName:i})}const a=new Qce(i);for(const c of IA.values())a.addComponent(c);const u=new Kfe(n,r,a);return Wg.set(i,u),u}function ab(t=xA){const e=Wg.get(t);if(!e&&t===xA&&k3())return F3();if(!e)throw ca.create("no-app",{appName:t});return e}function to(t,e,n){let r=Hfe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(a.join(" "));return}Hl(new Ta(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jfe="firebase-heartbeat-database",Yfe=1,eh="firebase-heartbeat-store";let nE=null;function B3(){return nE||(nE=ffe(jfe,Yfe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ca.create("idb-open",{originalErrorMessage:t.message})})),nE}async function Wfe(t){try{const n=(await B3()).transaction(eh),r=await n.objectStore(eh).get(q3(t));return await n.done,r}catch(e){if(e instanceof yo)is.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(n.message)}}}async function Ik(t,e){try{const r=(await B3()).transaction(eh,"readwrite");await r.objectStore(eh).put(e,q3(t)),await r.done}catch(n){if(n instanceof yo)is.warn(n.message);else{const r=ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});is.warn(r.message)}}}function q3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jfe=1024,Xfe=30;class Qfe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ede(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Rk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Xfe){const a=tde(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rk(),{heartbeatsToSend:r,unsentEntries:i}=Zfe(this._heartbeatsCache.heartbeats),o=Yg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return is.warn(n),""}}}function Rk(){return new Date().toISOString().substring(0,10)}function Zfe(t,e=Jfe){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Pk(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ede{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bce()?qce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Wfe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ik(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ik(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Pk(t){return Yg(JSON.stringify({version:2,heartbeats:t})).length}function tde(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nde(t){Hl(new Ta("platform-logger",e=>new pfe(e),"PRIVATE")),Hl(new Ta("heartbeat",e=>new Qfe(e),"PRIVATE")),to(CA,Ck,t),to(CA,Ck,"esm2020"),to("fire-js","")}nde("");var Mk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fa,z3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,D){function L(){}L.prototype=D.prototype,P.F=D.prototype,P.prototype=new L,P.prototype.constructor=P,P.D=function(z,U,$){for(var q=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)q[Ce-2]=arguments[Ce];return D.prototype[U].apply(z,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,D,L){L||(L=0);const z=Array(16);if(typeof D=="string")for(var U=0;U<16;++U)z[U]=D.charCodeAt(L++)|D.charCodeAt(L++)<<8|D.charCodeAt(L++)<<16|D.charCodeAt(L++)<<24;else for(U=0;U<16;++U)z[U]=D[L++]|D[L++]<<8|D[L++]<<16|D[L++]<<24;D=P.g[0],L=P.g[1],U=P.g[2];let $=P.g[3],q;q=D+($^L&(U^$))+z[0]+3614090360&4294967295,D=L+(q<<7&4294967295|q>>>25),q=$+(U^D&(L^U))+z[1]+3905402710&4294967295,$=D+(q<<12&4294967295|q>>>20),q=U+(L^$&(D^L))+z[2]+606105819&4294967295,U=$+(q<<17&4294967295|q>>>15),q=L+(D^U&($^D))+z[3]+3250441966&4294967295,L=U+(q<<22&4294967295|q>>>10),q=D+($^L&(U^$))+z[4]+4118548399&4294967295,D=L+(q<<7&4294967295|q>>>25),q=$+(U^D&(L^U))+z[5]+1200080426&4294967295,$=D+(q<<12&4294967295|q>>>20),q=U+(L^$&(D^L))+z[6]+2821735955&4294967295,U=$+(q<<17&4294967295|q>>>15),q=L+(D^U&($^D))+z[7]+4249261313&4294967295,L=U+(q<<22&4294967295|q>>>10),q=D+($^L&(U^$))+z[8]+1770035416&4294967295,D=L+(q<<7&4294967295|q>>>25),q=$+(U^D&(L^U))+z[9]+2336552879&4294967295,$=D+(q<<12&4294967295|q>>>20),q=U+(L^$&(D^L))+z[10]+4294925233&4294967295,U=$+(q<<17&4294967295|q>>>15),q=L+(D^U&($^D))+z[11]+2304563134&4294967295,L=U+(q<<22&4294967295|q>>>10),q=D+($^L&(U^$))+z[12]+1804603682&4294967295,D=L+(q<<7&4294967295|q>>>25),q=$+(U^D&(L^U))+z[13]+4254626195&4294967295,$=D+(q<<12&4294967295|q>>>20),q=U+(L^$&(D^L))+z[14]+2792965006&4294967295,U=$+(q<<17&4294967295|q>>>15),q=L+(D^U&($^D))+z[15]+1236535329&4294967295,L=U+(q<<22&4294967295|q>>>10),q=D+(U^$&(L^U))+z[1]+4129170786&4294967295,D=L+(q<<5&4294967295|q>>>27),q=$+(L^U&(D^L))+z[6]+3225465664&4294967295,$=D+(q<<9&4294967295|q>>>23),q=U+(D^L&($^D))+z[11]+643717713&4294967295,U=$+(q<<14&4294967295|q>>>18),q=L+($^D&(U^$))+z[0]+3921069994&4294967295,L=U+(q<<20&4294967295|q>>>12),q=D+(U^$&(L^U))+z[5]+3593408605&4294967295,D=L+(q<<5&4294967295|q>>>27),q=$+(L^U&(D^L))+z[10]+38016083&4294967295,$=D+(q<<9&4294967295|q>>>23),q=U+(D^L&($^D))+z[15]+3634488961&4294967295,U=$+(q<<14&4294967295|q>>>18),q=L+($^D&(U^$))+z[4]+3889429448&4294967295,L=U+(q<<20&4294967295|q>>>12),q=D+(U^$&(L^U))+z[9]+568446438&4294967295,D=L+(q<<5&4294967295|q>>>27),q=$+(L^U&(D^L))+z[14]+3275163606&4294967295,$=D+(q<<9&4294967295|q>>>23),q=U+(D^L&($^D))+z[3]+4107603335&4294967295,U=$+(q<<14&4294967295|q>>>18),q=L+($^D&(U^$))+z[8]+1163531501&4294967295,L=U+(q<<20&4294967295|q>>>12),q=D+(U^$&(L^U))+z[13]+2850285829&4294967295,D=L+(q<<5&4294967295|q>>>27),q=$+(L^U&(D^L))+z[2]+4243563512&4294967295,$=D+(q<<9&4294967295|q>>>23),q=U+(D^L&($^D))+z[7]+1735328473&4294967295,U=$+(q<<14&4294967295|q>>>18),q=L+($^D&(U^$))+z[12]+2368359562&4294967295,L=U+(q<<20&4294967295|q>>>12),q=D+(L^U^$)+z[5]+4294588738&4294967295,D=L+(q<<4&4294967295|q>>>28),q=$+(D^L^U)+z[8]+2272392833&4294967295,$=D+(q<<11&4294967295|q>>>21),q=U+($^D^L)+z[11]+1839030562&4294967295,U=$+(q<<16&4294967295|q>>>16),q=L+(U^$^D)+z[14]+4259657740&4294967295,L=U+(q<<23&4294967295|q>>>9),q=D+(L^U^$)+z[1]+2763975236&4294967295,D=L+(q<<4&4294967295|q>>>28),q=$+(D^L^U)+z[4]+1272893353&4294967295,$=D+(q<<11&4294967295|q>>>21),q=U+($^D^L)+z[7]+4139469664&4294967295,U=$+(q<<16&4294967295|q>>>16),q=L+(U^$^D)+z[10]+3200236656&4294967295,L=U+(q<<23&4294967295|q>>>9),q=D+(L^U^$)+z[13]+681279174&4294967295,D=L+(q<<4&4294967295|q>>>28),q=$+(D^L^U)+z[0]+3936430074&4294967295,$=D+(q<<11&4294967295|q>>>21),q=U+($^D^L)+z[3]+3572445317&4294967295,U=$+(q<<16&4294967295|q>>>16),q=L+(U^$^D)+z[6]+76029189&4294967295,L=U+(q<<23&4294967295|q>>>9),q=D+(L^U^$)+z[9]+3654602809&4294967295,D=L+(q<<4&4294967295|q>>>28),q=$+(D^L^U)+z[12]+3873151461&4294967295,$=D+(q<<11&4294967295|q>>>21),q=U+($^D^L)+z[15]+530742520&4294967295,U=$+(q<<16&4294967295|q>>>16),q=L+(U^$^D)+z[2]+3299628645&4294967295,L=U+(q<<23&4294967295|q>>>9),q=D+(U^(L|~$))+z[0]+4096336452&4294967295,D=L+(q<<6&4294967295|q>>>26),q=$+(L^(D|~U))+z[7]+1126891415&4294967295,$=D+(q<<10&4294967295|q>>>22),q=U+(D^($|~L))+z[14]+2878612391&4294967295,U=$+(q<<15&4294967295|q>>>17),q=L+($^(U|~D))+z[5]+4237533241&4294967295,L=U+(q<<21&4294967295|q>>>11),q=D+(U^(L|~$))+z[12]+1700485571&4294967295,D=L+(q<<6&4294967295|q>>>26),q=$+(L^(D|~U))+z[3]+2399980690&4294967295,$=D+(q<<10&4294967295|q>>>22),q=U+(D^($|~L))+z[10]+4293915773&4294967295,U=$+(q<<15&4294967295|q>>>17),q=L+($^(U|~D))+z[1]+2240044497&4294967295,L=U+(q<<21&4294967295|q>>>11),q=D+(U^(L|~$))+z[8]+1873313359&4294967295,D=L+(q<<6&4294967295|q>>>26),q=$+(L^(D|~U))+z[15]+4264355552&4294967295,$=D+(q<<10&4294967295|q>>>22),q=U+(D^($|~L))+z[6]+2734768916&4294967295,U=$+(q<<15&4294967295|q>>>17),q=L+($^(U|~D))+z[13]+1309151649&4294967295,L=U+(q<<21&4294967295|q>>>11),q=D+(U^(L|~$))+z[4]+4149444226&4294967295,D=L+(q<<6&4294967295|q>>>26),q=$+(L^(D|~U))+z[11]+3174756917&4294967295,$=D+(q<<10&4294967295|q>>>22),q=U+(D^($|~L))+z[2]+718787259&4294967295,U=$+(q<<15&4294967295|q>>>17),q=L+($^(U|~D))+z[9]+3951481745&4294967295,P.g[0]=P.g[0]+D&4294967295,P.g[1]=P.g[1]+(U+(q<<21&4294967295|q>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.v=function(P,D){D===void 0&&(D=P.length);const L=D-this.blockSize,z=this.C;let U=this.h,$=0;for(;$<D;){if(U==0)for(;$<=L;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<D;)if(z[U++]=P.charCodeAt($++),U==this.blockSize){i(this,z),U=0;break}}else for(;$<D;)if(z[U++]=P[$++],U==this.blockSize){i(this,z),U=0;break}}this.h=U,this.o+=D},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var D=1;D<P.length-8;++D)P[D]=0;D=this.o*8;for(var L=P.length-8;L<P.length;++L)P[L]=D&255,D/=256;for(this.v(P),P=Array(16),D=0,L=0;L<4;++L)for(let z=0;z<32;z+=8)P[D++]=this.g[L]>>>z&255;return P};function o(P,D){var L=u;return Object.prototype.hasOwnProperty.call(L,P)?L[P]:L[P]=D(P)}function a(P,D){this.h=D;const L=[];let z=!0;for(let U=P.length-1;U>=0;U--){const $=P[U]|0;z&&$==D||(L[U]=$,z=!1)}this.g=L}var u={};function c(P){return-128<=P&&P<128?o(P,function(D){return new a([D|0],D<0?-1:0)}):new a([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return x(d(-P));const D=[];let L=1;for(let z=0;P>=L;z++)D[z]=P/L|0,L*=4294967296;return new a(D,0)}function h(P,D){if(P.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(P.charAt(0)=="-")return x(h(P.substring(1),D));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=d(Math.pow(D,8));let z=m;for(let $=0;$<P.length;$+=8){var U=Math.min(8,P.length-$);const q=parseInt(P.substring($,$+U),D);U<8?(U=d(Math.pow(D,U)),z=z.j(U).add(d(q))):(z=z.j(L),z=z.add(d(q)))}return z}var m=c(0),y=c(1),A=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-x(this).m();let P=0,D=1;for(let L=0;L<this.g.length;L++){const z=this.i(L);P+=(z>=0?z:4294967296+z)*D,D*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(b(this))return"-"+x(this).toString(P);const D=d(Math.pow(P,6));var L=this;let z="";for(;;){const U=H(L,D).g;L=N(L,U.j(D));let $=((L.g.length>0?L.g[0]:L.h)>>>0).toString(P);if(L=U,S(L))return $+z;for(;$.length<6;)$="0"+$;z=$+z}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(let D=0;D<P.g.length;D++)if(P.g[D]!=0)return!1;return!0}function b(P){return P.h==-1}t.l=function(P){return P=N(this,P),b(P)?-1:S(P)?0:1};function x(P){const D=P.g.length,L=[];for(let z=0;z<D;z++)L[z]=~P.g[z];return new a(L,~P.h).add(y)}t.abs=function(){return b(this)?x(this):this},t.add=function(P){const D=Math.max(this.g.length,P.g.length),L=[];let z=0;for(let U=0;U<=D;U++){let $=z+(this.i(U)&65535)+(P.i(U)&65535),q=($>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);z=q>>>16,$&=65535,q&=65535,L[U]=q<<16|$}return new a(L,L[L.length-1]&-2147483648?-1:0)};function N(P,D){return P.add(x(D))}t.j=function(P){if(S(this)||S(P))return m;if(b(this))return b(P)?x(this).j(x(P)):x(x(this).j(P));if(b(P))return x(this.j(x(P)));if(this.l(A)<0&&P.l(A)<0)return d(this.m()*P.m());const D=this.g.length+P.g.length,L=[];for(var z=0;z<2*D;z++)L[z]=0;for(z=0;z<this.g.length;z++)for(let U=0;U<P.g.length;U++){const $=this.i(z)>>>16,q=this.i(z)&65535,Ce=P.i(U)>>>16,qe=P.i(U)&65535;L[2*z+2*U]+=q*qe,B(L,2*z+2*U),L[2*z+2*U+1]+=$*qe,B(L,2*z+2*U+1),L[2*z+2*U+1]+=q*Ce,B(L,2*z+2*U+1),L[2*z+2*U+2]+=$*Ce,B(L,2*z+2*U+2)}for(P=0;P<D;P++)L[P]=L[2*P+1]<<16|L[2*P];for(P=D;P<2*D;P++)L[P]=0;return new a(L,0)};function B(P,D){for(;(P[D]&65535)!=P[D];)P[D+1]+=P[D]>>>16,P[D]&=65535,D++}function k(P,D){this.g=P,this.h=D}function H(P,D){if(S(D))throw Error("division by zero");if(S(P))return new k(m,m);if(b(P))return D=H(x(P),D),new k(x(D.g),x(D.h));if(b(D))return D=H(P,x(D)),new k(x(D.g),D.h);if(P.g.length>30){if(b(P)||b(D))throw Error("slowDivide_ only works with positive integers.");for(var L=y,z=D;z.l(P)<=0;)L=F(L),z=F(z);var U=G(L,1),$=G(z,1);for(z=G(z,2),L=G(L,2);!S(z);){var q=$.add(z);q.l(P)<=0&&(U=U.add(L),$=q),z=G(z,1),L=G(L,1)}return D=N(P,U.j(D)),new k(U,D)}for(U=m;P.l(D)>=0;){for(L=Math.max(1,Math.floor(P.m()/D.m())),z=Math.ceil(Math.log(L)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),$=d(L),q=$.j(D);b(q)||q.l(P)>0;)L-=z,$=d(L),q=$.j(D);S($)&&($=y),U=U.add($),P=N(P,q)}return new k(U,P)}t.B=function(P){return H(this,P).h},t.and=function(P){const D=Math.max(this.g.length,P.g.length),L=[];for(let z=0;z<D;z++)L[z]=this.i(z)&P.i(z);return new a(L,this.h&P.h)},t.or=function(P){const D=Math.max(this.g.length,P.g.length),L=[];for(let z=0;z<D;z++)L[z]=this.i(z)|P.i(z);return new a(L,this.h|P.h)},t.xor=function(P){const D=Math.max(this.g.length,P.g.length),L=[];for(let z=0;z<D;z++)L[z]=this.i(z)^P.i(z);return new a(L,this.h^P.h)};function F(P){const D=P.g.length+1,L=[];for(let z=0;z<D;z++)L[z]=P.i(z)<<1|P.i(z-1)>>>31;return new a(L,P.h)}function G(P,D){const L=D>>5;D%=32;const z=P.g.length-L,U=[];for(let $=0;$<z;$++)U[$]=D>0?P.i($+L)>>>D|P.i($+L+1)<<32-D:P.i($+L);return new a(U,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,z3=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,fa=a}).apply(typeof Mk<"u"?Mk:typeof self<"u"?self:typeof window<"u"?window:{});var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H3,_d,G3,Ym,RA,$3,K3,j3;(function(){var t,e=Object.defineProperty;function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nm=="object"&&Nm];for(var w=0;w<_.length;++w){var I=_[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(_,w){if(w)e:{var I=r;_=_.split(".");for(var V=0;V<_.length-1;V++){var J=_[V];if(!(J in I))break e;I=I[J]}_=_[_.length-1],V=I[_],w=w(V),w!=V&&w!=null&&e(I,_,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(w){var I=[],V;for(V in w)Object.prototype.hasOwnProperty.call(w,V)&&I.push([V,w[V]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(_){var w=typeof _;return w=="object"&&_!=null||w=="function"}function c(_,w,I){return _.call.apply(_.bind,arguments)}function d(_,w,I){return d=c,d.apply(null,arguments)}function h(_,w){var I=Array.prototype.slice.call(arguments,1);return function(){var V=I.slice();return V.push.apply(V,arguments),_.apply(this,V)}}function m(_,w){function I(){}I.prototype=w.prototype,_.Z=w.prototype,_.prototype=new I,_.prototype.constructor=_,_.Ob=function(V,J,te){for(var pe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)pe[Ue-2]=arguments[Ue];return w.prototype[J].apply(V,pe)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function A(_){const w=_.length;if(w>0){const I=Array(w);for(let V=0;V<w;V++)I[V]=_[V];return I}return[]}function S(_,w){for(let V=1;V<arguments.length;V++){const J=arguments[V];var I=typeof J;if(I=I!="object"?I:J?Array.isArray(J)?"array":I:"null",I=="array"||I=="object"&&typeof J.length=="number"){I=_.length||0;const te=J.length||0;_.length=I+te;for(let pe=0;pe<te;pe++)_[I+pe]=J[pe]}else _.push(J)}}class b{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function x(_){a.setTimeout(()=>{throw _},0)}function N(){var _=P;let w=null;return _.g&&(w=_.g,_.g=_.g.next,_.g||(_.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,I){const V=k.get();V.set(w,I),this.h?this.h.next=V:this.g=V,this.h=V}}var k=new b(()=>new H,_=>_.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let F,G=!1,P=new B,D=()=>{const _=Promise.resolve(void 0);F=()=>{_.then(L)}};function L(){for(var _;_=N();){try{_.h.call(_.g)}catch(I){x(I)}var w=k;w.j(_),w.h<100&&(w.h++,_.next=w.g,w.g=_)}G=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(_,w){this.type=_,this.g=this.target=w,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var _=!1,w=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const I=()=>{};a.addEventListener("test",I,w),a.removeEventListener("test",I,w)}catch{}return _})();function q(_){return/^[\s\xa0]*$/.test(_)}function Ce(_,w){U.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,w)}m(Ce,U),Ce.prototype.init=function(_,w){const I=this.type=_.type,V=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=w,w=_.relatedTarget,w||(I=="mouseover"?w=_.fromElement:I=="mouseout"&&(w=_.toElement)),this.relatedTarget=w,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var qe="closure_listenable_"+(Math.random()*1e6|0),ee=0;function ce(_,w,I,V,J){this.listener=_,this.proxy=null,this.src=w,this.type=I,this.capture=!!V,this.ha=J,this.key=++ee,this.da=this.fa=!1}function he(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Ee(_,w,I){for(const V in _)w.call(I,_[V],V,_)}function Ve(_,w){for(const I in _)w.call(void 0,_[I],I,_)}function j(_){const w={};for(const I in _)w[I]=_[I];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(_,w){let I,V;for(let J=1;J<arguments.length;J++){V=arguments[J];for(I in V)_[I]=V[I];for(let te=0;te<ae.length;te++)I=ae[te],Object.prototype.hasOwnProperty.call(V,I)&&(_[I]=V[I])}}function ve(_){this.src=_,this.g={},this.h=0}ve.prototype.add=function(_,w,I,V,J){const te=_.toString();_=this.g[te],_||(_=this.g[te]=[],this.h++);const pe=Ne(_,w,V,J);return pe>-1?(w=_[pe],I||(w.fa=!1)):(w=new ce(w,this.src,te,!!V,J),w.fa=I,_.push(w)),w};function Ie(_,w){const I=w.type;if(I in _.g){var V=_.g[I],J=Array.prototype.indexOf.call(V,w,void 0),te;(te=J>=0)&&Array.prototype.splice.call(V,J,1),te&&(he(w),_.g[I].length==0&&(delete _.g[I],_.h--))}}function Ne(_,w,I,V){for(let J=0;J<_.length;++J){const te=_[J];if(!te.da&&te.listener==w&&te.capture==!!I&&te.ha==V)return J}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Mt={};function oe(_,w,I,V,J){if(Array.isArray(w)){for(let te=0;te<w.length;te++)oe(_,w[te],I,V,J);return null}return I=ys(I),_&&_[qe]?_.J(w,I,u(V)?!!V.capture:!1,J):ke(_,w,I,!1,V,J)}function ke(_,w,I,V,J,te){if(!w)throw Error("Invalid event type");const pe=u(J)?!!J.capture:!!J;let Ue=qt(_);if(Ue||(_[He]=Ue=new ve(_)),I=Ue.add(w,I,V,pe,te),I.proxy)return I;if(V=ze(),I.proxy=V,V.src=_,V.listener=I,_.addEventListener)$||(J=pe),J===void 0&&(J=!1),_.addEventListener(w.toString(),V,J);else if(_.attachEvent)_.attachEvent(Ge(w.toString()),V);else if(_.addListener&&_.removeListener)_.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ze(){function _(I){return w.call(_.src,_.listener,I)}const w=fn;return _}function de(_,w,I,V,J){if(Array.isArray(w))for(var te=0;te<w.length;te++)de(_,w[te],I,V,J);else V=u(V)?!!V.capture:!!V,I=ys(I),_&&_[qe]?(_=_.i,te=String(w).toString(),te in _.g&&(w=_.g[te],I=Ne(w,I,V,J),I>-1&&(he(w[I]),Array.prototype.splice.call(w,I,1),w.length==0&&(delete _.g[te],_.h--)))):_&&(_=qt(_))&&(w=_.g[w.toString()],_=-1,w&&(_=Ne(w,I,V,J)),(I=_>-1?w[_]:null)&&Bt(I))}function Bt(_){if(typeof _!="number"&&_&&!_.da){var w=_.src;if(w&&w[qe])Ie(w.i,_);else{var I=_.type,V=_.proxy;w.removeEventListener?w.removeEventListener(I,V,_.capture):w.detachEvent?w.detachEvent(Ge(I),V):w.addListener&&w.removeListener&&w.removeListener(V),(I=qt(w))?(Ie(I,_),I.h==0&&(I.src=null,w[He]=null)):he(_)}}}function Ge(_){return _ in Mt?Mt[_]:Mt[_]="on"+_}function fn(_,w){if(_.da)_=!0;else{w=new Ce(w,this);const I=_.listener,V=_.ha||_.src;_.fa&&Bt(_),_=I.call(V,w)}return _}function qt(_){return _=_[He],_ instanceof ve?_:null}var vr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(_){return typeof _=="function"?_:(_[vr]||(_[vr]=function(w){return _.handleEvent(w)}),_[vr])}function Wt(){z.call(this),this.i=new ve(this),this.M=this,this.G=null}m(Wt,z),Wt.prototype[qe]=!0,Wt.prototype.removeEventListener=function(_,w,I,V){de(this,_,w,I,V)};function dn(_,w){var I,V=_.G;if(V)for(I=[];V;V=V.G)I.push(V);if(_=_.M,V=w.type||w,typeof w=="string")w=new U(w,_);else if(w instanceof U)w.target=w.target||_;else{var J=w;w=new U(V,_),me(w,J)}J=!0;let te,pe;if(I)for(pe=I.length-1;pe>=0;pe--)te=w.g=I[pe],J=vs(te,V,!0,w)&&J;if(te=w.g=_,J=vs(te,V,!0,w)&&J,J=vs(te,V,!1,w)&&J,I)for(pe=0;pe<I.length;pe++)te=w.g=I[pe],J=vs(te,V,!1,w)&&J}Wt.prototype.N=function(){if(Wt.Z.N.call(this),this.i){var _=this.i;for(const w in _.g){const I=_.g[w];for(let V=0;V<I.length;V++)he(I[V]);delete _.g[w],_.h--}}this.G=null},Wt.prototype.J=function(_,w,I,V){return this.i.add(String(_),w,!1,I,V)},Wt.prototype.K=function(_,w,I,V){return this.i.add(String(_),w,!0,I,V)};function vs(_,w,I,V){if(w=_.i.g[String(w)],!w)return!0;w=w.concat();let J=!0;for(let te=0;te<w.length;++te){const pe=w[te];if(pe&&!pe.da&&pe.capture==I){const Ue=pe.listener,Ht=pe.ha||pe.src;pe.fa&&Ie(_.i,pe),J=Ue.call(Ht,V)!==!1&&J}}return J&&!V.defaultPrevented}function xv(_,w){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=d(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:a.setTimeout(_,w||0)}function Hh(_){_.g=xv(()=>{_.g=null,_.i&&(_.i=!1,Hh(_))},_.l);const w=_.h;_.h=null,_.m.apply(null,w)}class Xn extends z{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Hh(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(_){z.call(this),this.h=_,this.g={}}m(Ba,z);var nf=[];function rf(_){Ee(_.g,function(w,I){this.g.hasOwnProperty(I)&&Bt(w)},_),_.g={}}Ba.prototype.N=function(){Ba.Z.N.call(this),rf(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=a.JSON.stringify,Iv=a.JSON.parse,Gh=class{stringify(_){return a.JSON.stringify(_,void 0)}parse(_){return a.JSON.parse(_,void 0)}};function $h(){}function Kh(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function In(){U.call(this,"d")}m(In,U);function Lr(){U.call(this,"c")}m(Lr,U);var zt={},jh=null;function ru(){return jh=jh||new Wt}zt.Ia="serverreachability";function Yh(_){U.call(this,zt.Ia,_)}m(Yh,U);function Ri(_){const w=ru();dn(w,new Yh(w))}zt.STAT_EVENT="statevent";function qa(_,w){U.call(this,zt.STAT_EVENT,_),this.stat=w}m(qa,U);function Jt(_){const w=ru();dn(w,new qa(w,_))}zt.Ja="timingevent";function Pi(_,w){U.call(this,zt.Ja,_),this.size=w}m(Pi,U);function Mi(_,w){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){_()},w)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function Rv(_,w,I,V,J,te){_.info(function(){if(_.g)if(te){var pe="",Ue=te.split("&");for(let st=0;st<Ue.length;st++){var Ht=Ue[st].split("=");if(Ht.length>1){const Ct=Ht[0];Ht=Ht[1];const Br=Ct.split("_");pe=Br.length>=2&&Br[1]=="type"?pe+(Ct+"="+Ht+"&"):pe+(Ct+"=redacted&")}}}else pe=null;else pe=te;return"XMLHTTP REQ ("+V+") [attempt "+J+"]: "+w+`
`+I+`
`+pe})}function Wh(_,w,I,V,J,te,pe){_.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+J+"]: "+w+`
`+I+`
`+te+" "+pe})}function Ni(_,w,I,V){_.info(function(){return"XMLHTTP TEXT ("+w+"): "+Pv(_,I)+(V?" "+V:"")})}function za(_,w){_.info(function(){return"TIMEOUT: "+w})}ui.prototype.info=function(){};function Pv(_,w){if(!_.g)return w;if(!w)return null;try{const te=JSON.parse(w);if(te){for(_=0;_<te.length;_++)if(Array.isArray(te[_])){var I=te[_];if(!(I.length<2)){var V=I[1];if(Array.isArray(V)&&!(V.length<1)){var J=V[0];if(J!="noop"&&J!="stop"&&J!="close")for(let pe=1;pe<V.length;pe++)V[pe]=""}}}}return _s(te)}catch{return w}}var Ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},of={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sf;function Ga(){}m(Ga,$h),Ga.prototype.g=function(){return new XMLHttpRequest},sf=new Ga;function _o(_){return encodeURIComponent(String(_))}function Jh(_){var w=1;_=_.split(":");const I=[];for(;w>0&&_.length;)I.push(_.shift()),w--;return _.length&&I.push(_.join(":")),I}function ci(_,w,I,V){this.j=_,this.i=w,this.l=I,this.S=V||1,this.V=new Ba(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Xt={},En={};function Di(_,w,I){_.M=1,_.A=$a(Zt(w)),_.u=I,_.R=!0,iu(_,null)}function iu(_,w){_.F=Date.now(),ki(_),_.B=Zt(_.A);var I=_.B,V=_.S;Array.isArray(V)||(V=[String(V)]),lu(I.i,"t",V),_.C=0,I=_.j.L,_.h=new fi,_.g=fp(_.j,I?w:null,!_.u),_.P>0&&(_.O=new Xn(d(_.Y,_,_.g),_.P)),w=_.V,I=_.g,V=_.ba;var J="readystatechange";Array.isArray(J)||(J&&(nf[0]=J.toString()),J=nf);for(let te=0;te<J.length;te++){const pe=oe(I,J[te],V||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=_.J?j(_.J):{},_.u?(_.v||(_.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,w)):(_.v="GET",_.g.ea(_.B,_.v,null,w)),Ri(),Rv(_.i,_.v,_.B,_.l,_.S,_.u)}ci.prototype.ba=function(_){_=_.target;const w=this.O;w&&pi(_)==3?w.j():this.Y(_)},ci.prototype.Y=function(_){try{if(_==this.g)e:{const Ue=pi(this.g),Ht=this.g.ya(),st=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||Rn(this.g)))){this.K||Ue!=4||Ht==7||(Ht==8||st<=0?Ri(3):Ri(2)),Oi(this);var w=this.g.ca();this.X=w;var I=Mv(this);if(this.o=w==200,Wh(this.i,this.v,this.B,this.l,this.S,Ue,w),this.o){if(this.U&&!this.L){t:{if(this.g){var V,J=this.g;if((V=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(V)){var te=V;break t}}te=null}if(_=te)Ni(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,_);else{this.o=!1,this.m=3,Jt(12),_r(this),Vr(this);break e}}if(this.R){_=!0;let Ct;for(;!this.K&&this.C<I.length;)if(Ct=Qh(this,I),Ct==En){Ue==4&&(this.m=4,Jt(14),_=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Xt){this.m=4,Jt(15),Ni(this.i,this.l,I,"[Invalid Chunk]"),_=!1;break}else Ni(this.i,this.l,Ct,null),Li(this,Ct);if(Xh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||I.length!=0||this.h.h||(this.m=1,Jt(16),_=!1),this.o=this.o&&_,!_)Ni(this.i,this.l,I,"[Invalid Chunked Response]"),_r(this),Vr(this);else if(I.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Ef(pe),pe.P=!0,Jt(11))}}else Ni(this.i,this.l,I,null),Li(this,I);Ue==4&&_r(this),this.o&&!this.K&&(Ue==4?ap(this.j,this):(this.o=!1,ki(this)))}else Eo(this.g),w==400&&I.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),_r(this),Vr(this)}}}catch{}finally{}};function Mv(_){if(!Xh(_))return _.g.la();const w=Rn(_.g);if(w==="")return"";let I="";const V=w.length,J=pi(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return _r(_),Vr(_),"";_.h.i=new a.TextDecoder}for(let te=0;te<V;te++)_.h.h=!0,I+=_.h.i.decode(w[te],{stream:!(J&&te==V-1)});return w.length=0,_.h.g+=I,_.C=0,_.h.g}function Xh(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function Qh(_,w){var I=_.C,V=w.indexOf(`
`,I);return V==-1?En:(I=Number(w.substring(I,V)),isNaN(I)?Xt:(V+=1,V+I>w.length?En:(w=w.slice(V,V+I),_.C=V+I,w)))}ci.prototype.cancel=function(){this.K=!0,_r(this)};function ki(_){_.T=Date.now()+_.H,ou(_,_.H)}function ou(_,w){if(_.D!=null)throw Error("WatchDog timer not null");_.D=Mi(d(_.aa,_),w)}function Oi(_){_.D&&(a.clearTimeout(_.D),_.D=null)}ci.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(za(this.i,this.B),this.M!=2&&(Ri(),Jt(17)),_r(this),this.m=2,Vr(this)):ou(this,this.T-_)};function Vr(_){_.j.I==0||_.K||ap(_.j,_)}function _r(_){Oi(_);var w=_.O;w&&typeof w.dispose=="function"&&w.dispose(),_.O=null,rf(_.V),_.g&&(w=_.g,_.g=null,w.abort(),w.dispose())}function Li(_,w){try{var I=_.j;if(I.I!=0&&(I.g==_||Ui(I.h,_))){if(!_.L&&Ui(I.h,_)&&I.I==3){try{var V=I.Ba.g.parse(w)}catch{V=null}if(Array.isArray(V)&&V.length==3){var J=V;if(J[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<_.F)hu(I),xs(I);else break e;Qa(I),Jt(18)}}else I.xa=J[1],0<I.xa-I.K&&J[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Mi(d(I.Va,I),6e3));Vi(I.h)<=1&&I.ta&&(I.ta=void 0)}else Gi(I,11)}else if((_.L||I.g==_)&&hu(I),!q(w))for(J=I.Ba.g.parse(w),w=0;w<J.length;w++){let st=J[w];const Ct=st[0];if(!(Ct<=I.K))if(I.K=Ct,st=st[1],I.I==2)if(st[0]=="c"){I.M=st[1],I.ba=st[2];const Br=st[3];Br!=null&&(I.ka=Br,I.j.info("VER="+I.ka));const $i=st[4];$i!=null&&(I.za=$i,I.j.info("SVER="+I.za));const mi=st[5];mi!=null&&typeof mi=="number"&&mi>0&&(V=1.5*mi,I.O=V,I.j.info("backChannelRequestTimeoutMs_="+V)),V=I;const gi=_.g;if(gi){const Za=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Za){var te=V.h;te.g||Za.indexOf("spdy")==-1&&Za.indexOf("quic")==-1&&Za.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(uf(te,te.h),te.h=null))}if(V.G){const pu=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;pu&&(V.wa=pu,ut(V.J,V.G,pu))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-_.F,I.j.info("Handshake RTT: "+I.T+"ms")),V=I;var pe=_;if(V.na=cp(V,V.L?V.ba:null,V.W),pe.L){cf(V.h,pe);var Ue=pe,Ht=V.O;Ht&&(Ue.H=Ht),Ue.D&&(Oi(Ue),ki(Ue)),V.g=pe}else op(V);I.i.length>0&&Hi(I)}else st[0]!="stop"&&st[0]!="close"||Gi(I,7);else I.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Gi(I,7):_f(I):st[0]!="noop"&&I.l&&I.l.qa(st),I.A=0)}}Ri(4)}catch{}}var Qt=class{constructor(_,w){this.g=_,this.map=w}};function af(_){this.l=_||10,a.PerformanceNavigationTiming?(_=a.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lf(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Vi(_){return _.h?1:_.g?_.g.size:0}function Ui(_,w){return _.h?_.h==w:_.g?_.g.has(w):!1}function uf(_,w){_.g?_.g.add(w):_.h=w}function cf(_,w){_.h&&_.h==w?_.h=null:_.g&&_.g.has(w)&&_.g.delete(w)}af.prototype.cancel=function(){if(this.i=ff(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function ff(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let w=_.i;for(const I of _.g.values())w=w.concat(I.G);return w}return A(_.i)}var Zh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function su(_,w){if(_){_=_.split("&");for(let I=0;I<_.length;I++){const V=_[I].indexOf("=");let J,te=null;V>=0?(J=_[I].substring(0,V),te=_[I].substring(V+1)):J=_[I],w(J,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Tr(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;_ instanceof Tr?(this.l=_.l,An(this,_.j),this.o=_.o,this.g=_.g,Ts(this,_.u),this.h=_.h,df(this,rp(_.i)),this.m=_.m):_&&(w=String(_).match(Zh))?(this.l=!1,An(this,w[1]||"",!0),this.o=Fi(w[2]||""),this.g=Fi(w[3]||"",!0),Ts(this,w[4]),this.h=Fi(w[5]||"",!0),df(this,w[6]||"",!0),this.m=Fi(w[7]||"")):(this.l=!1,this.i=new As(null,this.l))}Tr.prototype.toString=function(){const _=[];var w=this.j;w&&_.push(Ka(w,au,!0),":");var I=this.g;return(I||w=="file")&&(_.push("//"),(w=this.o)&&_.push(Ka(w,au,!0),"@"),_.push(_o(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&_.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&_.push("/"),_.push(Ka(I,I.charAt(0)=="/"?hf:ep,!0))),(I=this.i.toString())&&_.push("?",I),(I=this.m)&&_.push("#",Ka(I,tp)),_.join("")},Tr.prototype.resolve=function(_){const w=Zt(this);let I=!!_.j;I?An(w,_.j):I=!!_.o,I?w.o=_.o:I=!!_.g,I?w.g=_.g:I=_.u!=null;var V=_.h;if(I)Ts(w,_.u);else if(I=!!_.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var J=w.h.lastIndexOf("/");J!=-1&&(V=w.h.slice(0,J+1)+V)}if(J=V,J==".."||J==".")V="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){V=J.lastIndexOf("/",0)==0,J=J.split("/");const te=[];for(let pe=0;pe<J.length;){const Ue=J[pe++];Ue=="."?V&&pe==J.length&&te.push(""):Ue==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),V&&pe==J.length&&te.push("")):(te.push(Ue),V=!0)}V=te.join("/")}else V=J}return I?w.h=V:I=_.i.toString()!=="",I?df(w,rp(_.i)):I=!!_.m,I&&(w.m=_.m),w};function Zt(_){return new Tr(_)}function An(_,w,I){_.j=I?Fi(w,!0):w,_.j&&(_.j=_.j.replace(/:$/,""))}function Ts(_,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);_.u=w}else _.u=null}function df(_,w,I){w instanceof As?(_.i=w,uu(_.i,_.l)):(I||(w=Ka(w,Es)),_.i=new As(w,_.l))}function ut(_,w,I){_.i.set(w,I)}function $a(_){return ut(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function Fi(_,w){return _?w?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Ka(_,w,I){return typeof _=="string"?(_=encodeURI(_).replace(w,ir),I&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ir(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var au=/[#\/\?@]/g,ep=/[#\?:]/g,hf=/[#\?]/g,Es=/[#\?@]/g,tp=/#/g;function As(_,w){this.h=this.g=null,this.i=_||null,this.j=!!w}function or(_){_.g||(_.g=new Map,_.h=0,_.i&&su(_.i,function(w,I){_.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}t=As.prototype,t.add=function(_,w){or(this),this.i=null,_=Ss(this,_);let I=this.g.get(_);return I||this.g.set(_,I=[]),I.push(w),this.h+=1,this};function np(_,w){or(_),w=Ss(_,w),_.g.has(w)&&(_.i=null,_.h-=_.g.get(w).length,_.g.delete(w))}function pf(_,w){return or(_),w=Ss(_,w),_.g.has(w)}t.forEach=function(_,w){or(this),this.g.forEach(function(I,V){I.forEach(function(J){_.call(w,J,V,this)},this)},this)};function mf(_,w){or(_);let I=[];if(typeof w=="string")pf(_,w)&&(I=I.concat(_.g.get(Ss(_,w))));else for(_=Array.from(_.g.values()),w=0;w<_.length;w++)I=I.concat(_[w]);return I}t.set=function(_,w){return or(this),this.i=null,_=Ss(this,_),pf(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[w]),this.h+=1,this},t.get=function(_,w){return _?(_=mf(this,_),_.length>0?String(_[0]):w):w};function lu(_,w,I){np(_,w),I.length>0&&(_.i=null,_.g.set(Ss(_,w),A(I)),_.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],w=Array.from(this.g.keys());for(let V=0;V<w.length;V++){var I=w[V];const J=_o(I);I=mf(this,I);for(let te=0;te<I.length;te++){let pe=J;I[te]!==""&&(pe+="="+_o(I[te])),_.push(pe)}}return this.i=_.join("&")};function rp(_){const w=new As;return w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),w}function Ss(_,w){return w=String(w),_.j&&(w=w.toLowerCase()),w}function uu(_,w){w&&!_.j&&(or(_),_.i=null,_.g.forEach(function(I,V){const J=V.toLowerCase();V!=J&&(np(this,V),lu(this,J,I))},_)),_.j=w}function di(_,w){const I=new ui;if(a.Image){const V=new Image;V.onload=h(Ur,I,"TestLoadImage: loaded",!0,w,V),V.onerror=h(Ur,I,"TestLoadImage: error",!1,w,V),V.onabort=h(Ur,I,"TestLoadImage: abort",!1,w,V),V.ontimeout=h(Ur,I,"TestLoadImage: timeout",!1,w,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=_}else w(!1)}function gf(_,w){const I=new ui,V=new AbortController,J=setTimeout(()=>{V.abort(),Ur(I,"TestPingServer: timeout",!1,w)},1e4);fetch(_,{signal:V.signal}).then(te=>{clearTimeout(J),te.ok?Ur(I,"TestPingServer: ok",!0,w):Ur(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),Ur(I,"TestPingServer: error",!1,w)})}function Ur(_,w,I,V,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),V(I)}catch{}}function ws(){this.g=new Gh}function Bi(_){this.i=_.Sb||null,this.h=_.ab||!1}m(Bi,$h),Bi.prototype.g=function(){return new ja(this.i,this.h)};function ja(_,w){Wt.call(this),this.H=_,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ja,Wt),t=ja.prototype,t.open=function(_,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=w,this.readyState=1,hi(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(w.body=_),(this.H||a).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cu(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function cu(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var w=_.value?_.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!_.done}))&&(this.response=this.responseText+=w)}_.done?bs(this):hi(this),this.readyState==3&&cu(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,bs(this))},t.Na=function(_){this.g&&(this.response=_,bs(this))},t.ga=function(){this.g&&bs(this)};function bs(_){_.readyState=4,_.l=null,_.j=null,_.B=null,hi(_)}t.setRequestHeader=function(_,w){this.A.append(_,w)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,_.push(I[0]+": "+I[1]),I=w.next();return _.join(`\r
`)};function hi(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Fr(_){let w="";return Ee(_,function(I,V){w+=V,w+=":",w+=I,w+=`\r
`}),w}function Ya(_,w,I){e:{for(V in I){var V=!1;break e}V=!0}V||(I=Fr(I),typeof _=="string"?I!=null&&_o(I):ut(_,w,I))}function ht(_){Wt.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(ht,Wt);var qi=/^https?$/i,yf=["POST","PUT"];t=ht.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,w,I,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);w=w?w.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sf.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(_),!0),this.B=!1}catch(te){Wa(this,te);return}if(_=I||"",I=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var J in V)I.set(J,V[J]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const te of V.keys())I.set(te,V.get(te));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),J=a.FormData&&_ instanceof a.FormData,!(Array.prototype.indexOf.call(yf,w,void 0)>=0)||V||J||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of I)this.g.setRequestHeader(te,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(te){Wa(this,te)}};function Wa(_,w){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=w,_.o=5,vf(_),To(_)}function vf(_){_.A||(_.A=!0,dn(_,"complete"),dn(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,dn(this,"complete"),dn(this,"abort"),To(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ja(this):this.Xa())},t.Xa=function(){Ja(this)};function Ja(_){if(_.h&&typeof o<"u"){if(_.v&&pi(_)==4)setTimeout(_.Ca.bind(_),0);else if(dn(_,"readystatechange"),pi(_)==4){_.h=!1;try{const te=_.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var V;if(V=te===0){let pe=String(_.D).match(Zh)[1]||null;!pe&&a.self&&a.self.location&&(pe=a.self.location.protocol.slice(0,-1)),V=!qi.test(pe?pe.toLowerCase():"")}I=V}if(I)dn(_,"complete"),dn(_,"success");else{_.o=6;try{var J=pi(_)>2?_.g.statusText:""}catch{J=""}_.l=J+" ["+_.ca()+"]",vf(_)}}finally{To(_)}}}}function To(_,w){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const I=_.g;_.g=null,w||dn(_,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(_){return _.g?_.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var w=this.g.responseText;return _&&w.indexOf(_)==0&&(w=w.substring(_.length)),Iv(w)}};function Rn(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(_){const w={};_=(_.g&&pi(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<_.length;V++){if(q(_[V]))continue;var I=Jh(_[V]);const J=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=w[J]||[];w[J]=te,te.push(I)}Ve(w,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(_,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[_]||w}function Cs(_){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,_),this.Za=zi("retryDelaySeedMs",1e4,_),this.Ta=zi("forwardChannelMaxRetries",2,_),this.va=zi("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new af(_&&_.concurrentRequestLimit),this.Ba=new ws,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Cs.prototype,t.ka=8,t.I=1,t.connect=function(_,w,I,V){Jt(0),this.W=_,this.H=w||{},I&&V!==void 0&&(this.H.OSID=I,this.H.OAID=V),this.F=this.X,this.J=cp(this,null,this.W),Hi(this)};function _f(_){if(fu(_),_.I==3){var w=_.V++,I=Zt(_.J);if(ut(I,"SID",_.M),ut(I,"RID",w),ut(I,"TYPE","terminate"),Xa(_,I),w=new ci(_,_.j,w),w.M=2,w.A=$a(Zt(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(w.A.toString(),"")}catch{}!I&&a.Image&&(new Image().src=w.A,I=!0),I||(w.g=fp(w.j,null),w.g.ea(w.A)),w.F=Date.now(),ki(w)}up(_)}function xs(_){_.g&&(Ef(_),_.g.cancel(),_.g=null)}function fu(_){xs(_),_.v&&(a.clearTimeout(_.v),_.v=null),hu(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&a.clearTimeout(_.m),_.m=null)}function Hi(_){if(!lf(_.h)&&!_.m){_.m=!0;var w=_.Ea;F||D(),G||(F(),G=!0),P.add(w,_),_.D=0}}function du(_,w){return Vi(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=w.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=Mi(d(_.Ea,_,w),lp(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const J=new ci(this,this.j,_);let te=this.o;if(this.U&&(te?(te=j(te),me(te,this.U)):te=this.U),this.u!==null||this.R||(J.J=te,te=null),this.S)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var V=this.i[I];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(w+=V,w>4096){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=ip(this,J,w),I=Zt(this.J),ut(I,"RID",_),ut(I,"CVER",22),this.G&&ut(I,"X-HTTP-Session-Id",this.G),Xa(this,I),te&&(this.R?w="headers="+_o(Fr(te))+"&"+w:this.u&&Ya(I,this.u,te)),uf(this.h,J),this.Ra&&ut(I,"TYPE","init"),this.S?(ut(I,"$req",w),ut(I,"SID","null"),J.U=!0,Di(J,I,null)):Di(J,I,w),this.I=2}}else this.I==3&&(_?Tf(this,_):this.i.length==0||lf(this.h)||Tf(this))};function Tf(_,w){var I;w?I=w.l:I=_.V++;const V=Zt(_.J);ut(V,"SID",_.M),ut(V,"RID",I),ut(V,"AID",_.K),Xa(_,V),_.u&&_.o&&Ya(V,_.u,_.o),I=new ci(_,_.j,I,_.D+1),_.u===null&&(I.J=_.o),w&&(_.i=w.G.concat(_.i)),w=ip(_,I,1e3),I.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),uf(_.h,I),Di(I,V,w)}function Xa(_,w){_.H&&Ee(_.H,function(I,V){ut(w,V,I)}),_.l&&Ee({},function(I,V){ut(w,V,I)})}function ip(_,w,I){I=Math.min(_.i.length,I);const V=_.l?d(_.l.Ka,_.l,_):null;e:{var J=_.i;let Ue=-1;for(;;){const Ht=["count="+I];Ue==-1?I>0?(Ue=J[0].g,Ht.push("ofs="+Ue)):Ue=0:Ht.push("ofs="+Ue);let st=!0;for(let Ct=0;Ct<I;Ct++){var te=J[Ct].g;const Br=J[Ct].map;if(te-=Ue,te<0)Ue=Math.max(0,J[Ct].g-100),st=!1;else try{te="req"+te+"_"||"";try{var pe=Br instanceof Map?Br:Object.entries(Br);for(const[$i,mi]of pe){let gi=mi;u(mi)&&(gi=_s(mi)),Ht.push(te+$i+"="+encodeURIComponent(gi))}}catch($i){throw Ht.push(te+"type="+encodeURIComponent("_badmap")),$i}}catch{V&&V(Br)}}if(st){pe=Ht.join("&");break e}}pe=void 0}return _=_.i.splice(0,I),w.G=_,pe}function op(_){if(!_.g&&!_.v){_.Y=1;var w=_.Da;F||D(),G||(F(),G=!0),P.add(w,_),_.A=0}}function Qa(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=Mi(d(_.Da,_),lp(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,sp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=Mi(d(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),xs(this),sp(this))};function Ef(_){_.B!=null&&(a.clearTimeout(_.B),_.B=null)}function sp(_){_.g=new ci(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var w=Zt(_.na);ut(w,"RID","rpc"),ut(w,"SID",_.M),ut(w,"AID",_.K),ut(w,"CI",_.F?"0":"1"),!_.F&&_.ia&&ut(w,"TO",_.ia),ut(w,"TYPE","xmlhttp"),Xa(_,w),_.u&&_.o&&Ya(w,_.u,_.o),_.O&&(_.g.H=_.O);var I=_.g;_=_.ba,I.M=1,I.A=$a(Zt(w)),I.u=null,I.R=!0,iu(I,_)}t.Va=function(){this.C!=null&&(this.C=null,xs(this),Qa(this),Jt(19))};function hu(_){_.C!=null&&(a.clearTimeout(_.C),_.C=null)}function ap(_,w){var I=null;if(_.g==w){hu(_),Ef(_),_.g=null;var V=2}else if(Ui(_.h,w))I=w.G,cf(_.h,w),V=1;else return;if(_.I!=0){if(w.o)if(V==1){I=w.u?w.u.length:0,w=Date.now()-w.F;var J=_.D;V=ru(),dn(V,new Pi(V,I)),Hi(_)}else op(_);else if(J=w.m,J==3||J==0&&w.X>0||!(V==1&&du(_,w)||V==2&&Qa(_)))switch(I&&I.length>0&&(w=_.h,w.i=w.i.concat(I)),J){case 1:Gi(_,5);break;case 4:Gi(_,10);break;case 3:Gi(_,6);break;default:Gi(_,2)}}}function lp(_,w){let I=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(I*=2),I*w}function Gi(_,w){if(_.j.info("Error code "+w),w==2){var I=d(_.bb,_),V=_.Ua;const J=!V;V=new Tr(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||An(V,"https"),$a(V),J?di(V.toString(),I):gf(V.toString(),I)}else Jt(2);_.I=0,_.l&&_.l.pa(w),up(_),fu(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function up(_){if(_.I=0,_.ja=[],_.l){const w=ff(_.h);(w.length!=0||_.i.length!=0)&&(S(_.ja,w),S(_.ja,_.i),_.h.i.length=0,A(_.i),_.i.length=0),_.l.oa()}}function cp(_,w,I){var V=I instanceof Tr?Zt(I):new Tr(I);if(V.g!="")w&&(V.g=w+"."+V.g),Ts(V,V.u);else{var J=a.location;V=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;const te=new Tr(null);V&&An(te,V),w&&(te.g=w),J&&Ts(te,J),I&&(te.h=I),V=te}return I=_.G,w=_.wa,I&&w&&ut(V,I,w),ut(V,"VER",_.ka),Xa(_,V),V}function fp(_,w,I){if(w&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=_.Aa&&!_.ma?new ht(new Bi({ab:I})):new ht(_.ma),w.Fa(_.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dp(){}t=dp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Is(){}Is.prototype.g=function(_,w){return new Qn(_,w)};function Qn(_,w){Wt.call(this),this.g=new Cs(w),this.l=_,this.h=w&&w.messageUrlParams||null,_=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(_?_["X-WebChannel-Content-Type"]=w.messageContentType:_={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(_?_["X-WebChannel-Client-Profile"]=w.sa:_={"X-WebChannel-Client-Profile":w.sa}),this.g.U=_,(_=w&&w.Qb)&&!q(_)&&(this.g.u=_),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!q(w)&&(this.g.G=w,_=this.h,_!==null&&w in _&&(_=this.h,w in _&&delete _[w])),this.j=new Ao(this)}m(Qn,Wt),Qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){_f(this.g)},Qn.prototype.o=function(_){var w=this.g;if(typeof _=="string"){var I={};I.__data__=_,_=I}else this.v&&(I={},I.__data__=_s(_),_=I);w.i.push(new Qt(w.Ya++,_)),w.I==3&&Hi(w)},Qn.prototype.N=function(){this.g.l=null,delete this.j,_f(this.g),delete this.g,Qn.Z.N.call(this)};function hp(_){In.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var w=_.__sm__;if(w){e:{for(const I in w){_=I;break e}_=void 0}(this.i=_)&&(_=this.i,w=w!==null&&_ in w?w[_]:void 0),this.data=w}else this.data=_}m(hp,In);function pp(){Lr.call(this),this.status=1}m(pp,Lr);function Ao(_){this.g=_}m(Ao,dp),Ao.prototype.ra=function(){dn(this.g,"a")},Ao.prototype.qa=function(_){dn(this.g,new hp(_))},Ao.prototype.pa=function(_){dn(this.g,new pp)},Ao.prototype.oa=function(){dn(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,j3=function(){return new Is},K3=function(){return ru()},$3=zt,RA={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ha.NO_ERROR=0,Ha.TIMEOUT=8,Ha.HTTP_ERROR=6,Ym=Ha,of.COMPLETE="complete",G3=of,Kh.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Wt.prototype.listen=Wt.prototype.J,_d=Kh,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,H3=ht}).apply(typeof Nm<"u"?Nm:typeof self<"u"?self:typeof window<"u"?window:{});const Nk="@firebase/firestore",Dk="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new ob("@firebase/firestore");function Yu(){return Gl.logLevel}function _e(t,...e){if(Gl.logLevel<=We.DEBUG){const n=e.map(lb);Gl.debug(`Firestore (${Yc}): ${t}`,...n)}}function os(t,...e){if(Gl.logLevel<=We.ERROR){const n=e.map(lb);Gl.error(`Firestore (${Yc}): ${t}`,...n)}}function xc(t,...e){if(Gl.logLevel<=We.WARN){const n=e.map(lb);Gl.warn(`Firestore (${Yc}): ${t}`,...n)}}function lb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Y3(t,r,n)}function Y3(t,e,n){let r=`FIRESTORE (${Yc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw os(r),new Error(r)}function lt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Y3(e,i,r)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends yo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class ide{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ode{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jo,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jo)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string",31837,{l:r}),new W3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class sde{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ade{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sde(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lde{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kk(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ude(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ude(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function PA(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return rE(i)===rE(o)?Je(i,o):rE(i)?1:-1}return Je(t.length,e.length)}const cde=55296,fde=57343;function rE(t){const e=t.charCodeAt(0);return e>=cde&&e<=fde}function Ic(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="__name__";class Ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ji.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Je(e.length,n.length)}static compareSegments(e,n){const r=Ji.isNumericId(e),i=Ji.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):PA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fa.fromString(e.substring(4,e.length-2))}}class _t extends Ji{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const dde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends Ji{construct(e,n,r){return new Vn(e,n,r)}static isValidIdentifier(e){return dde.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ok}static keyField(){return new Vn([Ok])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ge(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new ge(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(_t.fromString(e))}static fromName(e){return new be(_t.fromString(e).popFirst(5))}static empty(){return new be(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t,e,n){if(!n)throw new ge(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hde(t,e,n,r){if(e===!0&&r===!0)throw new ge(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lk(t){if(!be.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vk(t){if(be.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function X3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rv(t);throw new ge(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function pde(t,e){if(e<=0)throw new ge(le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function Nh(t,e){if(!X3(t))throw new ge(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ge(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=-62135596800,Fk=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Fk);return new bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Uk)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fk}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nh(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:un("string",bt._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new bt(0,0))}static max(){return new De(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=-1;function mde(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Ea(i,be.empty(),e)}function gde(t){return new Ea(t.readTime,t.key,th)}class Ea{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ea(De.min(),be.empty(),th)}static max(){return new Ea(De.max(),be.empty(),th)}}function yde(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _de{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==vde)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,o=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++o,a&&o===i&&n()}),(c=>r(c)))})),a=!0,o===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const d=c;n(e[d]).next((h=>{a[d]=h,++u,u===o&&r(a)}),(h=>i(h)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function Tde(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}iv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=-1;function ov(t){return t==null}function Jg(t){return t===0&&1/t==-1/0}function Ede(t){return typeof t=="number"&&Number.isInteger(t)&&!Jg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="";function Ade(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bk(e)),e=Sde(t.get(n),e);return Bk(e)}function Sde(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Q3:n+="";break;default:n+=o}}return n}function Bk(t){return t+Q3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function La(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Z3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dm(this.root,e,this.comparator,!0)}}class Dm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=i??Ln.EMPTY,this.right=o??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ln(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zk(this.data.getIterator())}getIteratorFrom(e){return new zk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new gn(this.comparator);return n.data=e,n}}class zk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new gn(Vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ic(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new e6("Invalid base64 string: "+o):o}})(e);return new Fn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const wde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=wde.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sa(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="server_timestamp",n6="__type__",r6="__previous_value__",i6="__local_write_time__";function fb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[n6])==null?void 0:r.stringValue)===t6}function sv(t){const e=t.mapValue.fields[r6];return fb(e)?sv(e):e}function nh(t){const e=Aa(t.mapValue.fields[i6].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bde{constructor(e,n,r,i,o,a,u,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Xg="(default)";class rh{constructor(e,n){this.projectId=e,this.database=n||Xg}static empty(){return new rh("","")}get isDefaultDatabase(){return this.database===Xg}isEqual(e){return e instanceof rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="__type__",Cde="__max__",km={mapValue:{}},s6="__vector__",Qg="value";function wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fb(t)?4:Ide(t)?9007199254740991:xde(t)?10:11:Pe(28295,{value:t})}function po(t,e){if(t===e)return!0;const n=wa(t);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Aa(i.timestampValue),u=Aa(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Sa(i.bytesValue).isEqual(Sa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Yt(i.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Yt(i.integerValue)===Yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Yt(i.doubleValue),u=Yt(o.doubleValue);return a===u?Jg(a)===Jg(u):isNaN(a)&&isNaN(u)}return!1})(t,e);case 9:return Ic(t.arrayValue.values||[],e.arrayValue.values||[],po);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(qk(a)!==qk(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!po(a[c],u[c])))return!1;return!0})(t,e);default:return Pe(52216,{left:t})}}function ih(t,e){return(t.values||[]).find((n=>po(n,e)))!==void 0}function Rc(t,e){if(t===e)return 0;const n=wa(t),r=wa(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const u=Yt(o.integerValue||o.doubleValue),c=Yt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return Hk(t.timestampValue,e.timestampValue);case 4:return Hk(nh(t),nh(e));case 5:return PA(t.stringValue,e.stringValue);case 6:return(function(o,a){const u=Sa(o),c=Sa(a);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const u=o.split("/"),c=a.split("/");for(let d=0;d<u.length&&d<c.length;d++){const h=Je(u[d],c[d]);if(h!==0)return h}return Je(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const u=Je(Yt(o.latitude),Yt(a.latitude));return u!==0?u:Je(Yt(o.longitude),Yt(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Gk(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var y,A,S,b;const u=o.fields||{},c=a.fields||{},d=(y=u[Qg])==null?void 0:y.arrayValue,h=(A=c[Qg])==null?void 0:A.arrayValue,m=Je(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((b=h==null?void 0:h.values)==null?void 0:b.length)||0);return m!==0?m:Gk(d,h)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===km.mapValue&&a===km.mapValue)return 0;if(o===km.mapValue)return 1;if(a===km.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const y=PA(c[m],h[m]);if(y!==0)return y;const A=Rc(u[c[m]],d[h[m]]);if(A!==0)return A}return Je(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function Hk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Aa(t),r=Aa(e),i=Je(n.seconds,r.seconds);return i!==0?i:Je(n.nanos,r.nanos)}function Gk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Rc(n[i],r[i]);if(o)return o}return Je(n.length,r.length)}function Pc(t){return MA(t)}function MA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Aa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Sa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=MA(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${MA(n.fields[a])}`;return i+"}"})(t.mapValue):Pe(61005,{value:t})}function Wm(t){switch(wa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sv(t);return e?16+Wm(e):16;case 5:return 2*t.stringValue.length;case 6:return Sa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Wm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return La(r.fields,((o,a)=>{i+=o.length+Wm(a)})),i})(t.mapValue);default:throw Pe(13486,{value:t})}}function $k(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function NA(t){return!!t&&"integerValue"in t}function db(t){return!!t&&"arrayValue"in t}function Kk(t){return!!t&&"nullValue"in t}function jk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jm(t){return!!t&&"mapValue"in t}function xde(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[o6])==null?void 0:r.stringValue)===s6}function Md(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return La(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Md(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Md(t.arrayValue.values[n]);return e}return{...t}}function Ide(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Cde}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(n)}setAll(e){let n=Vn.emptyPath(),r={},i=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=Md(a):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Jm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){La(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new hr(Md(this.value))}}function a6(t){const e=[];return La(t.fields,((n,r)=>{const i=new Vn([n]);if(Jm(r)){const o=a6(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,i,o,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Gn(e,0,De.min(),De.min(),De.min(),hr.empty(),0)}static newFoundDocument(e,n,r,i){return new Gn(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new Gn(e,2,n,De.min(),De.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,De.min(),De.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.position=e,this.inclusive=n}}function Yk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=be.comparator(be.fromName(a.referenceValue),n.key):r=Rc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!po(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{}class ln extends l6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mde(e,n,r):n==="array-contains"?new kde(e,r):n==="in"?new Ode(e,r):n==="not-in"?new Lde(e,r):n==="array-contains-any"?new Vde(e,r):new ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Nde(e,r):new Dde(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rc(n,this.value)):n!==null&&wa(this.value)===wa(n)&&this.matchesComparison(Rc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends l6{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ci(e,n)}matches(e){return u6(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u6(t){return t.op==="and"}function c6(t){return Pde(t)&&u6(t)}function Pde(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function DA(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+Pc(t.value);if(c6(t))return t.filters.map((e=>DA(e))).join(",");{const e=t.filters.map((n=>DA(n))).join(",");return`${t.op}(${e})`}}function f6(t,e){return t instanceof ln?(function(r,i){return i instanceof ln&&r.op===i.op&&r.field.isEqual(i.field)&&po(r.value,i.value)})(t,e):t instanceof Ci?(function(r,i){return i instanceof Ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,u)=>o&&f6(a,i.filters[u])),!0):!1})(t,e):void Pe(19439)}function d6(t){return t instanceof ln?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pc(n.value)}`})(t):t instanceof Ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(d6).join(" ,")+"}"})(t):"Filter"}class Mde extends ln{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nde extends ln{constructor(e,n){super(e,"in",n),this.keys=h6("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Dde extends ln{constructor(e,n){super(e,"not-in",n),this.keys=h6("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function h6(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>be.fromName(r.referenceValue)))}class kde extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return db(n)&&ih(n.arrayValue,this.value)}}class Ode extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ih(this.value.arrayValue,n)}}class Lde extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ih(this.value.arrayValue,n)}}class Vde extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!db(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ih(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(e,n=null,r=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.Te=null}}function Jk(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Ude(t,e,n,r,i,o,a)}function hb(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>DA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),ov(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Pc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Pc(r))).join(",")),e.Te=n}return e.Te}function pb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wk(t.startAt,e.startAt)&&Wk(t.endAt,e.endAt)}function kA(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n=null,r=[],i=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Fde(t,e,n,r,i,o,a,u){return new Xc(t,e,n,r,i,o,a,u)}function av(t){return new Xc(t)}function Xk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p6(t){return t.collectionGroup!==null}function Nd(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new gn(Vn.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new oh(o,r))})),n.has(Vn.keyField().canonicalString())||e.Ie.push(new oh(Vn.keyField(),r))}return e.Ie}function no(t){const e=Le(t);return e.Ee||(e.Ee=Bde(e,Nd(t))),e.Ee}function Bde(t,e){if(t.limitType==="F")return Jk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new oh(i.field,o)}));const n=t.endAt?new Zg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zg(t.startAt.position,t.startAt.inclusive):null;return Jk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function OA(t,e){const n=t.filters.concat([e]);return new Xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ey(t,e,n){return new Xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lv(t,e){return pb(no(t),no(e))&&t.limitType===e.limitType}function m6(t){return`${hb(no(t))}|lt:${t.limitType}`}function Wu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>d6(i))).join(", ")}]`),ov(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Pc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Pc(i))).join(",")),`Target(${r})`})(no(t))}; limitType=${t.limitType})`}function uv(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Nd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,u,c){const d=Yk(a,u,c);return a.inclusive?d<=0:d<0})(r.startAt,Nd(r),i)||r.endAt&&!(function(a,u,c){const d=Yk(a,u,c);return a.inclusive?d>=0:d>0})(r.endAt,Nd(r),i))})(t,e)}function qde(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g6(t){return(e,n)=>{let r=!1;for(const i of Nd(t)){const o=zde(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function zde(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):(function(o,a,u){const c=a.data.field(o),d=u.data.field(o);return c!==null&&d!==null?Rc(c,d):Pe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return Z3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hde=new Dt(be.comparator);function ss(){return Hde}const y6=new Dt(be.comparator);function Td(...t){let e=y6;for(const n of t)e=e.insert(n.key,n);return e}function v6(t){let e=y6;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Cl(){return Dd()}function _6(){return Dd()}function Dd(){return new eu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Gde=new Dt(be.comparator),$de=new gn(be.comparator);function Xe(...t){let e=$de;for(const n of t)e=e.add(n);return e}const Kde=new gn(Je);function jde(){return Kde}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jg(e)?"-0":e}}function T6(t){return{integerValue:""+t}}function Yde(t,e){return Ede(e)?T6(e):mb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this._=void 0}}function Wde(t,e,n){return t instanceof sh?(function(i,o){const a={fields:{[n6]:{stringValue:t6},[i6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fb(o)&&(o=sv(o)),o&&(a.fields[r6]=o),{mapValue:a}})(n,e):t instanceof Mc?A6(t,e):t instanceof ah?S6(t,e):(function(i,o){const a=E6(i,o),u=Qk(a)+Qk(i.Ae);return NA(a)&&NA(i.Ae)?T6(u):mb(i.serializer,u)})(t,e)}function Jde(t,e,n){return t instanceof Mc?A6(t,e):t instanceof ah?S6(t,e):n}function E6(t,e){return t instanceof ty?(function(r){return NA(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class sh extends cv{}class Mc extends cv{constructor(e){super(),this.elements=e}}function A6(t,e){const n=w6(e);for(const r of t.elements)n.some((i=>po(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ah extends cv{constructor(e){super(),this.elements=e}}function S6(t,e){let n=w6(e);for(const r of t.elements)n=n.filter((i=>!po(i,r)));return{arrayValue:{values:n}}}class ty extends cv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Qk(t){return Yt(t.integerValue||t.doubleValue)}function w6(t){return db(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n){this.field=e,this.transform=n}}function Xde(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Mc&&i instanceof Mc||r instanceof ah&&i instanceof ah?Ic(r.elements,i.elements,po):r instanceof ty&&i instanceof ty?po(r.Ae,i.Ae):r instanceof sh&&i instanceof sh})(t.transform,e.transform)}class Qde{constructor(e,n){this.version=e,this.transformResults=n}}class bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fv{}function C6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new I6(t.key,bi.none()):new Dh(t.key,t.data,bi.none());{const n=t.data,r=hr.empty();let i=new gn(Vn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Va(t.key,r,new Nr(i.toArray()),bi.none())}}function Zde(t,e,n){t instanceof Dh?(function(i,o,a){const u=i.value.clone(),c=e2(i.fieldTransforms,o,a.transformResults);u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Va?(function(i,o,a){if(!Xm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=e2(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(x6(i)),c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function kd(t,e,n,r){return t instanceof Dh?(function(o,a,u,c){if(!Xm(o.precondition,a))return u;const d=o.value.clone(),h=t2(o.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Va?(function(o,a,u,c){if(!Xm(o.precondition,a))return u;const d=t2(o.fieldTransforms,c,a),h=a.data;return h.setAll(x6(o)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,a,u){return Xm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(t,e,n)}function ehe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=E6(r.transform,i||null);o!=null&&(n===null&&(n=hr.empty()),n.set(r.field,o))}return n||null}function Zk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ic(r,i,((o,a)=>Xde(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dh extends fv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Va extends fv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function x6(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function e2(t,e,n){const r=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,Jde(a,u,n[i]))}return r}function t2(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Wde(o,a,e))}return r}class I6 extends fv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class the extends fv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Zde(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_6();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(i.key)?null:u;const c=C6(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Ic(this.mutations,e.mutations,((n,r)=>Zk(n,r)))&&Ic(this.baseMutations,e.baseMutations,((n,r)=>Zk(n,r)))}}class gb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){lt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Gde})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new gb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ihe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,et;function ohe(t){switch(t){case le.OK:return Pe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function R6(t){if(t===void 0)return os("GRPC error has no .code"),le.UNKNOWN;switch(t){case on.OK:return le.OK;case on.CANCELLED:return le.CANCELLED;case on.UNKNOWN:return le.UNKNOWN;case on.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case on.INTERNAL:return le.INTERNAL;case on.UNAVAILABLE:return le.UNAVAILABLE;case on.UNAUTHENTICATED:return le.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case on.NOT_FOUND:return le.NOT_FOUND;case on.ALREADY_EXISTS:return le.ALREADY_EXISTS;case on.PERMISSION_DENIED:return le.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case on.ABORTED:return le.ABORTED;case on.OUT_OF_RANGE:return le.OUT_OF_RANGE;case on.UNIMPLEMENTED:return le.UNIMPLEMENTED;case on.DATA_LOSS:return le.DATA_LOSS;default:return Pe(39323,{code:t})}}(et=on||(on={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function she(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ahe=new fa([4294967295,4294967295],0);function n2(t){const e=she().encode(t),n=new z3;return n.update(e),new Uint8Array(n.digest())}function r2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fa([n,r],0),new fa([i,o],0)]}class yb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ed(`Invalid padding: ${n}`);if(r<0)throw new Ed(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ed(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ed(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fa.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(fa.fromNumber(r)));return i.compare(ahe)===1&&(i=new fa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n2(e),[r,i]=r2(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new yb(o,i,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=n2(e),[r,i]=r2(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dv(De.min(),i,new Dt(Je),ss(),Xe())}}class kh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kh(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class P6{constructor(e,n){this.targetId=e,this.Ce=n}}class M6{constructor(e,n,r=Fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class i2{constructor(){this.ve=0,this.Fe=o2(),this.Me=Fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pe(38017,{changeType:o})}})),new kh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=o2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lhe{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=Om(),this.He=Om(),this.Ye=new Dt(Je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(kA(o))if(r===0){const a=new be(o.path);this.et(n,a,Gn.newNoDocument(a,De.min()))}else lt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),c=u?this.ct(u,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,u;try{a=Sa(r).toUint8Array()}catch(c){if(c instanceof e6)return xc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new yb(a,i,o)}catch(c){return xc(c instanceof Ed?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,a)=>{const u=this.ot(a);if(u){if(o.current&&kA(u.target)){const c=new be(u.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Gn.newNoDocument(c,e))}o.Be&&(n.set(a,o.ke()),o.qe())}}));let r=Xe();this.He.forEach(((o,a)=>{let u=!0;a.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new dv(e,n,this.Ye,this.je,r);return this.je=ss(),this.Je=Om(),this.He=Om(),this.Ye=new Dt(Je),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new i2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gn(Je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gn(Je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Om(){return new Dt(be.comparator)}function o2(){return new Dt(be.comparator)}const uhe={asc:"ASCENDING",desc:"DESCENDING"},che={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fhe={and:"AND",or:"OR"};class dhe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function LA(t,e){return t.useProto3Json||ov(e)?e:{value:e}}function ny(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hhe(t,e){return ny(t,e.toTimestamp())}function ro(t){return lt(!!t,49232),De.fromTimestamp((function(n){const r=Aa(n);return new bt(r.seconds,r.nanos)})(t))}function vb(t,e){return VA(t,e).canonicalString()}function VA(t,e){const n=(function(i){return new _t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function D6(t){const e=_t.fromString(t);return lt(U6(e),10190,{key:e.toString()}),e}function UA(t,e){return vb(t.databaseId,e.path)}function iE(t,e){const n=D6(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(O6(n))}function k6(t,e){return vb(t.databaseId,e)}function phe(t){const e=D6(t);return e.length===4?_t.emptyPath():O6(e)}function FA(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O6(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s2(t,e,n){return{name:UA(t,e),fields:n.value.mapValue.fields}}function mhe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Pe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,h){return d.useProto3Json?(lt(h===void 0||typeof h=="string",58123),Fn.fromBase64String(h||"")):(lt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Fn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(d){const h=d.code===void 0?le.UNKNOWN:R6(d.code);return new ge(h,d.message||"")})(a);n=new M6(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=iE(t,r.document.name),o=ro(r.document.updateTime),a=r.document.createTime?ro(r.document.createTime):De.min(),u=new hr({mapValue:{fields:r.document.fields}}),c=Gn.newFoundDocument(i,o,a,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Qm(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=iE(t,r.document),o=r.readTime?ro(r.readTime):De.min(),a=Gn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Qm([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=iE(t,r.document),o=r.removedTargetIds||[];n=new Qm([],o,i,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new ihe(i,o),u=r.targetId;n=new P6(u,a)}}return n}function ghe(t,e){let n;if(e instanceof Dh)n={update:s2(t,e.key,e.value)};else if(e instanceof I6)n={delete:UA(t,e.key)};else if(e instanceof Va)n={update:s2(t,e.key,e.data),updateMask:bhe(e.fieldMask)};else{if(!(e instanceof the))return Pe(16599,{Vt:e.type});n={verify:UA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,a){const u=a.transform;if(u instanceof sh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Mc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ah)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ty)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw Pe(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:hhe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Pe(27497)})(t,e.precondition)),n}function yhe(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(i,o){let a=i.updateTime?ro(i.updateTime):ro(o);return a.isEqual(De.min())&&(a=ro(o)),new Qde(a,i.transformResults||[])})(n,e)))):[]}function vhe(t,e){return{documents:[k6(t,e.path)]}}function _he(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=k6(t,i);const o=(function(d){if(d.length!==0)return V6(Ci.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(d){if(d.length!==0)return d.map((h=>(function(y){return{field:Ju(y.field),direction:Ahe(y.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=LA(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function The(t){let e=phe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){lt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(m){const y=L6(m);return y instanceof Ci&&c6(y)?y.getFilters():[y]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((y=>(function(S){return new oh(Xu(S.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let y;return y=typeof m=="object"?m.value:m,ov(y)?null:y})(n.limit));let c=null;n.startAt&&(c=(function(m){const y=!!m.before,A=m.values||[];return new Zg(A,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const y=!m.before,A=m.values||[];return new Zg(A,y)})(n.endAt)),Fde(e,i,a,o,u,"F",c,d)}function Ehe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L6(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xu(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xu(n.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xu(n.unaryFilter.field);return ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xu(n.unaryFilter.field);return ln.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ln.create(Xu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ci.create(n.compositeFilter.filters.map((r=>L6(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(n.compositeFilter.op))})(t):Pe(30097,{filter:t})}function Ahe(t){return uhe[t]}function She(t){return che[t]}function whe(t){return fhe[t]}function Ju(t){return{fieldPath:t.canonicalString()}}function Xu(t){return Vn.fromServerFormat(t.fieldPath)}function V6(t){return t instanceof ln?(function(n){if(n.op==="=="){if(jk(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NAN"}};if(Kk(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jk(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NOT_NAN"}};if(Kk(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(n.field),op:She(n.op),value:n.value}}})(t):t instanceof Ci?(function(n){const r=n.getFilters().map((i=>V6(i)));return r.length===1?r[0]:{compositeFilter:{op:whe(n.op),filters:r}}})(t):Pe(54877,{filter:t})}function bhe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function U6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r,i,o=De.min(),a=De.min(),u=Fn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Che{constructor(e){this.yt=e}}function xhe(t){const e=The({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ey(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ihe{constructor(){this.Cn=new Rhe}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Ea.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class Rhe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gn(_t.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F6=41943040;class dr{static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(F6,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nc(0)}static cr(){return new Nc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="LruGarbageCollector",Phe=1048576;function u2([t,e],[n,r]){const i=Je(t,n);return i===0?Je(e,r):i}class Mhe{constructor(e){this.Ir=e,this.buffer=new gn(u2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();u2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Nhe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(l2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jc(n)?_e(l2,"Ignoring IndexedDB error during garbage collection: ",n):await Wc(n)}await this.Vr(3e5)}))}}class Dhe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(iv.ce);const r=new Mhe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(a2)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a2):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,a,u,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),Yu()<=We.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function khe(t,e){return new Dhe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ohe{constructor(){this.changes=new eu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lhe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vhe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&kd(r.mutation,i,Nr.empty(),bt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Cl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let a=Td();return o.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Cl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,i){let o=ss();const a=Dd(),u=(function(){return Dd()})();return n.forEach(((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Va)?o=o.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),kd(h.mutation,d,h.mutation.getFieldMask(),bt.now())):a.set(d.key,Nr.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((d,h)=>a.set(d,h))),n.forEach(((d,h)=>u.set(d,new Lhe(h,a.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Dd();let i=new Dt(((a,u)=>a-u)),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Nr.empty();h=u.applyToLocalView(d,h),r.set(c,h);const m=(i.get(u.batchId)||Xe()).add(c);i=i.insert(u.batchId,m)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,h=c.value,m=_6();h.forEach((y=>{if(!o.has(y)){const A=C6(n.get(y),r.get(y));A!==null&&m.set(y,A),o=o.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return fe.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):fe.resolve(Cl());let u=th,c=o;return a.next((d=>fe.forEach(d,((h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{c=c.insert(h,y)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,c,d,Xe()))).next((h=>({batchId:u,changes:v6(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let i=Td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Td();return this.indexManager.getCollectionParents(e,o).next((u=>fe.forEach(u,(c=>{const d=(function(m,y){return new Xc(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((m,y)=>{a=a.insert(m,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((a=>{o.forEach(((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,Gn.newInvalidDocument(h)))}));let u=Td();return a.forEach(((c,d)=>{const h=o.get(c);h!==void 0&&kd(h.mutation,d,Nr.empty(),bt.now()),uv(n,d)&&(u=u.insert(c,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uhe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ro(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:xhe(i.bundledQuery),readTime:ro(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fhe{constructor(){this.overlays=new Dt(be.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cl();return fe.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Cl(),o=n.length+1,a=new be(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Dt(((d,h)=>d-h));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=Cl(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=Cl(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return fe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new rhe(n,r));let o=this.qr.get(n);o===void 0&&(o=Xe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bhe{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.Qr=new gn(bn.$r),this.Ur=new gn(bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new bn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new be(new _t([])),r=new bn(n,e),i=new bn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new _t([])),r=new bn(n,e),i=new bn(n,e+1);let o=Xe();return this.Ur.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new bn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Je(e.Yr,n.Yr)}static Kr(e,n){return Je(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qhe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gn(bn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nhe(o,n,r,i);this.mutationQueue.push(a);for(const u of i)this.Zr=this.Zr.add(new bn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(a)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?cb:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),i=new bn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(a=>{const u=this.Xr(a.Yr);o.push(u)})),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gn(Je);return n.forEach((i=>{const o=new bn(i,0),a=new bn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(u=>{r=r.add(u.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;be.isDocumentKey(o)||(o=o.child(""));const a=new bn(new be(o),0);let u=new gn(Je);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.Yr)),!0)}),a),fe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const o=new bn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new bn(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zhe{constructor(e){this.ri=e,this.docs=(function(){return new Dt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Gn.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ss();const a=n.path,u=new be(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||yde(gde(h),r)<=0||(i.has(h.key)||uv(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Pe(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Hhe(this)}getSize(e){return fe.resolve(this.size)}}class Hhe extends Ohe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ghe{constructor(e){this.persistence=e,this.si=new eu((n=>hb(n)),pb),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new _b,this.targetCount=0,this.ai=Nc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fe.waitFor(o).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.ui={},this.overlays={},this.ci=new iv(0),this.li=!1,this.li=!0,this.hi=new Bhe,this.referenceDelegate=e(this),this.Pi=new Ghe(this),this.indexManager=new Ihe,this.remoteDocumentCache=(function(i){return new zhe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Che(n),this.Ii=new Uhe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qhe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new $he(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class $he extends _de{constructor(e){super(),this.currentSequenceNumber=e}}class Tb{constructor(e){this.persistence=e,this.Ri=new _b,this.Vi=null}static mi(e){return new Tb(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=be.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ry{constructor(e,n){this.persistence=e,this.pi=new eu((r=>Ade(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=khe(this,n)}static mi(e,n){return new ry(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((u=>{u||(r++,o.removeEntry(a,De.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wm(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Xe(),i=Xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Eb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Khe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jhe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Fce()?8:Tde(Yn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new Khe;return this.Ss(e,n,a).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,a,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Yu()<=We.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Wu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Yu()<=We.DEBUG&&_e("QueryEngine","Query:",Wu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Yu()<=We.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Wu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,no(n))):fe.resolve())}ys(e,n){if(Xk(n))return fe.resolve(null);let r=no(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=ey(n,null,"F"),r=no(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const a=Xe(...o);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,u);return this.Cs(n,d,a,c.readTime)?this.ys(e,ey(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,i){return Xk(n)||i.isEqual(De.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,i)?fe.resolve(null):(Yu()<=We.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wu(n)),this.vs(e,a,n,mde(i,th)).next((u=>u)))}))}Ds(e,n){let r=new gn(g6(e));return n.forEach(((i,o)=>{uv(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Yu()<=We.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Wu(n)),this.ps.getDocumentsMatchingQuery(e,n,Ea.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="LocalStore",Yhe=3e8;class Whe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Dt(Je),this.xs=new eu((o=>hb(o)),pb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vhe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Jhe(t,e,n,r){return new Whe(t,e,n,r)}async function q6(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const a=[],u=[];let c=Xe();for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of o){u.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:u})))}))}))}function Xhe(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,c,d,h){const m=d.batch,y=m.keys();let A=fe.resolve();return y.forEach((S=>{A=A.next((()=>h.getEntry(c,S))).next((b=>{const x=d.docVersions.get(S);lt(x!==null,48541),b.version.compareTo(x)<0&&(m.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),h.addEntry(b)))}))})),A.next((()=>u.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=Xe();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function z6(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Qhe(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,m)=>{const y=i.get(m);if(!y)return;u.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(o,h.addedDocuments,m))));let A=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?A=A.withResumeToken(Fn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):h.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(h.resumeToken,r)),i=i.insert(m,A),(function(b,x,N){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=Yhe?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(y,A,h)&&u.push(n.Pi.updateTargetData(o,A))}));let c=ss(),d=Xe();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(Zhe(o,a,e.documentUpdates).next((h=>{c=h.ks,d=h.qs}))),!r.isEqual(De.min())){const h=n.Pi.getLastRemoteSnapshotVersion(o).next((m=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return fe.waitFor(u).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,d))).next((()=>c))})).then((o=>(n.Ms=i,o)))}function Zhe(t,e,n){let r=Xe(),i=Xe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let a=ss();return n.forEach(((u,c)=>{const d=o.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):_e(Ab,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{ks:a,qs:i}}))}function epe(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=cb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tpe(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,fe.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new aa(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function BA(t,e,n){const r=Le(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Jc(a))throw a;_e(Ab,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function c2(t,e,n){const r=Le(t);let i=De.min(),o=Xe();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,d,h){const m=Le(c),y=m.xs.get(h);return y!==void 0?fe.resolve(m.Ms.get(y)):m.Pi.getTargetData(d,h)})(r,a,no(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next((c=>{o=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:De.min(),n?o:Xe()))).next((u=>(npe(r,qde(e),u),{documents:u,Qs:o})))))}function npe(t,e,n){let r=t.Os.get(e)||De.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class f2{constructor(){this.activeTargetIds=jde()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rpe{constructor(){this.Mo=new f2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ipe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="ConnectivityMonitor";class h2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(d2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(d2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm=null;function qA(){return Lm===null?Lm=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lm++,"0x"+Lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="RestConnection",ope={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class spe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Xg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const a=qA(),u=this.zo(e,n.toUriEncodedString());_e(oE,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,o);const{host:d}=new URL(u),h=Ql(d);return this.Jo(e,u,c,r,h).then((m=>(_e(oE,`Received RPC '${e}' ${a}: `,m),m)),(m=>{throw xc(oE,`RPC '${e}' ${a} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,n,r,i,o,a){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=ope[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ape{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class lpe extends spe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const a=qA();return new Promise(((u,c)=>{const d=new H3;d.setWithCredentials(!0),d.listenOnce(G3.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ym.NO_ERROR:const m=d.getResponseJson();_e(qn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),u(m);break;case Ym.TIMEOUT:_e(qn,`RPC '${e}' ${a} timed out`),c(new ge(le.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:const y=d.getStatus();if(_e(qn,`RPC '${e}' ${a} failed with status:`,y,"response text:",d.getResponseText()),y>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const S=A==null?void 0:A.error;if(S&&S.status&&S.message){const b=(function(N){const B=N.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(B)>=0?B:le.UNKNOWN})(S.status);c(new ge(b,S.message))}else c(new ge(le.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ge(le.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{_e(qn,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);_e(qn,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=qA(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=j3(),u=K3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");_e(qn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=a.createWebChannel(h,c);this.I_(m);let y=!1,A=!1;const S=new ape({Yo:x=>{A?_e(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||(_e(qn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),_e(qn,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},Zo:()=>m.close()}),b=(x,N,B)=>{x.listen(N,(k=>{try{B(k)}catch(H){setTimeout((()=>{throw H}),0)}}))};return b(m,_d.EventType.OPEN,(()=>{A||(_e(qn,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),b(m,_d.EventType.CLOSE,(()=>{A||(A=!0,_e(qn,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(m))})),b(m,_d.EventType.ERROR,(x=>{A||(A=!0,xc(qn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),S.a_(new ge(le.UNAVAILABLE,"The operation could not be completed")))})),b(m,_d.EventType.MESSAGE,(x=>{var N;if(!A){const B=x.data[0];lt(!!B,16349);const k=B,H=(k==null?void 0:k.error)||((N=k[0])==null?void 0:N.error);if(H){_e(qn,`RPC '${e}' stream ${i} received error:`,H);const F=H.status;let G=(function(L){const z=on[L];if(z!==void 0)return R6(z)})(F),P=H.message;G===void 0&&(G=le.INTERNAL,P="Unknown error status: "+F+" with message "+H.message),A=!0,S.a_(new ge(G,P)),m.close()}else _e(qn,`RPC '${e}' stream ${i} received:`,B),S.u_(B)}})),b(u,$3.STAT_EVENT,(x=>{x.stat===RA.PROXY?_e(qn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===RA.NOPROXY&&_e(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){return new dhe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="PersistentStream";class G6{constructor(e,n,r,i,o,a,u,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ge(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(p2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(p2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class upe extends G6{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mhe(this.serializer,e),r=(function(o){if(!("targetChange"in o))return De.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?De.min():a.readTime?ro(a.readTime):De.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=FA(this.serializer),n.addTarget=(function(o,a){let u;const c=a.target;if(u=kA(c)?{documents:vhe(o,c)}:{query:_he(o,c).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=N6(o,a.resumeToken);const d=LA(o,a.expectedCount);d!==null&&(u.expectedCount=d)}else if(a.snapshotVersion.compareTo(De.min())>0){u.readTime=ny(o,a.snapshotVersion.toTimestamp());const d=LA(o,a.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=Ehe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=FA(this.serializer),n.removeTarget=e,this.q_(n)}}class cpe extends G6{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yhe(e.writeResults,e.commitTime),r=ro(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=FA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ghe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{}class dpe extends fpe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,VA(n,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(le.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,VA(n,r),i,a,u,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(le.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hpe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="RemoteStore";class ppe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{tu(this)&&(_e($l,"Restarting streams for network reachability change."),await(async function(c){const d=Le(c);d.Ea.add(4),await Oh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await pv(d)})(this))}))})),this.Ra=new hpe(r,i)}}async function pv(t){if(tu(t))for(const e of t.da)await e(!0)}async function Oh(t){for(const e of t.da)await e(!1)}function $6(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cb(n)?bb(n):Qc(n).O_()&&wb(n,e))}function Sb(t,e){const n=Le(t),r=Qc(n);n.Ia.delete(e),r.O_()&&K6(n,e),n.Ia.size===0&&(r.O_()?r.L_():tu(n)&&n.Ra.set("Unknown"))}function wb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qc(t).Y_(e)}function K6(t,e){t.Va.Ue(e),Qc(t).Z_(e)}function bb(t){t.Va=new lhe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Qc(t).start(),t.Ra.ua()}function Cb(t){return tu(t)&&!Qc(t).x_()&&t.Ia.size>0}function tu(t){return Le(t).Ea.size===0}function j6(t){t.Va=void 0}async function mpe(t){t.Ra.set("Online")}async function gpe(t){t.Ia.forEach(((e,n)=>{wb(t,e)}))}async function ype(t,e){j6(t),Cb(t)?(t.Ra.ha(e),bb(t)):t.Ra.set("Unknown")}async function vpe(t,e,n){if(t.Ra.set("Online"),e instanceof M6&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){_e($l,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await iy(t,r)}else if(e instanceof Qm?t.Va.Ze(e):e instanceof P6?t.Va.st(e):t.Va.tt(e),!n.isEqual(De.min()))try{const r=await z6(t.localStore);n.compareTo(r)>=0&&await(function(o,a){const u=o.Va.Tt(a);return u.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(d);h&&o.Ia.set(d,h.withResumeToken(c.resumeToken,a))}})),u.targetMismatches.forEach(((c,d)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(Fn.EMPTY_BYTE_STRING,h.snapshotVersion)),K6(o,c);const m=new aa(h.target,c,d,h.sequenceNumber);wb(o,m)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){_e($l,"Failed to raise snapshot:",r),await iy(t,r)}}async function iy(t,e,n){if(!Jc(e))throw e;t.Ea.add(1),await Oh(t),t.Ra.set("Offline"),n||(n=()=>z6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e($l,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pv(t)}))}function Y6(t,e){return e().catch((n=>iy(t,n,e)))}async function mv(t){const e=Le(t),n=ba(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cb;for(;_pe(e);)try{const i=await epe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Tpe(e,i)}catch(i){await iy(e,i)}W6(e)&&J6(e)}function _pe(t){return tu(t)&&t.Ta.length<10}function Tpe(t,e){t.Ta.push(e);const n=ba(t);n.O_()&&n.X_&&n.ea(e.mutations)}function W6(t){return tu(t)&&!ba(t).x_()&&t.Ta.length>0}function J6(t){ba(t).start()}async function Epe(t){ba(t).ra()}async function Ape(t){const e=ba(t);for(const n of t.Ta)e.ea(n.mutations)}async function Spe(t,e,n){const r=t.Ta.shift(),i=gb.from(r,e,n);await Y6(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await mv(t)}async function wpe(t,e){e&&ba(t).X_&&await(async function(r,i){if((function(a){return ohe(a)&&a!==le.ABORTED})(i.code)){const o=r.Ta.shift();ba(r).B_(),await Y6(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await mv(r)}})(t,e),W6(t)&&J6(t)}async function m2(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),_e($l,"RemoteStore received new credentials");const r=tu(n);n.Ea.add(3),await Oh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pv(n)}async function bpe(t,e){const n=Le(t);e?(n.Ea.delete(2),await pv(n)):e||(n.Ea.add(2),await Oh(n),n.Ra.set("Unknown"))}function Qc(t){return t.ma||(t.ma=(function(n,r,i){const o=Le(n);return o.sa(),new upe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:mpe.bind(null,t),t_:gpe.bind(null,t),r_:ype.bind(null,t),H_:vpe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Cb(t)?bb(t):t.Ra.set("Unknown")):(await t.ma.stop(),j6(t))}))),t.ma}function ba(t){return t.fa||(t.fa=(function(n,r,i){const o=Le(n);return o.sa(),new cpe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Epe.bind(null,t),r_:wpe.bind(null,t),ta:Ape.bind(null,t),na:Spe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await mv(t)):(await t.fa.stop(),t.Ta.length>0&&(_e($l,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,u=new xb(e,n,a,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ib(t,e){if(os("AsyncQueue",`${e}: ${t}`),Jc(t))return new ge(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{static emptySet(e){return new pc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Td(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.ga=new Dt(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Dc{constructor(e,n,r,i,o,a,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new Dc(e,n,pc.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cpe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xpe{constructor(){this.queries=y2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Le(n),o=i.queries;i.queries=y2(),o.forEach(((a,u)=>{for(const c of u.Sa)c.onError(r)}))})(this,new ge(le.ABORTED,"Firestore shutting down"))}}function y2(){return new eu((t=>m6(t)),lv)}async function Rb(t,e){const n=Le(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new Cpe,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=Ib(a,`Initialization of query '${Wu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Mb(n)}async function Pb(t,e){const n=Le(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ipe(t,e){const n=Le(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const u of a.Sa)u.Fa(i)&&(r=!0);a.wa=i}}r&&Mb(n)}function Rpe(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function Mb(t){t.Ca.forEach((e=>{e.next()}))}var zA,v2;(v2=zA||(zA={})).Ma="default",v2.Cache="cache";class Nb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.key=e}}class Q6{constructor(e){this.key=e}}class Ppe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=g6(e),this.tu=new pc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new g2,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const y=i.get(h),A=uv(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),b=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let x=!1;y&&A?y.data.isEqual(A.data)?S!==b&&(r.track({type:3,doc:A}),x=!0):this.su(y,A)||(r.track({type:2,doc:A}),x=!0,(c&&this.eu(A,c)>0||d&&this.eu(A,d)<0)&&(u=!0)):!y&&A?(r.track({type:0,doc:A}),x=!0):y&&!A&&(r.track({type:1,doc:y}),x=!0,(c||d)&&(u=!0)),x&&(A?(a=a.add(A),o=b?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((h,m)=>(function(A,S){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:x})}};return b(A)-b(S)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new Dc(this.query,e.tu,o,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Q6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new X6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Db="SyncEngine";class Mpe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Npe{constructor(e){this.key=e,this.hu=!1}}class Dpe{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new eu((u=>m6(u)),lv),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(be.comparator),this.Au=new Map,this.Ru=new _b,this.Vu={},this.mu=new Map,this.fu=Nc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kpe(t,e,n=!0){const r=iF(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Z6(r,e,n,!0),i}async function Ope(t,e){const n=iF(t);await Z6(n,e,!0,!1)}async function Z6(t,e,n,r){const i=await tpe(t.localStore,no(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await Lpe(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&$6(t.remoteStore,i),u}async function Lpe(t,e,n,r,i){t.pu=(m,y,A)=>(async function(b,x,N,B){let k=x.view.ru(N);k.Cs&&(k=await c2(b.localStore,x.query,!1).then((({documents:P})=>x.view.ru(P,k))));const H=B&&B.targetChanges.get(x.targetId),F=B&&B.targetMismatches.get(x.targetId)!=null,G=x.view.applyChanges(k,b.isPrimaryClient,H,F);return T2(b,x.targetId,G.au),G.snapshot})(t,m,y,A);const o=await c2(t.localStore,e,!0),a=new Ppe(e,o.Qs),u=a.ru(o.documents),c=kh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(u,t.isPrimaryClient,c);T2(t,n,d.au);const h=new Mpe(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Vpe(t,e,n){const r=Le(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((a=>!lv(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await BA(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sb(r.remoteStore,i.targetId),HA(r,i.targetId)})).catch(Wc)):(HA(r,i.targetId),await BA(r.localStore,i.targetId,!0))}async function Upe(t,e){const n=Le(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sb(n.remoteStore,r.targetId))}async function Fpe(t,e,n){const r=Kpe(t);try{const i=await(function(a,u){const c=Le(a),d=bt.now(),h=u.reduce(((A,S)=>A.add(S.key)),Xe());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let S=ss(),b=Xe();return c.Ns.getEntries(A,h).next((x=>{S=x,S.forEach(((N,B)=>{B.isValidDocument()||(b=b.add(N))}))})).next((()=>c.localDocuments.getOverlayedDocuments(A,S))).next((x=>{m=x;const N=[];for(const B of u){const k=ehe(B,m.get(B.key).overlayedDocument);k!=null&&N.push(new Va(B.key,k,a6(k.value.mapValue),bi.exists(!0)))}return c.mutationQueue.addMutationBatch(A,d,N,u)})).next((x=>{y=x;const N=x.applyToLocalDocumentSet(m,b);return c.documentOverlayCache.saveOverlays(A,x.batchId,N)}))})).then((()=>({batchId:y.batchId,changes:v6(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,u,c){let d=a.Vu[a.currentUser.toKey()];d||(d=new Dt(Je)),d=d.insert(u,c),a.Vu[a.currentUser.toKey()]=d})(r,i.batchId,n),await Lh(r,i.changes),await mv(r.remoteStore)}catch(i){const o=Ib(i,"Failed to persist write");n.reject(o)}}async function eF(t,e){const n=Le(t);try{const r=await Qhe(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Au.get(o);a&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?lt(a.hu,14607):i.removedDocuments.size>0&&(lt(a.hu,42227),a.hu=!1))})),await Lh(n,r,e)}catch(r){await Wc(r)}}function _2(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const c=Le(a);c.onlineState=u;let d=!1;c.queries.forEach(((h,m)=>{for(const y of m.Sa)y.va(u)&&(d=!0)})),d&&Mb(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bpe(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new Dt(be.comparator);a=a.insert(o,Gn.newNoDocument(o,De.min()));const u=Xe().add(o),c=new dv(De.min(),new Map,new Dt(Je),a,u);await eF(r,c),r.du=r.du.remove(o),r.Au.delete(e),kb(r)}else await BA(r.localStore,e,!1).then((()=>HA(r,e,n))).catch(Wc)}async function qpe(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await Xhe(n.localStore,e);nF(n,r,null),tF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lh(n,i)}catch(i){await Wc(i)}}async function zpe(t,e,n){const r=Le(t);try{const i=await(function(a,u){const c=Le(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return c.mutationQueue.lookupMutationBatch(d,u).next((m=>(lt(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>c.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);nF(r,e,n),tF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lh(r,i)}catch(i){await Wc(i)}}function tF(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nF(t,e,n){const r=Le(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function HA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||rF(t,r)}))}function rF(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),kb(t))}function T2(t,e,n){for(const r of n)r instanceof X6?(t.Ru.addReference(r.key,e),Hpe(t,r)):r instanceof Q6?(_e(Db,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||rF(t,r.key)):Pe(19791,{wu:r})}function Hpe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(_e(Db,"New document in limbo: "+n),t.Eu.add(r),kb(t))}function kb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(_t.fromString(e)),r=t.fu.next();t.Au.set(r,new Npe(n)),t.du=t.du.insert(n,r),$6(t.remoteStore,new aa(no(av(n.path)),r,"TargetPurposeLimboResolution",iv.ce))}}async function Lh(t,e,n){const r=Le(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{a.push(r.pu(c,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=Eb.As(c.targetId,d);o.push(m)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(c,d){const h=Le(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>fe.forEach(d,(y=>fe.forEach(y.Es,(A=>h.persistence.referenceDelegate.addReference(m,y.targetId,A))).next((()=>fe.forEach(y.ds,(A=>h.persistence.referenceDelegate.removeReference(m,y.targetId,A)))))))))}catch(m){if(!Jc(m))throw m;_e(Ab,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const A=h.Ms.get(y),S=A.snapshotVersion,b=A.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(y,b)}}})(r.localStore,o))}async function Gpe(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){_e(Db,"User change. New user:",e.toKey());const r=await q6(n.localStore,e);n.currentUser=e,(function(o,a){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new ge(le.CANCELLED,a))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lh(n,r.Ls)}}function $pe(t,e){const n=Le(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let i=Xe();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const u=n.Tu.get(a);i=i.unionWith(u.view.nu)}return i}}function iF(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$pe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bpe.bind(null,e),e.Pu.H_=Ipe.bind(null,e.eventManager),e.Pu.yu=Rpe.bind(null,e.eventManager),e}function Kpe(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zpe.bind(null,e),e}class oy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Jhe(this.persistence,new jhe,e.initialUser,this.serializer)}Cu(e){return new B6(Tb.mi,this.serializer)}Du(e){return new rpe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oy.provider={build:()=>new oy};class jpe extends oy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof ry,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Nhe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new B6((r=>ry.mi(r,n)),this.serializer)}}class GA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gpe.bind(null,this.syncEngine),await bpe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xpe})()}createDatastore(e){const n=hv(e.databaseInfo.databaseId),r=(function(o){return new lpe(o)})(e.databaseInfo);return(function(o,a,u,c){return new dpe(o,a,u,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,a,u){return new ppe(r,i,o,a,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>_2(this.syncEngine,n,0)),(function(){return h2.v()?new h2:new ipe})())}createSyncEngine(e,n){return(function(i,o,a,u,c,d,h){const m=new Dpe(i,o,a,u,c,d);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Le(i);_e($l,"RemoteStore shutting down."),o.Ea.add(5),await Oh(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}GA.provider={build:()=>new GA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="FirestoreClient";class Ype{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=ub.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async a=>{_e(Ca,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(_e(Ca,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ib(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function aE(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Ca,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await q6(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function E2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Wpe(t);_e(Ca,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>m2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>m2(e.remoteStore,i))),t._onlineComponents=e}async function Wpe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Ca,"Using user provided OfflineComponentProvider");try{await aE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;xc("Error using user provided cache. Falling back to memory cache: "+n),await aE(t,new oy)}}else _e(Ca,"Using default OfflineComponentProvider"),await aE(t,new jpe(void 0));return t._offlineComponents}async function oF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Ca,"Using user provided OnlineComponentProvider"),await E2(t,t._uninitializedComponentsProvider._online)):(_e(Ca,"Using default OnlineComponentProvider"),await E2(t,new GA))),t._onlineComponents}function Jpe(t){return oF(t).then((e=>e.syncEngine))}async function sy(t){const e=await oF(t),n=e.eventManager;return n.onListen=kpe.bind(null,e.syncEngine),n.onUnlisten=Vpe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ope.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Upe.bind(null,e.syncEngine),n}function Xpe(t,e,n={}){const r=new jo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,c,d){const h=new Ob({next:y=>{h.Nu(),a.enqueueAndForget((()=>Pb(o,m)));const A=y.docs.has(u);!A&&y.fromCache?d.reject(new ge(le.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&y.fromCache&&c&&c.source==="server"?d.reject(new ge(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new Nb(av(u.path),h,{includeMetadataChanges:!0,qa:!0});return Rb(o,m)})(await sy(t),t.asyncQueue,e,n,r))),r.promise}function Qpe(t,e,n={}){const r=new jo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,c,d){const h=new Ob({next:y=>{h.Nu(),a.enqueueAndForget((()=>Pb(o,m))),y.fromCache&&c.source==="server"?d.reject(new ge(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new Nb(u,h,{includeMetadataChanges:!0,qa:!0});return Rb(o,m)})(await sy(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="firestore.googleapis.com",S2=!0;class w2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aF,this.ssl=S2}else this.host=e.host,this.ssl=e.ssl??S2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Phe)throw new ge(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hde("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sF(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rde;switch(r.type){case"firstParty":return new ade(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=A2.get(n);r&&(_e("ComponentProvider","Removing Datastore"),A2.delete(n),r.terminate())})(this),Promise.resolve()}}function Zpe(t,e,n,r={}){var d;t=kr(t,gv);const i=Ql(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(rb(`https://${u}`),ib("Firestore",!0)),o.host!==aF&&o.host!==u&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!_a(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Hn.MOCK_USER;else{h=L3(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ge(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Hn(y)}t._authCredentials=new ide(new W3(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nh(n,Ut._jsonSchema))return new Ut(e,r||null,new be(_t.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:un("string",Ut._jsonSchemaVersion),referencePath:un("string")};class da extends gs{constructor(e,n,r){super(e,n,av(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new be(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function Vh(t,e,...n){if(t=yn(t),J3("collection","path",e),t instanceof gv){const r=_t.fromString(e,...n);return Vk(r),new da(t,null,r)}{if(!(t instanceof Ut||t instanceof da))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return Vk(r),new da(t.firestore,null,r)}}function ha(t,e,...n){if(t=yn(t),arguments.length===1&&(e=ub.newId()),J3("doc","path",e),t instanceof gv){const r=_t.fromString(e,...n);return Lk(r),new Ut(t,null,new be(r))}{if(!(t instanceof Ut||t instanceof da))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return Lk(r),new Ut(t.firestore,t instanceof da?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="AsyncQueue";class C2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H6(this,"async_queue_retry"),this._c=()=>{const r=sE();r&&_e(b2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new jo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jc(e))throw e;_e(b2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",x2(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=xb.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Pe(47125,{Pc:x2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function x2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class xa extends gv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new C2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C2(e),this._firestoreClient=void 0,await e}}}function eme(t,e){const n=typeof t=="object"?t:ab(),r=typeof t=="string"?t:Xg,i=nv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=D3("firestore");o&&Zpe(i,...o)}return i}function yv(t){if(t._terminated)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tme(t),t._firestoreClient}function tme(t){var r,i,o;const e=t._freezeSettings(),n=(function(u,c,d,h){return new bde(u,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sF(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ype(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(Fn.fromBase64String(e))}catch(n){throw new ge(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nh(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:un("string",Qr._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:io._jsonSchemaVersion}}static fromJSON(e){if(Nh(e,io._jsonSchema))return new io(e.latitude,e.longitude)}}io._jsonSchemaVersion="firestore/geoPoint/1.0",io._jsonSchema={type:un("string",io._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nh(e,oo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new oo(e.vectorValues);throw new ge(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oo._jsonSchemaVersion="firestore/vectorValue/1.0",oo._jsonSchema={type:un("string",oo._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nme=/^__.*__$/;class rme{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dh(e,this.data,n,this.fieldTransforms)}}class lF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Va(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class _v{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _v({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ay(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uF(this.Ac)&&nme.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ime{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hv(e)}Cc(e,n,r,i=!1){return new _v({Ac:e,methodName:n,Dc:r,path:Vn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tv(t){const e=t._freezeSettings(),n=hv(t._databaseId);return new ime(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cF(t,e,n,r,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Ub("Data must be an object, but it was:",a,r);const u=fF(r,a);let c,d;if(o.merge)c=new Nr(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const y=$A(e,m,n);if(!a.contains(y))throw new ge(le.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);hF(h,y)||h.push(y)}c=new Nr(h),d=a.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=a.fieldTransforms;return new rme(new hr(u),c,d)}class Ev extends Uh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ev}}function ome(t,e,n){return new _v({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Lb extends Uh{_toFieldTransform(e){return new b6(e.path,new sh)}isEqual(e){return e instanceof Lb}}class Vb extends Uh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=ome(this,e,!0),r=this.vc.map((o=>Zc(o,n))),i=new Mc(r);return new b6(e.path,i)}isEqual(e){return e instanceof Vb&&_a(this.vc,e.vc)}}function sme(t,e,n,r){const i=t.Cc(1,e,n);Ub("Data must be an object, but it was:",i,r);const o=[],a=hr.empty();La(r,((c,d)=>{const h=Fb(e,c,n);d=yn(d);const m=i.yc(h);if(d instanceof Ev)o.push(h);else{const y=Zc(d,m);y!=null&&(o.push(h),a.set(h,y))}}));const u=new Nr(o);return new lF(a,u,i.fieldTransforms)}function ame(t,e,n,r,i,o){const a=t.Cc(1,e,n),u=[$A(e,r,n)],c=[i];if(o.length%2!=0)throw new ge(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push($A(e,o[y])),c.push(o[y+1]);const d=[],h=hr.empty();for(let y=u.length-1;y>=0;--y)if(!hF(d,u[y])){const A=u[y];let S=c[y];S=yn(S);const b=a.yc(A);if(S instanceof Ev)d.push(A);else{const x=Zc(S,b);x!=null&&(d.push(A),h.set(A,x))}}const m=new Nr(d);return new lF(h,m,a.fieldTransforms)}function lme(t,e,n,r=!1){return Zc(n,t.Cc(r?4:3,e))}function Zc(t,e){if(dF(t=yn(t)))return Ub("Unsupported field value:",e,t),fF(t,e);if(t instanceof Uh)return(function(r,i){if(!uF(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let a=0;for(const u of r){let c=Zc(u,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yde(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bt.fromDate(r);return{timestampValue:ny(i.serializer,o)}}if(r instanceof bt){const o=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ny(i.serializer,o)}}if(r instanceof io)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:N6(i.serializer,r._byteString)};if(r instanceof Ut){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof oo)return(function(a,u){return{mapValue:{fields:{[o6]:{stringValue:s6},[Qg]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return mb(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${rv(r)}`)})(t,e)}function fF(t,e){const n={};return Z3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(t,((r,i)=>{const o=Zc(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function dF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof io||t instanceof Qr||t instanceof Ut||t instanceof Uh||t instanceof oo)}function Ub(t,e,n){if(!dF(n)||!X3(n)){const r=rv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function $A(t,e,n){if((e=yn(e))instanceof vv)return e._internalPath;if(typeof e=="string")return Fb(t,e);throw ay("Field path arguments must be of type string or ",t,!1,void 0,n)}const ume=new RegExp("[~\\*/\\[\\]]");function Fb(t,e,n){if(e.search(ume)>=0)throw ay(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vv(...e.split("."))._internalPath}catch{throw ay(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ay(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new ge(le.INVALID_ARGUMENT,u+t+c)}function hF(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Av("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cme extends pF{data(){return super.data()}}function Av(t,e){return typeof e=="string"?Fb(t,e):e instanceof vv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bb{}class qb extends Bb{}function zb(t,e,...n){let r=[];e instanceof Bb&&r.push(e),r=r.concat(n),(function(o){const a=o.filter((c=>c instanceof Hb)).length,u=o.filter((c=>c instanceof Sv)).length;if(a>1||a>0&&u>0)throw new ge(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Sv extends qb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sv(e,n,r)}_apply(e){const n=this._parse(e);return _F(e._query,n),new gs(e.firestore,e.converter,OA(e._query,n))}_parse(e){const n=Tv(e.firestore);return(function(o,a,u,c,d,h,m){let y;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ge(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){P2(m,h);const S=[];for(const b of m)S.push(R2(c,o,b));y={arrayValue:{values:S}}}else y=R2(c,o,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||P2(m,h),y=lme(u,a,m,h==="in"||h==="not-in");return ln.create(d,h,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gF(t,e,n){const r=e,i=Av("where",t);return Sv._create(i,r,n)}class Hb extends Bb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hb(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i;const u=o.getFlattenedFilters();for(const c of u)_F(a,c),a=OA(a,c)})(e._query,n),new gs(e.firestore,e.converter,OA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gb extends qb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gb(e,n)}_apply(e){const n=(function(i,o,a){if(i.startAt!==null)throw new ge(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oh(o,a)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,(function(i,o){const a=i.explicitOrderBy.concat([o]);return new Xc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function yF(t,e="asc"){const n=e,r=Av("orderBy",t);return Gb._create(r,n)}class $b extends qb{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $b(e,n,r)}_apply(e){return new gs(e.firestore,e.converter,ey(e._query,this._limit,this._limitType))}}function vF(t){return pde("limit",t),$b._create("limit",t,"F")}function R2(t,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new ge(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p6(e)&&n.indexOf("/")!==-1)throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!be.isDocumentKey(r))throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $k(t,new be(r))}if(n instanceof Ut)return $k(t,n._key);throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rv(n)}.`)}function P2(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _F(t,e){const n=(function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fme{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return La(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Qg].arrayValue)==null?void 0:i.values)==null?void 0:o.map((a=>Yt(a.doubleValue)));return new oo(n)}convertGeoPoint(e){return new io(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);lt(U6(r),9688,{name:e});const i=new rh(r.get(1),r.get(3)),o=new be(r.popFirst(5));return i.isEqual(n)||os(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ad{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kl extends pF{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Av("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=kl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}kl._jsonSchemaVersion="firestore/documentSnapshot/1.0",kl._jsonSchema={type:un("string",kl._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Zm extends kl{data(e={}){return super.data(e)}}class Ol{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ad(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zm(this._firestore,this._userDataWriter,r.key,r,new Ad(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const c=new Zm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ad(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new Zm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ad(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),h=a.indexOf(u.doc.key)),{type:dme(u.type),doc:c,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ub.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dme(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){t=kr(t,Ut);const e=kr(t.firestore,xa);return Xpe(yv(e),t._key).then((n=>wF(e,t,n)))}Ol._jsonSchemaVersion="firestore/querySnapshot/1.0",Ol._jsonSchema={type:un("string",Ol._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class Kb extends fme{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function hme(t){t=kr(t,gs);const e=kr(t.firestore,xa),n=yv(e),r=new Kb(e);return mF(t._query),Qpe(n,t._query).then((i=>new Ol(e,r,t,i)))}function ly(t,e,n){t=kr(t,Ut);const r=kr(t.firestore,xa),i=TF(t.converter,e,n);return jb(r,[cF(Tv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,bi.none())])}function pme(t,e,n,...r){t=kr(t,Ut);const i=kr(t.firestore,xa),o=Tv(i);let a;return a=typeof(e=yn(e))=="string"||e instanceof vv?ame(o,"updateDoc",t._key,e,n,r):sme(o,"updateDoc",t._key,e),jb(i,[a.toMutation(t._key,bi.exists(!0))])}function AF(t,e){const n=kr(t.firestore,xa),r=ha(t),i=TF(t.converter,e);return jb(n,[cF(Tv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then((()=>r))}function SF(t,...e){var c,d,h;t=yn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||I2(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(I2(e[r])){const m=e[r];e[r]=(c=m.next)==null?void 0:c.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let o,a,u;if(t instanceof Ut)a=kr(t.firestore,xa),u=av(t._key.path),o={next:m=>{e[r]&&e[r](wF(a,t,m))},error:e[r+1],complete:e[r+2]};else{const m=kr(t,gs);a=kr(m.firestore,xa),u=m._query;const y=new Kb(a);o={next:A=>{e[r]&&e[r](new Ol(a,y,m,A))},error:e[r+1],complete:e[r+2]},mF(t._query)}return(function(y,A,S,b){const x=new Ob(b),N=new Nb(A,x,S);return y.asyncQueue.enqueueAndForget((async()=>Rb(await sy(y),N))),()=>{x.Nu(),y.asyncQueue.enqueueAndForget((async()=>Pb(await sy(y),N)))}})(yv(a),u,i,o)}function jb(t,e){return(function(r,i){const o=new jo;return r.asyncQueue.enqueueAndForget((async()=>Fpe(await Jpe(r),i,o))),o.promise})(yv(t),e)}function wF(t,e,n){const r=n.docs.get(e._key),i=new Kb(t);return new kl(t,i,e._key,r,new Ad(n.hasPendingWrites,n.fromCache),e.converter)}function pa(){return new Lb("serverTimestamp")}function mme(...t){return new Vb("arrayUnion",t)}(function(e,n=!0){(function(i){Yc=i})(Zl),Hl(new Ta("firestore",((r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),u=new xa(new ode(r.getProvider("auth-internal")),new lde(a,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ge(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(d.options.projectId,h)})(a,i),a);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),to(Nk,Dk,e),to(Nk,Dk,"esm2020")})();var gme="firebase",yme="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */to(gme,yme,"app");function bF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vme=bF,CF=new Ph("auth","Firebase",bF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=new ob("@firebase/auth");function _me(t,...e){uy.logLevel<=We.WARN&&uy.warn(`Auth (${Zl}): ${t}`,...e)}function eg(t,...e){uy.logLevel<=We.ERROR&&uy.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,...e){throw Yb(t,...e)}function so(t,...e){return Yb(t,...e)}function xF(t,e,n){const r={...vme(),[e]:n};return new Ph("auth","Firebase",r).create(e,{appName:t.name})}function Yo(t){return xF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CF.create(t,...e)}function Re(t,e,...n){if(!t)throw Yb(e,...n)}function Ho(t){const e="INTERNAL ASSERTION FAILED: "+t;throw eg(e),new Error(e)}function as(t,e){t||Ho(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Tme(){return M2()==="http:"||M2()==="https:"}function M2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eme(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tme()||Lce()||"connection"in navigator)?navigator.onLine:!0}function Ame(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.shortDelay=e,this.longDelay=n,as(n>e,"Short delay should be less than long delay!"),this.isMobile=Dce()||Vce()}get(){return Eme()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t,e){as(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wme=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bme=new Fh(3e4,6e4);function Ua(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fa(t,e,n,r,i={}){return RF(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=Mh({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...o};return Oce()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ql(t.emulatorConfig.host)&&(d.credentials="include"),IF.fetch()(await PF(t,t.config.apiHost,n,u),d)})}async function RF(t,e,n){t._canInitEmulator=!1;const r={...Sme,...e};try{const i=new xme(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Vm(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vm(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Vm(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Vm(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xF(t,h,d);xi(t,h)}}catch(i){if(i instanceof yo)throw i;xi(t,"network-request-failed",{message:String(i)})}}async function Bh(t,e,n,r,i={}){const o=await Fa(t,e,n,r,i);return"mfaPendingCredential"in o&&xi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function PF(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?Wb(t.config,i):`${t.config.apiScheme}://${i}`;return wme.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function Cme(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xme{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(so(this.auth,"network-request-failed")),bme.get())})}}function Vm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=so(t,e,r);return i.customData._tokenResponse=n,i}function N2(t){return t!==void 0&&t.enterprise!==void 0}class Ime{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Cme(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rme(t,e){return Fa(t,"GET","/v2/recaptchaConfig",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pme(t,e){return Fa(t,"POST","/v1/accounts:delete",e)}async function cy(t,e){return Fa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mme(t,e=!1){const n=yn(t),r=await n.getIdToken(e),i=Jb(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Od(lE(i.auth_time)),issuedAtTime:Od(lE(i.iat)),expirationTime:Od(lE(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function lE(t){return Number(t)*1e3}function Jb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return eg("JWT malformed, contained fewer than 3 sections"),null;try{const i=M3(n);return i?JSON.parse(i):(eg("Failed to decode base64 JWT payload"),null)}catch(i){return eg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function D2(t){const e=Jb(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yo&&Nme(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Nme({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dme{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Od(this.lastLoginAt),this.creationTime=Od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fy(t){var m;const e=t.auth,n=await t.getIdToken(),r=await lh(t,cy(e,{idToken:n}));Re(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(m=i.providerUserInfo)!=null&&m.length?MF(i.providerUserInfo):[],a=Ome(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new jA(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function kme(t){const e=yn(t);await fy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ome(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MF(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lme(t,e){const n=await RF(t,{},async()=>{const r=Mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await PF(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ql(t.emulatorConfig.host)&&(c.credentials="include"),IF.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vme(t,e){return Fa(t,"POST","/v2/accounts:revokeToken",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=D2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Lme(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new mc;return r&&(Re(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Re(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mc,this.toJSON())}_performRefresh(){return Ho("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Dme(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await lh(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mme(this,e)}reload(){return kme(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(Yo(this.auth));const e=await this.getIdToken();return await lh(this,Pme(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:A,providerData:S,stsTokenManager:b}=n;Re(m&&b,e,"internal-error");const x=mc.fromJSON(this.name,b);Re(typeof m=="string",e,"internal-error"),Xs(r,e.name),Xs(i,e.name),Re(typeof y=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),Xs(o,e.name),Xs(a,e.name),Xs(u,e.name),Xs(c,e.name),Xs(d,e.name),Xs(h,e.name);const N=new Si({uid:m,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:A,photoURL:a,phoneNumber:o,tenantId:u,stsTokenManager:x,createdAt:d,lastLoginAt:h});return S&&Array.isArray(S)&&(N.providerData=S.map(B=>({...B}))),c&&(N._redirectEventId=c),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new mc;i.updateFromServerResponse(n);const o=new Si({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?MF(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new mc;u.updateFromIdToken(r);const c=new Si({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Map;function Go(t){as(t instanceof Function,"Expected a class definition");let e=k2.get(t);return e?(as(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NF.type="NONE";const O2=NF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e,n){return`firebase:${t}:${e}:${n}`}class gc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=tg(this.userKey,i.apiKey,o),this.fullPersistenceKey=tg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cy(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gc(Go(O2),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Go(O2);const a=tg(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const h=await d._get(a);if(h){let m;if(typeof h=="string"){const y=await cy(e,{idToken:h}).catch(()=>{});if(!y)break;m=await Si._fromGetAccountInfoResponse(e,y,h)}else m=Si._fromJSON(e,h);d!==o&&(u=m),o=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new gc(o,e,r):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new gc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UF(e))return"Blackberry";if(FF(e))return"Webos";if(kF(e))return"Safari";if((e.includes("chrome/")||OF(e))&&!e.includes("edge/"))return"Chrome";if(VF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DF(t=Yn()){return/firefox\//i.test(t)}function kF(t=Yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OF(t=Yn()){return/crios\//i.test(t)}function LF(t=Yn()){return/iemobile/i.test(t)}function VF(t=Yn()){return/android/i.test(t)}function UF(t=Yn()){return/blackberry/i.test(t)}function FF(t=Yn()){return/webos/i.test(t)}function Xb(t=Yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ume(t=Yn()){var e;return Xb(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Fme(){return Uce()&&document.documentMode===10}function BF(t=Yn()){return Xb(t)||VF(t)||FF(t)||UF(t)||/windows phone/i.test(t)||LF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t,e=[]){let n;switch(t){case"Browser":n=L2(Yn());break;case"Worker":n=`${L2(Yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bme{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qme(t,e={}){return Fa(t,"GET","/v2/passwordPolicy",Ua(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zme=6;class Hme{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zme,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gme{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V2(this),this.idTokenSubscription=new V2(this),this.beforeStateQueue=new Bme(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Go(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await gc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cy(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Mr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ame()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(Yo(this));const n=e?yn(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(Yo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(Yo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qme(this),n=new Hme(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ph("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vme(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Go(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await gc.create(this,[Go(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&_me(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function nu(t){return yn(t)}class V2{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kce(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $me(t){wv=t}function zF(t){return wv.loadJS(t)}function Kme(){return wv.recaptchaEnterpriseScript}function jme(){return wv.gapiScript}function Yme(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Wme{constructor(){this.enterprise=new Jme}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Jme{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xme="recaptcha-enterprise",HF="NO_RECAPTCHA";class Qme{constructor(e){this.type=Xme,this.auth=nu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{Rme(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new Ime(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(c=>{u(c)})})}function i(o,a,u){const c=window.grecaptcha;N2(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(HF)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Wme().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(u=>{if(!n&&N2(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Kme();c.length!==0&&(c+=u),zF(c).then(()=>{i(u,o,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function U2(t,e,n,r=!1,i=!1){const o=new Qme(t);let a;if(i)a=HF;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function YA(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await U2(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await U2(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zme(t,e){const n=nv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(_a(o,e??{}))return i;xi(i,"already-initialized")}return n.initialize({options:e})}function ege(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Go);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tge(t,e,n){const r=nu(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=GF(e),{host:a,port:u}=nge(e),c=u===null?"":`:${u}`,d={url:`${o}//${a}${c}/`},h=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(_a(d,r.config.emulator)&&_a(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ql(a)?(rb(`${o}//${a}${c}`),ib("Auth",!0)):rge()}function GF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nge(t){const e=GF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:F2(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:F2(a)}}}function F2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rge(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ho("not implemented")}_getIdTokenResponse(e){return Ho("not implemented")}_linkToIdToken(e,n){return Ho("not implemented")}_getReauthenticationResolver(e){return Ho("not implemented")}}async function ige(t,e){return Fa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oge(t,e){return Bh(t,"POST","/v1/accounts:signInWithPassword",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sge(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",Ua(t,e))}async function age(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Qb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new uh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YA(e,n,"signInWithPassword",oge);case"emailLink":return sge(e,{email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YA(e,r,"signUpPassword",ige);case"emailLink":return age(e,{idToken:n,email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t,e){return Bh(t,"POST","/v1/accounts:signInWithIdp",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lge="http://localhost";class Kl extends Qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new Kl(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return yc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yc(e,n)}buildRequest(){const e={requestUri:lge,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uge(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cge(t){const e=yd(vd(t)).link,n=e?yd(vd(e)).deep_link_id:null,r=yd(vd(t)).deep_link_id;return(r?yd(vd(r)).link:null)||r||n||e||t}class Zb{constructor(e){const n=yd(vd(e)),r=n.apiKey??null,i=n.oobCode??null,o=uge(n.mode??null);Re(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cge(e);try{return new Zb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this.providerId=ef.PROVIDER_ID}static credential(e,n){return uh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zb.parseLink(n);return Re(r,"argument-error"),uh._fromEmailAndCode(e,r.code,r.tenantId)}}ef.PROVIDER_ID="password";ef.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ef.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends $F{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends qh{constructor(){super("facebook.com")}static credential(e){return Kl._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.FACEBOOK_SIGN_IN_METHOD="facebook.com";na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Kl._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ra.credential(n,r)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends qh{constructor(){super("github.com")}static credential(e){return Kl._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends qh{constructor(){super("twitter.com")}static credential(e,n){return Kl._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oa.credential(n,r)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fge(t,e){return Bh(t,"POST","/v1/accounts:signUp",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Si._fromIdTokenResponse(e,r,i),a=B2(r);return new jl({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=B2(r);return new jl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function B2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends yo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dy(e,n,r,i)}}function KF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dy._fromErrorAndOperation(t,o,e,r):o})}async function dge(t,e,n=!1){const r=await lh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hge(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(Yo(r));const i="reauthenticate";try{const o=await lh(t,KF(r,i,e,t),n);Re(o.idToken,r,"internal-error");const a=Jb(o.idToken);Re(a,r,"internal-error");const{sub:u}=a;return Re(t.uid===u,r,"user-mismatch"),jl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t,e,n=!1){if(Mr(t.app))return Promise.reject(Yo(t));const r="signIn",i=await KF(t,r,e),o=await jl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function pge(t,e){return jF(nu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t){const e=nu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mge(t,e,n){if(Mr(t.app))return Promise.reject(Yo(t));const r=nu(t),a=await YA(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fge).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&YF(t),c}),u=await jl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function gge(t,e,n){return Mr(t.app)?Promise.reject(Yo(t)):pge(yn(t),ef.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YF(t),r})}function yge(t,e,n,r){return yn(t).onIdTokenChanged(e,n,r)}function vge(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function _ge(t){return yn(t).signOut()}const hy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hy,"1"),this.storage.removeItem(hy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tge=1e3,Ege=10;class JF extends WF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Fme()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ege):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Tge)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JF.type="LOCAL";const Age=JF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF extends WF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XF.type="SESSION";const QF=XF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sge(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async d=>d(n.origin,o)),c=await Sge(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wge{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const d=eC("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return window}function bge(t){ao().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(){return typeof ao().WorkerGlobalScope<"u"&&typeof ao().importScripts=="function"}async function Cge(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xge(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Ige(){return ZF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="firebaseLocalStorageDb",Rge=1,py="firebaseLocalStorage",tB="fbase_key";class zh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cv(t,e){return t.transaction([py],e?"readwrite":"readonly").objectStore(py)}function Pge(){const t=indexedDB.deleteDatabase(eB);return new zh(t).toPromise()}function WA(){const t=indexedDB.open(eB,Rge);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(py,{keyPath:tB})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(py)?e(r):(r.close(),await Pge(),e(await WA()))})})}async function q2(t,e,n){const r=Cv(t,!0).put({[tB]:e,value:n});return new zh(r).toPromise()}async function Mge(t,e){const n=Cv(t,!1).get(e),r=await new zh(n).toPromise();return r===void 0?null:r.value}function z2(t,e){const n=Cv(t,!0).delete(e);return new zh(n).toPromise()}const Nge=800,Dge=3;class nB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Dge)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bv._getInstance(Ige()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Cge(),!this.activeServiceWorker)return;this.sender=new wge(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xge()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await WA();return await q2(e,hy,"1"),await z2(e,hy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Mge(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Cv(i,!1).getAll();return new zh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nge)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nB.type="LOCAL";const kge=nB;new Fh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oge(t,e){return e?Go(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends Qb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lge(t){return jF(t.auth,new tC(t),t.bypassAuthState)}function Vge(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),hge(n,new tC(t),t.bypassAuthState)}async function Uge(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),dge(n,new tC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lge;case"linkViaPopup":case"linkViaRedirect":return Uge;case"reauthViaPopup":case"reauthViaRedirect":return Vge;default:xi(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fge=new Fh(2e3,1e4);class ac extends rB{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ac.currentPopupAction&&ac.currentPopupAction.cancel(),ac.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=eC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(so(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(so(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ac.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(so(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fge.get())};e()}}ac.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bge="pendingRedirect",ng=new Map;class qge extends rB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ng.get(this.auth._key());if(!e){try{const r=await zge(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ng.set(this.auth._key(),e)}return this.bypassAuthState||ng.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zge(t,e){const n=$ge(e),r=Gge(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Hge(t,e){ng.set(t._key(),e)}function Gge(t){return Go(t._redirectPersistence)}function $ge(t){return tg(Bge,t.config.apiKey,t.name)}async function Kge(t,e,n=!1){if(Mr(t.app))return Promise.reject(Yo(t));const r=nu(t),i=Oge(r,e),a=await new qge(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jge=600*1e3;class Yge{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wge(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iB(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(so(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jge&&this.cachedEventUids.clear(),this.cachedEventUids.has(H2(e))}saveEventToCache(e){this.cachedEventUids.add(H2(e)),this.lastProcessedEventTime=Date.now()}}function H2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Wge(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jge(t,e={}){return Fa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qge=/^https?/;async function Zge(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Jge(t);for(const n of e)try{if(eye(n))return}catch{}xi(t,"unauthorized-domain")}function eye(t){const e=KA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Qge.test(n))return!1;if(Xge.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tye=new Fh(3e4,6e4);function G2(){const t=ao().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nye(t){return new Promise((e,n)=>{var i,o,a;function r(){G2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G2(),n(so(t,"network-request-failed"))},timeout:tye.get()})}if((o=(i=ao().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=ao().gapi)!=null&&a.load)r();else{const u=Yme("iframefcb");return ao()[u]=()=>{gapi.load?r():n(so(t,"network-request-failed"))},zF(`${jme()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw rg=null,e})}let rg=null;function rye(t){return rg=rg||nye(t),rg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iye=new Fh(5e3,15e3),oye="__/auth/iframe",sye="emulator/auth/iframe",aye={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lye=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uye(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wb(e,sye):`https://${t.config.authDomain}/${oye}`,r={apiKey:e.apiKey,appName:t.name,v:Zl},i=lye.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Mh(r).slice(1)}`}async function cye(t){const e=await rye(t),n=ao().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:uye(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aye,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=so(t,"network-request-failed"),u=ao().setTimeout(()=>{o(a)},iye.get());function c(){ao().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fye={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dye=500,hye=600,pye="_blank",mye="http://localhost";class $2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gye(t,e,n,r=dye,i=hye){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...fye,width:r.toString(),height:i.toString(),top:o,left:a},d=Yn().toLowerCase();n&&(u=OF(d)?pye:n),DF(d)&&(e=e||mye,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[A,S])=>`${y}${A}=${S},`,"");if(Ume(d)&&u!=="_self")return yye(e||"",u),new $2(null);const m=window.open(e||"",u,h);Re(m,t,"popup-blocked");try{m.focus()}catch{}return new $2(m)}function yye(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vye="__/auth/handler",_ye="emulator/auth/handler",Tye=encodeURIComponent("fac");async function K2(t,e,n,r,i,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zl,eventId:i};if(e instanceof $F){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$ce(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(e instanceof qh){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),d=c?`#${Tye}=${encodeURIComponent(c)}`:"";return`${Eye(t)}?${Mh(u).slice(1)}${d}`}function Eye({config:t}){return t.emulator?Wb(t,_ye):`https://${t.authDomain}/${vye}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="webStorageSupport";class Aye{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QF,this._completeRedirectFn=Kge,this._overrideRedirectResult=Hge}async _openPopup(e,n,r,i){var a;as((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await K2(e,n,r,KA(),i);return gye(e,o,eC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await K2(e,n,r,KA(),i);return bge(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(as(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cye(e),r=new Yge(e);return n.register("authEvent",i=>(Re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uE,{type:uE},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[uE];o!==void 0&&n(!!o),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zge(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BF()||kF()||Xb()}}const Sye=Aye;var j2="@firebase/auth",Y2="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wye{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bye(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cye(t){Hl(new Ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Re(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qF(t)},d=new Gme(r,i,o,c);return ege(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hl(new Ta("auth-internal",e=>{const n=nu(e.getProvider("auth").getImmediate());return(r=>new wye(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),to(j2,Y2,bye(t)),to(j2,Y2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xye=300,Iye=O3("authIdTokenMaxAge")||xye;let W2=null;const Rye=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Iye)return;const i=n==null?void 0:n.token;W2!==i&&(W2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Pye(t=ab()){const e=nv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Zme(t,{popupRedirectResolver:Sye,persistence:[kge,Age,QF]}),r=O3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Rye(o.toString());vge(n,a,()=>a(n.currentUser)),yge(n,u=>a(u))}}const i=N3("auth");return i&&tge(n,`http://${i}`),n}function Mye(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}$me({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=so("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Mye().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cye("Browser");const Nye={apiKey:"AIzaSyA6I4hDoOfGTXgSr2peid-gCe5GsfjpkYE",authDomain:"tradesnap-542ce.firebaseapp.com",projectId:"tradesnap-542ce",storageBucket:"tradesnap-542ce.firebasestorage.app",messagingSenderId:"422713399968",appId:"1:422713399968:web:8f0807535117c010ec07c5",measurementId:"G-X4KB8ERB7Q"},nC=F3(Nye),rC=Pye(nC),ri=eme(nC);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="firebasestorage.googleapis.com",Dye="storageBucket",kye=120*1e3,Oye=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends yo{constructor(e,n,r=0){super(cE(e),`Firebase Storage: ${n} (${cE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mo||(mo={}));function cE(t){return"storage/"+t}function Lye(){const t="An unknown error occurred, please check the error payload for server response.";return new vo(mo.UNKNOWN,t)}function Vye(){return new vo(mo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Uye(){return new vo(mo.CANCELED,"User canceled the upload/download.")}function Fye(t){return new vo(mo.INVALID_URL,"Invalid URL '"+t+"'.")}function Bye(t){return new vo(mo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J2(t){return new vo(mo.INVALID_ARGUMENT,t)}function sB(){return new vo(mo.APP_DELETED,"The Firebase app was deleted.")}function qye(t){return new vo(mo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=wi.makeFromUrl(e,n)}catch{return new wi(e,"")}if(r.path==="")return r;throw Bye(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(H){H.path_=decodeURIComponent(H.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",A=new RegExp(`^https?://${m}/${h}/b/${i}/o${y}`,"i"),S={bucket:1,path:3},b=n===oB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",N=new RegExp(`^https?://${b}/${i}/${x}`,"i"),k=[{regex:u,indices:c,postModify:o},{regex:A,indices:S,postModify:d},{regex:N,indices:{bucket:1,path:2},postModify:d}];for(let H=0;H<k.length;H++){const F=k[H],G=F.regex.exec(e);if(G){const P=G[F.indices.bucket];let D=G[F.indices.path];D||(D=""),r=new wi(P,D),F.postModify(r);break}}if(r==null)throw Fye(e);return r}}class zye{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hye(t,e,n){let r=1,i=null,o=null,a=!1,u=0;function c(){return u===2}let d=!1;function h(...x){d||(d=!0,e.apply(null,x))}function m(x){i=setTimeout(()=>{i=null,t(A,c())},x)}function y(){o&&clearTimeout(o)}function A(x,...N){if(d){y();return}if(x){y(),h.call(null,x,...N);return}if(c()||a){y(),h.call(null,x,...N);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,m(k)}let S=!1;function b(x){S||(S=!0,y(),!d&&(i!==null?(x||(u=2),clearTimeout(i),m(0)):x||(u=1)))}return m(0),o=setTimeout(()=>{a=!0,b(!0)},n),b}function Gye(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ye(t){return t!==void 0}function X2(t,e,n,r){if(r<e)throw J2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw J2(`Invalid value for '${t}'. Expected ${n} or less.`)}function Kye(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var my;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(my||(my={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jye(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yye{constructor(e,n,r,i,o,a,u,c,d,h,m,y=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=y,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,b)=>{this.resolve_=S,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Um(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===my.NO_ERROR,c=o.getStatus();if(!u||jye(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===my.ABORT;r(!1,new Um(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Um(d,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());$ye(c)?o(c):o()}catch(c){a(c)}else if(u!==null){const c=Lye();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(i.canceled){const c=this.appDelete_?sB():Uye();a(c)}else{const c=Vye();a(c)}};this.canceled_?n(!1,new Um(!1,null,!0)):this.backoffId_=Hye(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Gye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Um{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wye(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Jye(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Xye(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Qye(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Zye(t,e,n,r,i,o,a=!0,u=!1){const c=Kye(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return Xye(h,e),Wye(h,n),Jye(h,o),Qye(h,r),new Yye(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eve(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function tve(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this._service=e,n instanceof wi?this._location=n:this._location=wi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gy(e,n)}get root(){const e=new wi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tve(this._location.path)}get storage(){return this._service}get parent(){const e=eve(this._location.path);if(e===null)return null;const n=new wi(this._location.bucket,e);return new gy(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qye(e)}}function Q2(t,e){const n=e==null?void 0:e[Dye];return n==null?null:wi.makeFromBucketSpec(n,t)}function nve(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ql(e);i&&(rb(`https://${t.host}/b`),ib("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:L3(o,t.app.options.projectId))}class rve{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=oB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kye,this._maxUploadRetryTime=Oye,this._requests=new Set,i!=null?this._bucket=wi.makeFromBucketSpec(i,this._host):this._bucket=Q2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wi.makeFromBucketSpec(this._url,e):this._bucket=Q2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){X2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){X2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gy(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new zye(sB());{const a=Zye(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Z2="@firebase/storage",eO="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="storage";function ive(t=ab(),e){t=yn(t);const r=nv(t,aB).getImmediate({identifier:e}),i=D3("storage");return i&&ove(r,...i),r}function ove(t,e,n,r={}){nve(t,e,n,r)}function sve(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new rve(n,r,i,e,Zl)}function ave(){Hl(new Ta(aB,sve,"PUBLIC").setMultipleInstances(!0)),to(Z2,eO,""),to(Z2,eO,"esm2020")}ave();ive(nC);const lB=t=>!t||typeof t!="object"?t:Object.entries(t).reduce((e,[n,r])=>(r!==void 0&&(e[n]=r),e),{}),tO=async t=>{const{uid:e,...n}=t,r=ha(ri,"users",e),o={...lB(n)};o.createdAt instanceof Date||o.createdAt||(o.createdAt=pa()),await ly(r,o,{merge:!0})},lve=async t=>{try{const e=Vh(ri,"groups"),n={name:t.name||"Unnamed Group",description:t.description||"",avatar:t.avatar||"globe",type:t.type||"Public",isPrivate:t.isPrivate??!1,password:t.password||null,topic:t.topic||"General",createdBy:t.createdBy||"guest",members:t.members||[],inviteCode:t.inviteCode||null,bannerUrl:t.bannerUrl||null},r=Object.entries(n).reduce((o,[a,u])=>(o[a]=u===void 0?null:u,o),{});console.log("Creating group with data:",r);const i=await AF(e,{...r,createdAt:pa()});return console.log("Group created successfully with ID:",i.id),i.id}catch(e){throw console.error("Detailed Firestore Error in createGroup:",e),e.code==="permission-denied"&&console.error("PERMISSION DENIED: Check Firestore Rules. You might need: allow create: if true;"),e}},uve=(t,e)=>{const n=zb(Vh(ri,"groups"),gF("members","array-contains",t),yF("createdAt","desc"));return SF(n,r=>{const i=[];r.forEach(o=>{i.push({id:o.id,...o.data()})}),e(i)},r=>{console.error("Firestore Error in getGroupsForUser:",r),(r.code==="failed-precondition"||r.message.includes("index"))&&console.error("MISSING INDEX! Create it here:",r.message)})},cve=(t,e)=>{const n=Vh(ri,"groups",t,"messages"),r=zb(n,yF("timestamp","asc"),vF(50));return SF(r,i=>{const o=[];i.forEach(a=>{var c;const u=a.data();o.push({id:a.id,...u,timestamp:(c=u.timestamp)!=null&&c.toMillis?u.timestamp.toMillis():Date.now()})}),e(o)})},fve=async(t,e)=>{const n=Vh(ri,"groups",t,"messages"),r=lB(e);await AF(n,{...r,timestamp:pa(),reactions:{}})},dve=async(t,e)=>{const n=Vh(ri,"groups"),r=zb(n,gF("inviteCode","==",t),vF(1)),i=await hme(r);if(i.empty)return null;const a=i.docs[0].id;return await pme(ha(ri,"groups",a),{members:mme(e)}),a},hve=[{id:"topic-0",title:"Market Structure Basics",description:"Understanding higher highs, higher lows, and trend identification",category:"SMC",difficulty:"Beginner"},{id:"topic-1",title:"Order Blocks",description:"Identifying institutional order blocks and their significance",category:"SMC",difficulty:"Intermediate"},{id:"topic-2",title:"Fair Value Gaps (FVG)",description:"Spotting and trading imbalances in price action",category:"SMC",difficulty:"Intermediate"},{id:"topic-3",title:"Liquidity Pools",description:"Finding where smart money hunts for liquidity",category:"SMC",difficulty:"Advanced"},{id:"topic-4",title:"Break of Structure (BOS)",description:"Recognizing trend continuation signals",category:"SMC",difficulty:"Beginner"},{id:"topic-5",title:"Change of Character (CHoCH)",description:"Identifying potential trend reversals",category:"SMC",difficulty:"Intermediate"},{id:"topic-6",title:"Premium & Discount Zones",description:"Understanding optimal entry and exit zones",category:"SMC",difficulty:"Intermediate"},{id:"topic-7",title:"Inducement",description:"How institutions trap retail traders",category:"SMC",difficulty:"Advanced"},{id:"topic-8",title:"Mitigation Blocks",description:"Price returning to unfilled orders",category:"SMC",difficulty:"Advanced"},{id:"topic-9",title:"Breaker Blocks",description:"Failed order blocks that reverse",category:"SMC",difficulty:"Advanced"},{id:"topic-10",title:"Support and Resistance",description:"Key levels where price tends to react",category:"Price Action",difficulty:"Beginner"},{id:"topic-11",title:"Candlestick Patterns",description:"Reading price action through candle formations",category:"Price Action",difficulty:"Beginner"},{id:"topic-12",title:"Trend Lines & Channels",description:"Drawing and trading dynamic support/resistance",category:"Price Action",difficulty:"Beginner"},{id:"topic-13",title:"Chart Patterns",description:"Head & shoulders, triangles, flags, and more",category:"Price Action",difficulty:"Intermediate"},{id:"topic-14",title:"Volume Analysis",description:"Using volume to confirm price movements",category:"Price Action",difficulty:"Intermediate"},{id:"topic-15",title:"Price Action Confluence",description:"Combining multiple signals for high-probability setups",category:"Price Action",difficulty:"Advanced"},{id:"topic-16",title:"Fibonacci Retracements",description:"Finding potential reversal levels",category:"Price Action",difficulty:"Intermediate"},{id:"topic-17",title:"Fibonacci Extensions",description:"Projecting profit targets",category:"Price Action",difficulty:"Intermediate"},{id:"topic-18",title:"Multiple Timeframe Analysis",description:"Aligning trades across different timeframes",category:"Price Action",difficulty:"Advanced"},{id:"topic-19",title:"Price Action Rejection",description:"Identifying strong rejection wicks and pins",category:"Price Action",difficulty:"Intermediate"},{id:"topic-20",title:"Trading Psychology Basics",description:"Understanding emotions in trading",category:"Psychology",difficulty:"Beginner"},{id:"topic-21",title:"Risk Management",description:"Protecting your capital with proper position sizing",category:"Psychology",difficulty:"Beginner"},{id:"topic-22",title:"Overcoming FOMO",description:"Fear of missing out and how to control it",category:"Psychology",difficulty:"Intermediate"},{id:"topic-23",title:"Dealing with Losses",description:"How to handle losing trades mentally",category:"Psychology",difficulty:"Intermediate"},{id:"topic-24",title:"Trading Discipline",description:"Sticking to your trading plan",category:"Psychology",difficulty:"Advanced"},{id:"topic-25",title:"Revenge Trading",description:"Avoiding emotional trading after losses",category:"Psychology",difficulty:"Intermediate"},{id:"topic-26",title:"Building Confidence",description:"Developing trust in your trading system",category:"Psychology",difficulty:"Advanced"},{id:"topic-27",title:"Journaling Your Trades",description:"Tracking and improving your performance",category:"Psychology",difficulty:"Beginner"},{id:"topic-28",title:"Patience in Trading",description:"Waiting for the right setups",category:"Psychology",difficulty:"Intermediate"},{id:"topic-29",title:"Mindset of Successful Traders",description:"Thinking like a professional trader",category:"Psychology",difficulty:"Advanced"},{id:"topic-30",title:"Money Management Strategies",description:"Advanced capital allocation techniques",category:"Psychology",difficulty:"Advanced"},{id:"topic-31",title:"Market Manipulation",description:"Understanding how big players move markets",category:"SMC",difficulty:"Advanced"},{id:"topic-32",title:"Session Trading",description:"Trading different market sessions effectively",category:"Price Action",difficulty:"Intermediate"},{id:"topic-33",title:"News Trading",description:"How to trade around economic events",category:"Price Action",difficulty:"Advanced"}],pve={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:[.25,.1,.25,1]}},exit:{opacity:0,y:-20,transition:{duration:.2}}},tf=({children:t,className:e})=>M.jsx(mr.div,{variants:pve,initial:"initial",animate:"animate",exit:"exit",className:`pt-24 pb-8 px-4 md:px-8 max-w-7xl mx-auto ${e}`,children:t}),mve=({userProfile:t,setPage:e})=>{const n=[{page:"Market",title:"Live Forex & Crypto",desc:"Simulated real-time market data.",icon:"market",color:"text-emerald-400"},{page:"Analyzer",title:"AI Chart Vision",desc:"Instant technical analysis.",icon:"analyzer",color:"text-blue-400"},{page:"TraderLab",title:"Knowledge Base",desc:"Master trading concepts.",icon:"lab",color:"text-purple-400"},{page:"Community",title:"Global Network",desc:"Join elite trader groups.",icon:"community",color:"text-pink-400"}];return M.jsxs(mr.div,{initial:"initial",animate:"animate",exit:"exit",className:"min-h-screen",children:[M.jsxs("section",{className:"relative h-[85vh] flex flex-col items-center justify-center text-center overflow-hidden px-4",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-50 via-white to-transparent dark:from-[#050810] dark:via-[#0a0e1a] dark:to-transparent -z-10"}),M.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[500px] bg-sky-500/10 dark:bg-cyan-500/10 blur-[120px] rounded-full -z-10 pointer-events-none"}),M.jsxs(mr.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"mb-6",children:[M.jsx("span",{className:"px-4 py-1.5 rounded-full border border-sky-200 dark:border-sky-800 bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 text-xs font-bold tracking-wider uppercase mb-6 inline-block",children:"Tradesnap AI 2.0"}),M.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight text-gray-900 dark:text-white mb-6 leading-tight",children:["Precision Trading ",M.jsx("br",{}),M.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-sky-500 to-indigo-600 dark:from-cyan-400 dark:to-blue-500",children:"Starts Here."})]}),M.jsx("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto leading-relaxed",children:"AI-powered analysis, real-time simulation, and a global community of elite traders. Master the markets without the risk."})]}),M.jsx(mr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"absolute bottom-12",children:M.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-400 text-sm animate-bounce",children:[M.jsx("span",{children:"Explore Features"}),M.jsx(It,{name:"arrowDown",className:"h-4 w-4"})]})})]}),M.jsx("section",{className:"py-20 px-4 md:px-8 max-w-7xl mx-auto",children:M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,i)=>M.jsx(gve,{feature:r,index:i,setPage:e},r.page))})})]})},gve=({feature:t,index:e,setPage:n})=>{const r=R.useRef(null),i=L8(r,{once:!0,margin:"-50px"});return M.jsx(mr.div,{ref:r,initial:{opacity:0,y:30},animate:i?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.5,delay:e*.1},children:M.jsxs("div",{onClick:()=>n(t.page),className:"group cursor-pointer relative p-8 rounded-2xl bg-white/50 dark:bg-[#111625]/60 backdrop-blur-sm border border-gray-200 dark:border-gray-800 hover:border-sky-500 dark:hover:border-cyan-500 transition-all duration-300 hover:shadow-xl hover:shadow-sky-500/10 overflow-hidden h-full",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-gray-50 dark:to-white/5 opacity-0 group-hover:opacity-100 transition-opacity"}),M.jsx("div",{className:`p-3 rounded-xl bg-gray-100 dark:bg-gray-800 w-fit mb-4 ${t.color} bg-opacity-10 dark:bg-opacity-20`,children:M.jsx(It,{name:t.icon,className:"h-6 w-6"})}),M.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t.title}),M.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed",children:t.desc}),M.jsxs("div",{className:"mt-6 flex items-center text-sky-600 dark:text-cyan-400 text-sm font-bold opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all",children:["Open ",M.jsx(It,{name:"arrowRight",className:"ml-2 h-4 w-4"})]})]})})},yve=()=>["EUR/USD","GBP/USD","USD/JPY","USD/CHF","AUD/USD","USD/CAD","NZD/USD","EUR/GBP","EUR/JPY","GBP/JPY","BTC/USD","ETH/USD","XRP/USD","SOL/USD","DOGE/USD","ADA/USD","AVAX/USD","DOT/USD","MATIC/USD","LTC/USD","XAU/USD","XAG/USD","US30","NAS100","SPX500","GER30","UK100","JPN225","OIL/USD","NGAS/USD"].map(e=>({symbol:e,price:e.includes("JPY")?140+Math.random()*10:e.includes("BTC")?64e3:1+Math.random()*.5,change:0,market:e.includes("USD")&&!e.includes("BTC")&&!e.includes("ETH")?"Forex":"Crypto"})),vve=()=>{const[t,e]=R.useState(yve()),[n,r]=R.useState(null),[i,o]=R.useState(""),[a,u]=R.useState(!1),[c,d]=R.useState([]);R.useEffect(()=>{const y=setInterval(()=>{e(A=>A.map(S=>{const b=(Math.random()-.5)*(S.price*.002);return{...S,price:S.price+b,change:b}}))},2e3);return()=>clearInterval(y)},[]);const h=y=>{r(y),o("");const A=[];let S=y.price;for(let b=0;b<30;b++)S=S*(1+(Math.random()*.04-.02)),A.push({i:b,val:S});d(A)},m=async()=>{if(!n)return;u(!0);const y=await x3(n.symbol);o(y),u(!1)};return M.jsxs(tf,{children:[M.jsxs("div",{className:"mb-8 flex items-end justify-between",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Live Market Feed"}),M.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Simulated Real-Time Forex & Crypto Data."})]}),M.jsx("div",{className:"hidden md:block text-xs font-mono text-green-500 animate-pulse",children:" MARKET OPEN"})]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map((y,A)=>M.jsxs("div",{className:"bg-white dark:bg-[#111625] border border-gray-200 dark:border-gray-800 p-4 rounded-xl hover:border-sky-500 dark:hover:border-cyan-500 transition-colors group",children:[M.jsxs("div",{className:"flex justify-between items-start mb-4",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"font-bold text-lg",children:y.symbol}),M.jsx("span",{className:"text-xs text-gray-500 uppercase",children:y.market})]}),M.jsxs("div",{className:`text-right ${y.change>=0?"text-emerald-500":"text-rose-500"}`,children:[M.jsx("div",{className:"font-mono font-medium",children:y.price.toFixed(4)}),M.jsxs("div",{className:"text-xs font-bold flex items-center justify-end gap-1",children:[y.change>=0?"":""," ",Math.abs(y.change).toFixed(4)]})]})]}),M.jsxs(ho,{onClick:()=>h(y),variant:"secondary",className:"w-full text-xs h-9 bg-gray-100 dark:bg-gray-800 hover:bg-sky-100 dark:hover:bg-sky-900/30 hover:text-sky-600 dark:hover:text-sky-400",children:[M.jsx(It,{name:"spark",className:"h-3 w-3"})," Analyze"]})]},A))}),n&&M.jsxs(nb,{onClose:()=>r(null),children:[M.jsx("div",{className:"mb-4",children:M.jsxs("h2",{className:"text-2xl font-bold mb-1 flex items-center gap-2",children:[n.symbol," ",M.jsx("span",{className:"text-sm font-normal text-gray-500 bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded",children:"LIVE FEED"})]})}),M.jsx("div",{className:"h-48 w-full bg-gray-50 dark:bg-gray-900/50 rounded-xl mb-6 border border-gray-200 dark:border-gray-800 overflow-hidden relative",children:M.jsx(WK,{width:"100%",height:"100%",children:M.jsxs(Ore,{data:c,children:[M.jsx("defs",{children:M.jsxs("linearGradient",{id:"colorVal",x1:"0",y1:"0",x2:"0",y2:"1",children:[M.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.3}),M.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),M.jsx(z4,{domain:["auto","auto"],hide:!0}),M.jsx(q4,{type:"monotone",dataKey:"val",stroke:"#0ea5e9",strokeWidth:2,fillOpacity:1,fill:"url(#colorVal)"})]})})}),M.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-xl border border-gray-200 dark:border-gray-800 mb-6 min-h-[100px]",children:a?M.jsx(Cc,{text:"AI Analyzing Market Structure..."}):i?M.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs leading-relaxed",children:i}):M.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:"Click Analyze to generate insights."})}),M.jsx(ho,{className:"w-full bg-sky-600 text-white",onClick:()=>m(),children:"Full Analysis"})]})]})},_ve=({initialGroupId:t})=>{const[e,n]=R.useState(!1),[r,i]=R.useState([]),[o,a]=R.useState(null),[u,c]=R.useState(""),[d,h]=R.useState([]),[m]=R.useState("me");R.useEffect(()=>{const S=uve(m,b=>{i(b)});return()=>S()},[m]),R.useEffect(()=>{if(t&&r.length>0){const S=r.find(b=>b.id===t);S&&a(S)}},[t,r]),R.useEffect(()=>{if(o){const S=cve(o.id,b=>{h(b)});return()=>S()}},[o==null?void 0:o.id]);const y=async S=>{try{const b=Math.random().toString(36).substr(2,6).toUpperCase(),x={name:S.name,description:`${S.topic} Community`,avatar:"globe",type:S.type,isPrivate:S.isPrivate,password:S.password,topic:S.topic,createdBy:m,members:[m],inviteCode:b},N=await lve(x);console.log("Group created:",N),n(!1)}catch(b){console.error("Error creating group:",b),alert("Failed to create group")}},A=async()=>{if(!(!u.trim()||!o))try{const S={authorName:"User",authorAvatar:"trader-1",text:u,type:"text"};await fve(o.id,S),c("")}catch(S){console.error("Error sending message:",S)}};return M.jsxs(tf,{children:[o?M.jsxs("div",{className:"h-[80vh] flex flex-col",children:[M.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[M.jsx("button",{onClick:()=>a(null),className:"text-sm text-gray-500 hover:text-sky-500",children:" Back"}),M.jsx("h2",{className:"font-bold text-xl",children:o.name}),M.jsxs("button",{className:"text-xs bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded flex items-center gap-1",onClick:()=>{navigator.clipboard.writeText(`https://tradesnapai.web.app/join/${o.inviteCode}`),alert("Invite link copied to clipboard!")},children:[M.jsx(It,{name:"copy",className:"h-3 w-3"})," Invite"]})]}),M.jsxs("div",{className:"flex-grow bg-gray-50 dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 p-4 overflow-y-auto",children:[d.length===0&&M.jsx("div",{className:"text-center text-gray-400 text-sm my-4",children:"Welcome to the chat! Be the first to send a message."}),d.map(S=>M.jsxs("div",{className:"mb-4 flex gap-3",children:[M.jsx(I3,{avatar:S.authorAvatar,className:"h-8 w-8"}),M.jsxs("div",{children:[M.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[M.jsx("span",{className:"font-bold text-sm",children:S.authorName}),M.jsx("span",{className:"text-xs text-gray-400",children:new Date(S.timestamp).toLocaleTimeString()})]}),S.type==="text"&&M.jsx("p",{className:"text-sm",children:S.text}),S.type==="image"&&S.mediaUrl&&M.jsx("img",{src:S.mediaUrl,alt:"Shared",className:"rounded-lg max-w-sm mt-2"})]})]},S.id))]}),M.jsxs("div",{className:"mt-4 flex gap-2",children:[M.jsx("input",{value:u,onChange:S=>c(S.target.value),onKeyDown:S=>S.key==="Enter"&&A(),className:"flex-grow bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-4",placeholder:"Type a message..."}),M.jsx(ho,{onClick:A,children:M.jsx(It,{name:"send"})})]})]}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"flex justify-between items-end mb-8",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-3xl font-bold",children:"Community"}),M.jsx("p",{className:"text-gray-500",children:"Join active trading rooms"})]}),M.jsxs(ho,{onClick:()=>n(!0),children:[M.jsx(It,{name:"plus"})," Create Group"]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.length===0&&M.jsx("div",{className:"col-span-3 text-center text-gray-500 py-10",children:"No groups yet. Create one!"}),r.map(S=>M.jsxs(Zd,{onClick:()=>a(S),className:"hover:border-sky-500 cursor-pointer relative",children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx("h3",{className:"font-bold text-lg",children:S.name}),S.isPrivate&&M.jsx(It,{name:"lock",className:"h-4 w-4 text-gray-400"})]}),M.jsx("p",{className:"text-sm text-gray-500",children:S.description}),M.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[M.jsxs("div",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-800 p-1 px-2 rounded inline-block",children:["Invite: ",S.inviteCode]}),M.jsx("button",{onClick:b=>{b.stopPropagation(),navigator.clipboard.writeText(`https://tradesnapai.web.app/join/${S.inviteCode}`),alert("Invite link copied!")},className:"text-xs text-sky-500 hover:underline",children:"Copy Link"})]})]},S.id))]})]}),e&&M.jsx(Tce,{onClose:()=>n(!1),onCreate:y})]})},gl=hve,Tve=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(""),[i,o]=R.useState(!1),[a,u]=R.useState(""),[c,d]=R.useState(!1);R.useEffect(()=>{if(t){d(!0),u(""),`${t.category}${t.title}`;const m=`https://placehold.co/800x400/111827/0ea5e9?text=${encodeURIComponent(t.title)}+Chart&font=roboto`;setTimeout(()=>{u(m),d(!1)},1e3)}},[t]);const h=async()=>{if(!t)return;o(!0),r("");const m=`${t.title} - ${t.description}`,y=await hce(m);r(y),o(!1)};return R.useEffect(()=>{console.log("TraderLab - Topics loaded:",gl),console.log("TraderLab - Topics count:",gl==null?void 0:gl.length)},[]),M.jsx(tf,{children:t?M.jsxs("div",{className:"max-w-2xl mx-auto",children:[M.jsx("button",{onClick:()=>e(null),className:"mb-4 text-sm text-gray-500 hover:text-sky-500 flex items-center gap-2",children:" Back to Topics"}),M.jsx("div",{className:"h-64 rounded-xl overflow-hidden mb-6 relative bg-gray-200 dark:bg-gray-800",children:c?M.jsx("div",{className:"w-full h-full flex items-center justify-center",children:M.jsx(Cc,{text:"Generating AI image..."})}):M.jsxs(M.Fragment,{children:[M.jsx("img",{src:a,onError:m=>m.currentTarget.src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?auto=format&fit=crop&w=800&q=80",className:"w-full h-full object-cover",alt:t.title}),M.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:M.jsxs("div",{children:[M.jsx("div",{className:"text-xs text-cyan-400 uppercase tracking-wider mb-1",children:t.category}),M.jsx("h2",{className:"text-3xl font-bold text-white",children:t.title})]})})]})}),M.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800 mb-4",children:[M.jsx("h3",{className:"font-bold text-lg mb-2",children:"Overview"}),M.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.description}),M.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-500",children:[M.jsx("span",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800",children:t.difficulty}),M.jsx("span",{children:""}),M.jsx("span",{children:t.category})]})]}),M.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800 mb-6 min-h-[150px] shadow-inner",children:i?M.jsx(Cc,{text:"AI is explaining..."}):n?M.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm leading-relaxed text-gray-800 dark:text-gray-200",children:n}):M.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:"Tap the button below to get an AI-powered detailed explanation."})}),M.jsxs(ho,{onClick:h,disabled:i,className:"w-full py-4 text-lg shadow-xl bg-gradient-to-r from-sky-600 to-indigo-600 border-0",children:[M.jsx(It,{name:"spark"})," Explain it to me"]})]}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"mb-8",children:[M.jsx("h2",{className:"text-3xl font-bold",children:"TraderLab"}),M.jsx("p",{className:"text-gray-500",children:"Master trading concepts with AI-powered explanations."})]}),!gl||gl.length===0?M.jsx("div",{className:"text-center py-12",children:M.jsx("p",{className:"text-gray-500",children:"Loading topics..."})}):M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:gl.map(m=>M.jsxs(Zd,{className:"cursor-pointer hover:scale-[1.02] transition-all p-6 border-0 shadow-md group",children:[M.jsxs("div",{className:"mb-4",children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx("div",{className:"text-xs font-bold text-sky-600 dark:text-cyan-400 uppercase tracking-wider",children:m.category}),M.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400",children:m.difficulty})]}),M.jsx("h3",{className:"font-bold text-lg mb-2",children:m.title}),M.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:m.description})]}),M.jsxs(ho,{onClick:()=>e(m),className:"w-full mt-4 bg-gradient-to-r from-sky-600 to-indigo-600 border-0",children:[M.jsx(It,{name:"arrowRight"})," Open"]})]},m.id))})]})})},Eve=()=>{const[t,e]=R.useState("stock"),[n,r]=R.useState(""),[i,o]=R.useState(""),[a,u]=R.useState(!1),[c,d]=R.useState(null),[h,m]=R.useState(""),[y,A]=R.useState("4H"),S=async()=>{if(u(!0),o(""),t==="stock"){if(!n)return;const b=await x3(n);o(b)}else{if(!c)return;const b=new FileReader;b.readAsDataURL(c),b.onloadend=async()=>{const x=b.result.split(",")[1],N=await dce(x,c.type,y);o(N)}}u(!1)};return M.jsx(tf,{children:M.jsxs("div",{className:"max-w-4xl mx-auto",children:[M.jsx(vce,{active:t,onChange:e,tabs:[{id:"stock",label:"Stock Analyzer"},{id:"chart",label:"Chart Analyzer"}]}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"space-y-6",children:[t==="stock"?M.jsxs(Zd,{className:"h-full flex flex-col justify-center",children:[M.jsxs("div",{className:"text-center mb-6",children:[M.jsx("div",{className:"h-16 w-16 bg-sky-100 dark:bg-sky-900/30 text-sky-600 rounded-full flex items-center justify-center mx-auto mb-4",children:M.jsx(It,{name:"search",className:"h-8 w-8"})}),M.jsx("h3",{className:"text-xl font-bold",children:"Stock Analyzer"}),M.jsx("p",{className:"text-sm text-gray-500",children:"Enter a symbol (e.g., AAPL, BTC)"})]}),M.jsx("input",{value:n,onChange:b=>r(b.target.value),placeholder:"Symbol...",className:"w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-3 focus:ring-2 ring-sky-500 outline-none font-mono uppercase mb-4"})]}):M.jsxs(Zd,{className:"h-full",children:[M.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl p-8 text-center hover:border-sky-500 transition-colors relative min-h-[200px] flex flex-col items-center justify-center",children:[M.jsx("input",{type:"file",onChange:b=>{var N;const x=(N=b.target.files)==null?void 0:N[0];x&&(d(x),m(URL.createObjectURL(x)))},className:"absolute inset-0 opacity-0 cursor-pointer z-10"}),h?M.jsx("img",{src:h,className:"max-h-40 mx-auto rounded shadow-lg"}):M.jsxs("div",{className:"text-gray-500",children:[M.jsx(It,{name:"upload",className:"mx-auto h-12 w-12 mb-3 text-gray-400"}),M.jsx("p",{children:"Upload Chart"})]})]}),M.jsxs("div",{className:"mt-4",children:[M.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Timeframe"}),M.jsx("select",{value:y,onChange:b=>A(b.target.value),className:"w-full bg-gray-100 dark:bg-gray-800 rounded px-3 py-2 text-sm outline-none",children:["15m","1H","4H","1D","1W"].map(b=>M.jsx("option",{children:b},b))})]})]}),M.jsx(ho,{className:"w-full py-3 font-bold text-lg",onClick:S,disabled:a||(t==="stock"?!n:!c),children:"Analyze"})]}),M.jsx("div",{className:"h-full",children:M.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-xl p-6 min-h-[400px] border border-gray-200 dark:border-gray-800 shadow-inner relative overflow-hidden",children:[M.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Analysis Output"}),a?M.jsx(Cc,{text:"AI Analyzing..."}):i?M.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm leading-relaxed relative z-10",children:i}):M.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 mt-10",children:M.jsx("p",{children:"Result appears here."})})]})})]})]})})},Ave=({profile:t,onProfileUpdate:e,onLogout:n})=>{const[r,i]=R.useState(t),[o,a]=R.useState(!1),[u,c]=R.useState(null),d=h=>{var m;if((m=h.target.files)!=null&&m[0]){const y=new FileReader;y.onload=A=>{var S,b;c((S=A.target)==null?void 0:S.result),i({...r,avatar:(b=A.target)==null?void 0:b.result}),a(!1)},y.readAsDataURL(h.target.files[0])}};return M.jsxs(tf,{className:"max-w-4xl",children:[M.jsx("div",{className:"h-48 rounded-2xl relative mb-16 shadow-lg overflow-hidden",style:{background:r.themeColor?`linear-gradient(45deg, ${r.themeColor}, #1e1b4b)`:"linear-gradient(to right, #0ea5e9, #4338ca)"},children:M.jsxs("div",{className:"absolute -bottom-12 left-1/2 -translate-x-1/2 text-center",children:[M.jsxs("div",{className:"relative inline-block",children:[M.jsx(I3,{avatar:r.avatar,className:"h-28 w-28 border-4 border-white dark:border-[#0a0e1a] shadow-2xl"}),M.jsx("button",{onClick:()=>a(!0),className:"absolute bottom-0 right-0 bg-sky-600 text-white p-2 rounded-full shadow-lg hover:bg-sky-700 transition-colors",children:M.jsx(It,{name:"upload",className:"h-4 w-4"})})]}),M.jsxs("h2",{className:"text-2xl font-bold mt-2 dark:text-white",children:[r.name," "]}),M.jsxs("p",{className:"text-sky-600 dark:text-sky-400 font-medium text-sm",children:["@",r.username,"  ",t.stats.rank]})]})}),M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 mt-12",children:[{label:"XP Points",val:t.stats.xp,icon:"spark"},{label:"Analyses",val:t.stats.analysesRun,icon:"search"},{label:"Groups",val:t.stats.groupsJoined,icon:"community"},{label:"Rank",val:t.stats.rank,icon:"badge"}].map((h,m)=>M.jsxs(Zd,{className:"text-center py-6",children:[M.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 w-10 h-10 rounded-full flex items-center justify-center mx-auto mb-2",children:M.jsx(It,{name:h.icon,className:"text-gray-500"})}),M.jsx("div",{className:"text-xl font-bold",children:h.val}),M.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold",children:h.label})]},m))}),M.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 border border-gray-200 dark:border-gray-800 mb-6",children:[M.jsx("h3",{className:"font-bold text-lg mb-6",children:"Theme Color"}),M.jsx(Ece,{current:r.themeColor||"#0ea5e9",onChange:h=>i({...r,themeColor:h})})]}),M.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 border border-gray-200 dark:border-gray-800 mb-6",children:[M.jsx("h3",{className:"font-bold text-lg mb-6",children:"Edit Profile"}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-2 block",children:"Display Name"}),M.jsx("input",{value:r.name,onChange:h=>i({...r,name:h.target.value}),className:"w-full bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-xl p-3 focus:ring-2 ring-sky-500 outline-none"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-2 block",children:"Username"}),M.jsx("input",{value:r.username,onChange:h=>i({...r,username:h.target.value}),className:"w-full bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-xl p-3 focus:ring-2 ring-sky-500 outline-none"})]})]}),M.jsx(ho,{className:"w-full py-3 text-base",onClick:()=>e(r),children:"Save Changes"})]}),M.jsx("div",{className:"text-center",children:M.jsxs(ho,{variant:"danger",className:"w-full md:w-auto px-8",onClick:n,children:[M.jsx(It,{name:"logout",className:"h-5 w-5"})," Logout"]})}),o&&M.jsxs(nb,{onClose:()=>a(!1),children:[M.jsx("h3",{className:"text-lg font-bold mb-6 text-center",children:"Select Avatar"}),M.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:Object.keys(SA).map(h=>M.jsx("img",{src:SA[h],className:"rounded-full w-full aspect-square object-cover cursor-pointer hover:ring-4 ring-sky-500",onClick:()=>{i({...r,avatar:h}),a(!1)}},h))}),M.jsx("div",{className:"border-t pt-4 text-center",children:M.jsxs("label",{className:"cursor-pointer text-sm text-sky-600 font-bold hover:underline",children:["+ Upload Custom Image",M.jsx("input",{type:"file",hidden:!0,onChange:d})]})})]})]})},Sve=()=>{const[t,e]=R.useState([]);return R.useEffect(()=>{gce().then(e)},[]),M.jsxs(tf,{children:[M.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Global Intelligence"}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length?t.map((n,r)=>M.jsx(_ce,{article:n,onReadMore:i=>window.open(i,"_blank")},r)):M.jsx(Cc,{text:"Fetching intelligence..."})})]})},wve=async(t,e)=>{try{const r=(await mge(rC,t,e)).user,i=t.split("@")[0],o={uid:r.uid,name:i,displayName:i,username:i.replace(/[^a-zA-Z0-9]/g,""),email:t,avatar:"trader-1",bio:"",country:"US",experience:"Beginner",onboardingCompleted:!1,isGuest:!1,createdAt:new Date,lastLogin:new Date,theme:"dark",themeColor:"#0ea5e9",groupsJoined:[],traderLabProgress:{},stats:{analysesRun:0,chartsUploaded:0,groupsJoined:0,xp:0,rank:"Bronze",badges:[],balance:1e4,pnl:0}};return await ly(ha(ri,"users",r.uid),{...o,createdAt:pa(),lastLogin:pa()}),localStorage.setItem("tradesnap_uid",r.uid),localStorage.setItem("tradesnap_email",t),o}catch(n){throw console.error("Signup error:",n),new Error(uB(n.code))}},bve=async(t,e)=>{var n;try{const i=(await gge(rC,t,e)).user,o=await EF(ha(ri,"users",i.uid));let a;if(o.exists()){const u=o.data();a={uid:i.uid,...u,createdAt:(n=u.createdAt)!=null&&n.toDate?u.createdAt.toDate():new Date,lastLogin:new Date},await ly(ha(ri,"users",i.uid),{lastLogin:pa()},{merge:!0})}else{const u=t.split("@")[0];a={uid:i.uid,name:u,displayName:u,username:u.replace(/[^a-zA-Z0-9]/g,""),email:t,avatar:"trader-1",bio:"",country:"US",experience:"Beginner",onboardingCompleted:!1,isGuest:!1,createdAt:new Date,lastLogin:new Date,theme:"dark",themeColor:"#0ea5e9",groupsJoined:[],traderLabProgress:{},stats:{analysesRun:0,chartsUploaded:0,groupsJoined:0,xp:0,rank:"Bronze",badges:[],balance:1e4,pnl:0}},await ly(ha(ri,"users",i.uid),{...a,createdAt:pa(),lastLogin:pa()})}return localStorage.setItem("tradesnap_uid",i.uid),localStorage.setItem("tradesnap_email",t),a}catch(r){throw console.error("Login error:",r),new Error(uB(r.code))}},Cve=async t=>{var e;try{const n=await EF(ha(ri,"users",t));if(n.exists()){const r=n.data();return{uid:t,...r,createdAt:(e=r.createdAt)!=null&&e.toDate?r.createdAt.toDate():new Date}}}catch(n){console.error("Error fetching profile:",n)}return null},xve=async()=>{try{await _ge(rC),localStorage.removeItem("tradesnap_uid"),localStorage.removeItem("tradesnap_email"),localStorage.removeItem("tradesnap_user_profile"),localStorage.removeItem("tradesnap_guest")}catch(t){console.error("Error signing out:",t)}},Ive=async()=>{const t=localStorage.getItem("tradesnap_uid");return t?await Cve(t):null},uB=t=>{switch(t){case"auth/invalid-email":return"Invalid email address.";case"auth/user-disabled":return"This user account has been disabled.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/email-already-in-use":return"An account already exists with this email.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-credential":return"Invalid email or password.";case"auth/too-many-requests":return"Too many failed login attempts. Please try again later.";default:return"Authentication failed. Please try again."}};function Rve(){V8();const[t,e]=UL("tradesnap_user_profile",null),[n,r]=R.useState("Home"),[i,o]=R.useState("login"),[a,u]=R.useState(""),[c,d]=R.useState(""),[h,m]=R.useState(""),[y,A]=R.useState(!1),[S,b]=R.useState(""),x=P=>{const D=window.document.documentElement;if(D.classList.remove("light","dark","ocean","forest","sunset"),D.classList.add(P),t){const L={...t,theme:P};e(L),tO(L)}},N=P=>{e(P),tO(P)};R.useEffect(()=>{t!=null&&t.theme&&x(t.theme)},[t==null?void 0:t.theme]);const[B,k]=R.useState(void 0);R.useEffect(()=>{const P=window.location.pathname;if(P.startsWith("/join/")){const D=P.split("/join/")[1];D&&(localStorage.setItem("pendingInviteCode",D),window.history.replaceState({},"","/"))}},[]),R.useEffect(()=>{(async()=>{const D=localStorage.getItem("pendingInviteCode");if(D&&t)try{const L=await dve(D,t.uid);L&&(k(L),r("Community"),localStorage.removeItem("pendingInviteCode"))}catch(L){console.error("Failed to join group from invite:",L)}})()},[t]),R.useEffect(()=>{(async()=>{const D=await Ive();D&&(e(D),D.theme&&x(D.theme))})()},[]);const H=async()=>{if(!a||!c){b("Please fill in all fields");return}A(!0),b("");try{const P=await bve(a,c);e(P),r("Home")}catch(P){b(P.message||"Login failed")}finally{A(!1)}},F=async()=>{if(!a||!c||!h){b("Please fill in all fields");return}if(c!==h){b("Passwords do not match");return}if(c.length<6){b("Password must be at least 6 characters");return}A(!0),b("");try{const P=await wve(a,c);e(P),r("Home")}catch(P){console.error("Signup error in App.tsx:",P);const D=P.message||"Signup failed";console.log("Setting error message:",D),b(D)}finally{A(!1)}},G=async()=>{await xve(),e(null),u(""),d(""),m(""),o("login"),r("Home")};return t?M.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-[#0a0e1a] text-gray-900 dark:text-gray-100 font-sans transition-colors duration-300",children:[M.jsx(yce,{page:n,setPage:r,theme:(t==null?void 0:t.theme)||"dark",setTheme:x,themeColor:t==null?void 0:t.themeColor}),M.jsx("main",{className:"pt-20 pb-24 md:pb-8 px-4 max-w-7xl mx-auto",children:M.jsx(XO,{mode:"wait",children:M.jsxs(mr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[n==="Home"&&M.jsx(mve,{userProfile:t,setPage:r}),n==="Market"&&M.jsx(vve,{}),n==="News"&&M.jsx(Sve,{}),n==="Analyzer"&&M.jsx(Eve,{}),n==="TraderLab"&&M.jsx(Tve,{}),n==="Community"&&M.jsx(_ve,{initialGroupId:B}),n==="Profile"&&M.jsx(Ave,{profile:t,onProfileUpdate:N,onLogout:G})]},n)})}),M.jsx("div",{className:"fixed bottom-0 left-0 w-full text-center py-2 bg-white/80 dark:bg-black/80 backdrop-blur-md text-[10px] text-gray-500 z-40 border-t border-gray-200 dark:border-gray-800",children:"Not financial advice. Use at your own risk."})]}):M.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] text-white p-4 relative overflow-hidden",children:[M.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-sky-500/20 rounded-full blur-[100px] animate-pulse"}),M.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/20 rounded-full blur-[100px] animate-pulse delay-1000"}),M.jsxs(mr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:[M.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl shadow-2xl p-8",children:[M.jsxs("div",{className:"text-center mb-8",children:[M.jsx("div",{className:"w-16 h-16 bg-gradient-to-tr from-sky-500 to-blue-600 rounded-xl mx-auto mb-4 flex items-center justify-center shadow-lg shadow-sky-500/30",children:M.jsx(It,{name:"trending-up",className:"h-8 w-8 text-white"})}),M.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400",children:"Tradesnap"}),M.jsx("p",{className:"text-gray-400 mt-2",children:"AI-Powered Trading Simulator"})]}),M.jsxs("div",{className:"space-y-4",children:[S&&M.jsx(mr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-500/10 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg text-sm text-center",children:S}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-gray-400 mb-2 ml-1",children:"Email Address"}),M.jsx("input",{type:"email",value:a,onChange:P=>u(P.target.value),placeholder:"name@example.com",className:"w-full p-3.5 rounded-xl bg-black/20 border border-white/10 focus:border-sky-500 focus:ring-1 focus:ring-sky-500 outline-none transition-all text-white placeholder-gray-600"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-gray-400 mb-2 ml-1",children:"Password"}),M.jsx("input",{type:"password",value:c,onChange:P=>d(P.target.value),placeholder:"",className:"w-full p-3.5 rounded-xl bg-black/20 border border-white/10 focus:border-sky-500 focus:ring-1 focus:ring-sky-500 outline-none transition-all text-white placeholder-gray-600"})]}),i==="signup"&&M.jsxs(mr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[M.jsx("label",{className:"block text-sm text-gray-400 mb-2 ml-1",children:"Confirm Password"}),M.jsx("input",{type:"password",value:h,onChange:P=>m(P.target.value),placeholder:"",className:"w-full p-3.5 rounded-xl bg-black/20 border border-white/10 focus:border-sky-500 focus:ring-1 focus:ring-sky-500 outline-none transition-all text-white placeholder-gray-600 mb-4"})]}),M.jsx("button",{onClick:i==="login"?H:F,disabled:y,className:"w-full py-3.5 rounded-xl bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-500 text-white font-semibold shadow-lg shadow-sky-500/20 transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-6",children:y?M.jsx(Cc,{size:"sm"}):i==="login"?"Sign In":"Create Account"}),M.jsxs("div",{className:"relative my-6",children:[M.jsx("div",{className:"absolute inset-0 flex items-center",children:M.jsx("div",{className:"w-full border-t border-white/10"})}),M.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:M.jsx("span",{className:"px-2 bg-[#161e2e] text-gray-500",children:"Or"})})]}),M.jsx("button",{onClick:()=>{o(i==="login"?"signup":"login"),b(""),d(""),m("")},className:"w-full py-3.5 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 text-gray-300 font-medium transition-all hover:text-white",children:i==="login"?"Create an Account":"Back to Login"})]})]}),M.jsx("p",{className:"text-center text-xs text-gray-600 mt-8",children:"By continuing, you agree to our Terms of Service and Privacy Policy."})]})]})}const cB=document.getElementById("root");if(!cB)throw new Error("Could not find root element to mount to");const Pve=ez.createRoot(cB);Pve.render(M.jsx(nO.StrictMode,{children:M.jsx(Rve,{})}));
